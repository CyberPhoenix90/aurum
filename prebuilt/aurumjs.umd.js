!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.aurumjs={})}(this,function(t){var e=function(t){var e=this;this.subscribeChannel=[],this.subscribeOnceChannel=[],this.throttleCount=0,this.onAfterFire=[],t&&(t.observable&&this.makeObservable(),t.cancellationToken&&t.cancellationToken.addCancelable(function(){return e.cancelAll()}),t.throttled&&(this.throttle=t.throttled))},n={subscriptions:{configurable:!0},oneTimeSubscriptions:{configurable:!0}};n.subscriptions.get=function(){return this.subscribeChannel.length},n.oneTimeSubscriptions.get=function(){return this.subscribeOnceChannel.length},e.prototype.linkEvent=function(t){this.linkedEvents||(this.linkedEvents=[]),this.linkedEvents.push(t)},e.prototype.unlinkEvent=function(t){if(!this.linkedEvents||!this.linkedEvents.includes(t))throw new Error("Cannot unlink event that is not linked");this.linkedEvents.splice(this.linkedEvents.indexOf(t),1)},e.prototype.makeObservable=function(){this.onSubscribe||(this.onSubscribe=new e,this.onSubscribeOnce=new e,this.onCancelAll=new e,this.onCancel=new e)},e.prototype.swapSubscriptions=function(t){var e=this.subscribeChannel,n=this.subscribeOnceChannel;this.subscribeChannel=t.subscribeChannel,this.subscribeOnceChannel=t.subscribeOnceChannel,t.subscribeChannel=e,t.subscribeOnceChannel=n},e.prototype.subscribe=function(t,e){return this.onSubscribe&&this.onSubscribe.fire(),this.createSubscription(t,this.subscribeChannel,e).facade},e.prototype.hasSubscriptions=function(){return this.subscriptions>0||this.oneTimeSubscriptions>0},e.prototype.subscribeOnce=function(t){var e=this;return this.onSubscribeOnce&&this.onSubscribeOnce.fire(),new Promise(function(n){e.createSubscription(function(t){return n(t)},e.subscribeOnceChannel,t)})},e.prototype.cancelAll=function(){void 0!==this.onCancelAll&&this.onCancelAll.fire()},e.prototype.fire=function(t,e,n,o,r){if(!this.throttle||this.throttleCount++%this.throttle==0){this.isFiring=!0;for(var i=this.subscribeChannel.length,c=0;c<i;c++)this.subscribeChannel[c].callback(t);if(i=this.subscribeOnceChannel.length,this.subscribeOnceChannel.length>0){for(var a=0;a<i;a++)this.subscribeOnceChannel[a].callback(t);this.subscribeOnceChannel.length=0}if(this.linkedEvents)for(var s=0,u=this.linkedEvents;s<u.length;s+=1)u[s].fire(t,e,n,o,r);this.isFiring=!1,this.onAfterFire.length>0&&(this.onAfterFire.forEach(function(t){return t()}),this.onAfterFire.length=0)}},e.prototype.createSubscription=function(t,e,n){var o=this,r={callback:t},i={cancel:function(){o.cancel(r,e)}};return void 0!==n&&n.addCancelable(function(){return o.cancel(r,e)}),e.push(r),{subscription:r,facade:i}},e.prototype.cancel=function(t,e){var n=this,o=e.indexOf(t);o>=0&&(this.isFiring?this.onAfterFire.push(function(){return n.cancel(t,e)}):e.splice(o,1))},Object.defineProperties(e.prototype,n);var o=function(t){this.value=t,this.listeners=[]};o.prototype.update=function(t){this.value=t;for(var e=0,n=this.listeners;e<n.length;e+=1)(0,n[e])(t)},o.prototype.listen=function(t,e){var n,o=this;this.listeners.push(t);var r=function(){var e=o.listeners.indexOf(t);-1!==e&&o.listeners.splice(e,1)};return null===(n=e)||void 0===n||n.addCancelable(function(){r()}),r},o.prototype.filter=function(t,e){var n=new o;return this.listen(function(e){t(e)&&n.update(e)},e),n},o.prototype.pipe=function(t,e){this.listen(function(e){return t.update(e)},e)},o.prototype.map=function(t,e){var n=new o(t(this.value));return this.listen(function(e){n.update(t(e))},e),n},o.prototype.unique=function(t){var e=new o(this.value);return this.listen(function(t){t!==e.value&&e.update(t)},t),e},o.prototype.reduce=function(t,e,n){var r=new o(e);return this.listen(function(e){return r.update(t(r.value,e))},n),r},o.prototype.aggregate=function(t,e,n){var r=this,i=new o(e(this.value,t.value));return this.listen(function(){return i.update(e(r.value,t.value))},n),t.listen(function(){return i.update(e(r.value,t.value))},n),i},o.prototype.combine=function(t,e){var n=new o;return this.pipe(n,e),t.pipe(n,e),n},o.prototype.debounce=function(t,e){var n=new o;return this.listen(function(e){clearTimeout(void 0),setTimeout(function(){n.update(e)},t)},e),n},o.prototype.buffer=function(t,e){var n,r=new o,i=[];return this.listen(function(e){i.push(e),n||setTimeout(function(){n=void 0,r.update(i),i=[]},t)},e),r},o.prototype.queue=function(t,e){var n=new r;return this.listen(function(t){n.push(t)},e),n},o.prototype.pick=function(t,e){var n,r=new o(null===(n=this.value)||void 0===n?void 0:n[t]);return this.listen(function(e){r.update(null!=e?e[t]:e)},e),r},o.prototype.cancelAll=function(){this.listeners.length=0};var r=function(t){this.data=t?t.slice():[],this.onChange=new e},i={length:{configurable:!0}};i.length.get=function(){return this.data.length},r.prototype.getData=function(){return this.data.slice()},r.prototype.get=function(t){return this.data[t]},r.prototype.set=function(t,e){var n=this.data[t];n!==e&&(this.data[t]=e,this.onChange.fire({operation:"replace",target:n,count:1,index:t,items:[e],newState:this.data}))},r.prototype.swap=function(t,e){if(t!==e){var n=this.data[t],o=this.data[e];this.data[e]=n,this.data[t]=o,this.onChange.fire({operation:"swap",index:t,index2:e,items:[n,o],newState:this.data})}},r.prototype.swapItems=function(t,e){if(t!==e){var n=this.data.indexOf(t),o=this.data.indexOf(e);-1!==n&&-1!==o&&(this.data[o]=t,this.data[n]=e),this.onChange.fire({operation:"swap",index:n,index2:o,items:[t,e],newState:this.data})}},r.prototype.push=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];(t=this.data).push.apply(t,e),this.onChange.fire({operation:"append",count:e.length,index:this.data.length-e.length,items:e,newState:this.data})},r.prototype.unshift=function(){for(var t,e=[],n=arguments.length;n--;)e[n]=arguments[n];(t=this.data).unshift.apply(t,e),this.onChange.fire({operation:"prepend",count:e.length,items:e,index:0,newState:this.data})},r.prototype.pop=function(){var t=this.data.pop();return this.onChange.fire({operation:"remove",count:1,index:this.data.length,items:[t],newState:this.data}),t},r.prototype.merge=function(t){for(var e=0;e<t.length;e++)this.data[e]!==t[e]&&(this.length>e?this.set(e,t[e]):this.push(t[e]));this.length>t.length&&this.removeRight(this.length-t.length)},r.prototype.removeRight=function(t){var e=this.data.splice(this.length-t,t);this.onChange.fire({operation:"remove",count:t,index:this.length-t,items:e,newState:this.data})},r.prototype.removeLeft=function(t){var e=this.data.splice(0,t);this.onChange.fire({operation:"remove",count:t,index:0,items:e,newState:this.data})},r.prototype.remove=function(t){var e=this.data.indexOf(t);-1!==e&&(this.data.splice(e,1),this.onChange.fire({operation:"remove",count:1,index:e,items:[t],newState:this.data}))},r.prototype.clear=function(){var t=this.data;this.data=[],this.onChange.fire({operation:"remove",count:t.length,index:0,items:t,newState:this.data})},r.prototype.shift=function(){var t=this.data.shift();return this.onChange.fire({operation:"remove",items:[t],count:1,index:0,newState:this.data}),t},r.prototype.toArray=function(){return this.data.slice()},r.prototype.filter=function(t,e){return new c(this,t,e)},r.prototype.forEach=function(t,e){return this.data.forEach(t,e)},r.prototype.toDataSource=function(){var t=new o(this.data);return this.onChange.subscribe(function(e){t.update(e.newState)}),t},Object.defineProperties(r.prototype,i);var c=function(t){function e(e,n,o){var r=this,i=e.data.filter(n);t.call(this,i),this.parent=e,this.viewFilter=n,e.onChange.subscribe(function(t){var e,n,o;switch(t.operation){case"remove":for(var i=0,c=t.items;i<c.length;i+=1)r.remove(c[i]);break;case"prepend":o=t.items.filter(r.viewFilter),(e=r).unshift.apply(e,o);break;case"append":o=t.items.filter(r.viewFilter),(n=r).push.apply(n,o);break;case"swap":var a=r.data.indexOf(t.items[0]),s=r.data.indexOf(t.items[1]);-1!==a&&-1!==s&&r.swap(a,s);break;case"replace":var u=r.data.indexOf(t.target);-1!==u&&(r.viewFilter(t.items[0])?r.set(u,t.items[0]):r.remove(t.target))}},o)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.updateFilter=function(t){this.viewFilter!==t&&(this.viewFilter=t,this.refresh())},e.prototype.refresh=function(){var t;this.clear();var e=this.parent.data.filter(this.viewFilter);(t=this).push.apply(t,e)},e}(r),a=function(t){this.data=t};a.prototype.deleteNext=function(){if(this.next){var t=this.next.next;this.next.next=void 0,this.next.previous=void 0,this.next=t,this.next.previous=this}},a.prototype.deletePrevious=function(){this.previous&&(this.previous=this.previous.previous,this.previous.next=void 0,this.previous.previous=void 0)};var s=function(t){var e=this;void 0===t&&(t=[]),this.length=0,t.forEach(function(t){return e.append(t)})};s.prototype.find=function(t){for(var e=this.rootNode;e&&!t(e);)e=e.next;return e},s.prototype.append=function(t){return this.rootNode||this.lastNode?(this.lastNode.next=new a(t),this.lastNode.next.previous=this.lastNode,this.lastNode=this.lastNode.next):this.rootNode=this.lastNode=new a(t),this.length++,t},s.prototype.forEach=function(t){this.find(function(e){return t(e.data),!1})},s.prototype.prepend=function(t){return this.rootNode||this.lastNode?(this.rootNode.previous=new a(t),this.rootNode.previous.next=this.rootNode,this.rootNode=this.rootNode.previous):this.rootNode=this.lastNode=new a(t),this.length++,t},s.prototype.remove=function(t){if(t===this.rootNode.data)this.rootNode=this.rootNode.next,this.length--;else{var e=this.find(function(e){return e.next&&e.next.data===t});e&&(e.next===this.lastNode&&(this.lastNode=e),e.deleteNext(),this.length--)}};var u=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];this.cancelables=new s(t),this._isCancelled=!1},p={isCanceled:{configurable:!0}};p.isCanceled.get=function(){return this._isCancelled},u.prototype.addCancelable=function(t){return this.throwIfCancelled("attempting to add cancellable to token that is already cancelled"),this.cancelables.append(t),this.cancelables.length>200&&console.log("potential memory leak: cancellation token has over 200 clean up calls"),this},u.prototype.removeCancelable=function(t){return this.throwIfCancelled("attempting to remove cancellable from token that is already cancelled"),this.cancelables.remove(t),this},u.prototype.addDisposable=function(t){return this.addCancelable(function(){return t.dispose()}),this},u.prototype.callIfNotCancelled=function(t){this.isCanceled||t()},u.prototype.setTimeout=function(t,e){void 0===e&&(e=0);var n=setTimeout(t,e);this.addCancelable(function(){return clearTimeout(n)})},u.prototype.setInterval=function(t,e){var n=setInterval(t,e);this.addCancelable(function(){return clearInterval(n)})},u.prototype.requestAnimationFrame=function(t){var e=requestAnimationFrame(t);this.addCancelable(function(){return cancelAnimationFrame(e)})},u.prototype.animationLoop=function(t){var e=requestAnimationFrame(function n(o){t(o),e=requestAnimationFrame(n)});this.addCancelable(function(){return cancelAnimationFrame(e)})},u.prototype.throwIfCancelled=function(t){if(this.isCanceled)throw new Error(t||"cancellation token is cancelled")},u.prototype.chain=function(t,e){return void 0===e&&(e=!1),e&&t.chain(this,!1),this.addCancelable(function(){return t.cancel()}),this},u.prototype.registerDomEvent=function(t,e,n){return t.addEventListener(e,n),this.addCancelable(function(){return t.removeEventListener(e,n)}),this},u.prototype.cancel=function(){this.isCanceled||(this._isCancelled=!0,this.cancelables.forEach(function(t){return t()}),this.cancelables=void 0)},Object.defineProperties(u.prototype,p);var l=Symbol("owner"),h=function(t,e){var n,o;this.onDispose=t.onDispose,this.onAttach=t.onAttach,this.onDetach=t.onDetach,this.domNodeName=e,this.template=t.template,this.cancellationToken=new u,this.node=this.create(t),this.initialize(t),null===(o=(n=t).onCreate)||void 0===o||o.call(n,this)};h.prototype.initialize=function(t){this.node instanceof Text||(this.children=[]),this.createEventHandlers(["drag","name","dragstart","dragend","dragexit","dragover","dragenter","dragleave","blur","focus","click","dblclick","keydown","keyhit","keyup","mousedown","mouseup","mouseenter","mouseleave","mousewheel"],t);var e=Object.keys(t).filter(function(t){return t.startsWith("x-")||t.startsWith("data-")});this.bindProps(["id","draggable","tabindex","style","role","contentEditable"].concat(e),t),t.class&&this.handleClass(t.class),t.repeatModel&&this.handleRepeat(t.repeatModel)},h.prototype.bindProps=function(t,e){for(var n=0,o=t;n<o.length;n+=1){var r=o[n];e[r]&&this.assignStringSourceToAttribute(e[r],r)}},h.prototype.createEventHandlers=function(t,e){var n=this;if(!(this.node instanceof Text))for(var r=function(){var t=c[i],r="on"+t[0].toUpperCase()+t.slice(1),a=void 0;Object.defineProperty(n,r,{get:function(){return a||(a=new o),a},set:function(){throw new Error(r+" is read only")}}),e[r]&&(e[r]instanceof o?n[r].listen(e[r].update.bind(e.onClick),n.cancellationToken):"function"==typeof e[r]&&n[r].listen(e[r],n.cancellationToken)),n.cancellationToken.registerDomEvent(n.node,t,function(t){return n[r].update(t)})},i=0,c=t;i<c.length;i+=1)r()},h.prototype.handleRepeat=function(t){var e,n=this;this.repeatData=t instanceof r?t:new r(t),this.repeatData.length&&((e=this.children).push.apply(e,this.repeatData.toArray().map(function(t){return n.template.generate(t)})),this.render()),this.repeatData.onChange.subscribe(function(t){var e,o,r;switch(t.operation){case"swap":var i=n.children[t.index2];n.children[t.index2]=n.children[t.index],n.children[t.index]=i;break;case"append":(e=n.children).push.apply(e,t.items.map(function(t){return n.template.generate(t)}));break;case"prepend":(o=n.children).unshift.apply(o,t.items.map(function(t){return n.template.generate(t)}));break;case"remove":n.children.splice(t.index,t.count);break;default:n.children.length=0,(r=n.children).push.apply(r,n.repeatData.toArray().map(function(t){return n.template.generate(t)}))}n.render()})},h.prototype.render=function(){var t=this;this.rerenderPending||this.node instanceof Text||(setTimeout(function(){for(var e=0;e<t.children.length;e++){if(t.node.childNodes.length<=e){t.addChildrenDom(t.children.slice(e,t.children.length));break}if(t.node.childNodes[e][l]!==t.children[e]){if(!t.children.includes(t.node.childNodes[e][l])){var n=t.node.childNodes[e];n.remove(),n[l].handleDetach(),e--;continue}var o=t.getChildIndex(t.children[e].node);-1!==o?t.swapChildrenDom(e,o):t.addDomNodeAt(t.children[e].node,e)}}for(;t.node.childNodes.length>t.children.length;){var r=t.node.childNodes[t.node.childNodes.length-1];t.node.removeChild(r),r[l].handleDetach()}t.rerenderPending=!1}),this.rerenderPending=!0)},h.prototype.assignStringSourceToAttribute=function(t,e){var n=this;this.node instanceof Text||("string"==typeof t?this.node.setAttribute(e,t):(t.value&&this.node.setAttribute(e,t.value),t.unique(this.cancellationToken).listen(function(t){return n.node.setAttribute(e,t)},this.cancellationToken)))},h.prototype.handleAttach=function(){var t;null===(t=this.onAttach)||void 0===t||t.call(this,this);for(var e=0,n=this.node.childNodes;e<n.length;e+=1)n[e][l].handleAttach()},h.prototype.handleDetach=function(){var t;null===(t=this.onDetach)||void 0===t||t.call(this,this);for(var e=0,n=this.node.childNodes;e<n.length;e+=1)n[e][l].handleDetach()},h.prototype.handleClass=function(t){var e=this;if(!(this.node instanceof Text))if("string"==typeof t)this.node.className=t;else if(t instanceof o)t.value&&(Array.isArray(t.value)?(this.node.className=t.value.join(" "),t.unique(this.cancellationToken).listen(function(){e.node.className=t.value.join(" ")},this.cancellationToken)):(this.node.className=t.value,t.unique(this.cancellationToken).listen(function(){e.node.className=t.value},this.cancellationToken))),t.unique(this.cancellationToken).listen(function(t){return e.node.className=t},this.cancellationToken);else{var n=t.reduce(function(t,e){return"string"==typeof e?t+" "+e:e.value?t+" "+e.value:t},"");this.node.className=n;for(var r=0,i=t;r<i.length;r+=1){var c=i[r];c instanceof o&&c.unique(this.cancellationToken).listen(function(n){var o=t.reduce(function(t,e){return"string"==typeof e?t+" "+e:e.value?t+" "+e.value:t},"");e.node.className=o},this.cancellationToken)}}},h.prototype.resolveStringSource=function(t){return"string"==typeof t?t:t.value},h.prototype.create=function(t){var e=document.createElement(this.domNodeName);return e[l]=this,e},h.prototype.getChildIndex=function(t){for(var e=0,n=0,o=t.childNodes;n<o.length;n+=1){if(o[n]===t)return e;e++}return-1},h.prototype.hasChild=function(t){if(this.node instanceof Text)throw new Error("Text nodes don't have children");for(var e=0,n=t.children;e<n.length;e+=1)if(n[e]===t)return!0;return!1},h.prototype.addChildrenDom=function(t){if(this.node instanceof Text)throw new Error("Text nodes don't have children");for(var e=0,n=t;e<n.length;e+=1){var o=n[e];this.node.appendChild(o.node),o.handleAttach()}},h.prototype.swapChildrenDom=function(t,e){if(this.node instanceof Text)throw new Error("Text nodes don't have children");if(t!==e){var n=this.node.children[t],o=this.node.children[e];n.remove(),o.remove(),t<e?(this.addDomNodeAt(o,t),this.addDomNodeAt(n,e)):(this.addDomNodeAt(n,e),this.addDomNodeAt(o,t))}},h.prototype.addDomNodeAt=function(t,e){if(this.node instanceof Text)throw new Error("Text nodes don't have children");e>=this.node.childElementCount?(this.node.appendChild(t),t[l].handleAttach()):(this.node.insertBefore(t,this.node.children[e]),t[l].handleAttach())},h.prototype.remove=function(){this.hasParent()&&this.node.parentElement[l].removeChild(this.node)},h.prototype.hasParent=function(){return!!this.node.parentElement},h.prototype.isConnected=function(){return this.node.isConnected},h.prototype.removeChild=function(t){var e=this.children.indexOf(t);-1!==e&&this.children.splice(e,1),this.render()},h.prototype.removeChildAt=function(t){this.children.splice(t,1),this.render()},h.prototype.swapChildren=function(t,e){if(t!==e){var n=this.children[t];this.children[t]=this.children[e],this.children[e]=n,this.render()}},h.prototype.clearChildren=function(){if(this.node instanceof Text)throw new Error("Text nodes don't have children");this.children.length=0,this.render()},h.prototype.addChild=function(t){if(this.node instanceof Text)throw new Error("Text nodes don't have children");t instanceof d||(t=this.childNodeToAurum(t),this.children.push(t),this.render())},h.prototype.childNodeToAurum=function(t){return"string"==typeof t||t instanceof o?t=new f({text:t}):t instanceof h||(t=new f({text:t.toString()})),t},h.prototype.addChildAt=function(t,e){if(this.node instanceof Text)throw new Error("Text nodes don't have children");t instanceof d||(t=this.childNodeToAurum(t),this.children.splice(e,0,t),this.render())},h.prototype.addChildren=function(t){if(this.node instanceof Text)throw new Error("Text nodes don't have children");if(0!==t.length)for(var e=0,n=t;e<n.length;e+=1)this.addChild(n[e])},h.prototype.dispose=function(){this.internalDispose(!0)},h.prototype.internalDispose=function(t){var e;this.cancellationToken.cancel(),t&&this.remove();for(var n=0,o=this.node.childNodes;n<o.length;n+=1){var r=o[n];r[l]&&r[l].internalDispose(!1)}null===(e=this.onDispose)||void 0===e||e.call(this,this)};var d=function(t){function e(e){t.call(this,e,"template"),this.ref=e.ref,this.generate=e.generator}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),f=function(t){function e(e){var n=this;t.call(this,e,"textNode"),e.text instanceof o&&e.text.listen(function(t){return n.node.textContent=t},this.cancellationToken)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.create=function(t){var e=document.createTextNode(this.resolveStringSource(t.text));return e[l]=this,e},e}(h),y=function(){};y.attach=function(t,e){if(e[l])throw new Error("This node is already managed by aurum and cannot be used");e.appendChild(t.node),t.handleAttach(),e[l]=t},y.detach=function(t){t[l]&&(t[l].node.remove(),t[l].handleDetach(),t[l].dispose(),t[l]=void 0)},y.factory=function(t,e){for(var n,o=[],r=arguments.length-2;r-- >0;)o[r]=arguments[r+2];if("string"!=typeof t){for(var i,c,a=(n=[]).concat.apply(n,o).filter(function(t){return t}),s={},u=!1,p=0,l=a;p<l.length;p+=1){var h=l[p];"string"!=typeof h&&(h instanceof d&&(!h.ref||"default"===h.ref)&&(i=h),h.ref&&(s[h.ref]=h,u=!0))}return e=null!=e?e:{},i&&(e.template=i),u&&(e.templateMap=s),(c=t.prototype?new t(e||{}):t(e||{})).addChildren(a),c}};var v=function(t){function e(e){t.call(this,e,"button"),this.bindProps(["disabled"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),_=function(t){function e(e){t.call(this,e,"div")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),b=function(t){function e(e){var n,o,r,i=this;t.call(this,e,"input"),e.inputValueSource?(this.node.value=null!=(o=null!=(n=e.initialValue)?n:e.inputValueSource.value)?o:"",e.inputValueSource.unique().listen(function(t){return i.node.value=t},this.cancellationToken)):this.node.value=null!=(r=e.initialValue)?r:"",this.bindProps(["placeholder","readonly","disabled","accept","alt","autocomplete","autofocus","checked","defaultChecked","formAction","formEnctype","formMethod","formNoValidate","formTarget","max","maxLength","min","minLength","pattern","multiple","required","type"],e),this.createEventHandlers(["input","change"],e),e.inputValueSource&&this.onInput.map(function(t){return i.node.value}).pipe(e.inputValueSource)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),m=function(t){function e(e){t.call(this,e,"li")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),g=function(t){function e(e){t.call(this,e,"span")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),w=function(t){function e(e){t.call(this,e,"style"),this.bindProps(["media"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),C=function(t){function e(e){t.call(this,e,"ul")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),O=function(t){function e(e){t.call(this,e,"p")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),x=function(t){function e(e){t.call(this,e,"img"),this.bindProps(["src","alt","width","height","referrerPolicy","sizes","srcset","useMap"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),j=function(t){function e(e){t.call(this,e,"link"),this.bindProps(["href","rel","media","as","disabled","type"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),T=function(t){function e(e){t.call(this,e,"canvas"),this.bindProps(["width","height"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),S=function(t){function e(e){t.call(this,e,"a"),this.bindProps(["href","target"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),k=function(t){function e(e){t.call(this,e,"article")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),N=function(t){function e(e){t.call(this,e,"br")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),A=function(t){function e(e){t.call(this,e,"form")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),E=function(t){function e(e){t.call(this,e,"label"),this.bindProps(["for"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),D=function(t){function e(e){t.call(this,e,"ol")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),P=function(t){function e(e){t.call(this,e,"pre")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),F=function(t){function e(e){t.call(this,e,"progress"),this.bindProps(["max","value"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),V=function(t){function e(e){t.call(this,e,"table")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),q=function(t){function e(e){t.call(this,e,"td")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),I=function(t){function e(e){var n,o,r,i=this;t.call(this,e,"textArea"),e.inputValueSource?(this.node.value=null!=(o=null!=(n=e.initialValue)?n:e.inputValueSource.value)?o:"",e.inputValueSource.unique().listen(function(t){return i.node.value=t},this.cancellationToken)):this.node.value=null!=(r=e.initialValue)?r:"",this.bindProps(["placeholder","readonly","disabled","rows","wrap","autocomplete","autofocus","max","maxLength","min","minLength","required","type"],e),this.createEventHandlers(["input","change"],e),e.inputValueSource&&this.onInput.map(function(t){return i.node.value}).pipe(e.inputValueSource)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),H=function(t){function e(e){t.call(this,e,"th")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),L=function(t){function e(e){t.call(this,e,"tr")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),M=function(t){function e(e){t.call(this,e,"h1")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),R=function(t){function e(e){t.call(this,e,"h2")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),z=function(t){function e(e){t.call(this,e,"h3")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),B=function(t){function e(e){t.call(this,e,"h4")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),U=function(t){function e(e){t.call(this,e,"h5")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),W=function(t){function e(e){t.call(this,e,"h6")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),Q=function(t){function e(e){t.call(this,e,"header")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),G=function(t){function e(e){t.call(this,e,"footer")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),J=function(t){function e(e){t.call(this,e,"nav")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),K=function(t){function e(e){t.call(this,e,"b")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),X=function(t){function e(e){t.call(this,e,"i")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),Y=function(t){function e(e){t.call(this,e,"script"),this.bindProps(["src","async","defer","integrity","noModule","type"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),Z=function(t){function e(e){t.call(this,e,"abbr")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),$=function(t){function e(e){t.call(this,e,"area")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),tt=function(t){function e(e){t.call(this,e,"aside")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),et=function(t){function e(e){t.call(this,e,"audio"),this.bindProps(["controls","autoplay","loop","muted","preload","src"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),nt=function(t){function e(e){t.call(this,e,"em")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),ot=function(t){function e(e){t.call(this,e,"heading")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),rt=function(t){function e(e){t.call(this,e,"iframe"),this.bindProps(["src","srcdoc","width","height","allow","allowFullscreen","allowPaymentRequest"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),it=function(t){function e(e){t.call(this,e,"noscript")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),ct=function(t){function e(e){t.call(this,e,"option")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),at=function(t){function e(e){t.call(this,e,"q")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),st=function(t){function e(e){t.call(this,e,"select")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),ut=function(t){function e(e){t.call(this,e,"source"),this.bindProps(["src","srcSet","media","sizes","type"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),pt=function(t){function e(e){t.call(this,e,"title")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),lt=function(t){function e(e){t.call(this,e,"video"),this.bindProps(["controls","autoplay","loop","muted","preload","src","poster","width","height"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),ht=function(t){function e(e){t.call(this,e,"tbody")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),dt=function(t){function e(e){t.call(this,e,"tfoot")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),ft=function(t){function e(e){t.call(this,e,"thead")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),yt=function(t){function e(e){t.call(this,e,"summary")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),vt=function(t){function e(e){t.call(this,e,"details")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),_t=function(t){function e(e){t.call(this,e,"sub")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),bt=function(t){function e(e){t.call(this,e,"sup")}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),mt=function(t){function e(e){t.call(this,e,"svg"),this.bindProps(["width","height"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),gt=function(t){function e(e){t.call(this,e,"data"),this.bindProps(["datalue"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),wt=function(t){function e(e){t.call(this,e,"time"),this.bindProps(["datetime"],e)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h),Ct=function(t){function e(e){var n=this;t.call(this,e,"switch"),this.firstRender=!0,this.templateMap=e.templateMap,this.renderSwitch(e.state.value),e.state.listen(function(t){n.renderSwitch(t)},this.cancellationToken)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.renderSwitch=function(t){var e;if(t!==this.lastValue||this.firstRender)if(this.lastValue=t,this.firstRender=!1,this.clearChildren(),null!=t){var n=null!=(e=this.templateMap[t.toString()])?e:this.template;if(n){var o=n.generate();this.addChild(o)}}else if(this.template){var r=this.template.generate();this.addChild(r)}},e}(h),Ot=function(t){function e(e){var n=new o(location.hash.substring(1));t.call(this,Object.assign(Object.assign({},e),{state:n})),window.addEventListener("hashchange",function(){n.update(location.hash.substring(1))})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(Ct),xt=function(t){function e(e){var n=this;t.call(this,e,"suspense"),e.loader().then(function(t){n.clearChildren(),n.addChild(t)})}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e}(h);t.DataSource=o,t.ArrayDataSource=r,t.FilteredArrayView=c,t.EventEmitter=e,t.CancellationToken=u,t.Aurum=y,t.AurumElement=h,t.Template=d,t.TextNode=f,t.Button=v,t.Div=_,t.Input=b,t.Li=m,t.Span=g,t.Style=w,t.Ul=C,t.P=O,t.Img=x,t.Link=j,t.Canvas=T,t.A=S,t.Article=k,t.Br=N,t.Form=A,t.Label=E,t.Ol=D,t.Pre=P,t.Progress=F,t.Table=V,t.Td=q,t.TextArea=I,t.Th=H,t.Tr=L,t.H1=M,t.H2=R,t.H3=z,t.H4=B,t.H5=U,t.H6=W,t.Header=Q,t.Footer=G,t.Nav=J,t.B=K,t.I=X,t.Script=Y,t.Abbr=Z,t.Area=$,t.Aside=tt,t.Audio=et,t.Em=nt,t.Heading=ot,t.IFrame=rt,t.NoScript=it,t.Option=ct,t.Q=at,t.Select=st,t.Source=ut,t.Title=pt,t.Video=lt,t.Tbody=ht,t.Tfoot=dt,t.Thead=ft,t.Summary=yt,t.Details=vt,t.Sub=_t,t.Sup=bt,t.Svg=mt,t.Data=gt,t.Time=wt,t.Switch=Ct,t.AurumRouter=Ot,t.Suspense=xt});
//# sourceMappingURL=aurumjs.umd.js.map
