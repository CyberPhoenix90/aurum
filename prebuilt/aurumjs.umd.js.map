{"version":3,"file":"aurumjs.umd.js","sources":["../dist/stream/data_source.js","../dist/utilities/linkedlist/linked_list_node.js","../dist/utilities/linkedlist/linked_list.js","../dist/utilities/cancellation_token.js","../dist/utilities/owner_symbol.js","../dist/nodes/aurum_element.js","../dist/nodes/a.js","../dist/nodes/abbr.js","../dist/nodes/area.js","../dist/nodes/article.js","../dist/nodes/aside.js","../dist/nodes/audio.js","../dist/nodes/b.js","../dist/nodes/br.js","../dist/nodes/button.js","../dist/nodes/canvas.js","../dist/nodes/data.js","../dist/nodes/details.js","../dist/nodes/div.js","../dist/nodes/em.js","../dist/nodes/footer.js","../dist/nodes/form.js","../dist/nodes/h1.js","../dist/nodes/h2.js","../dist/nodes/h3.js","../dist/nodes/h4.js","../dist/nodes/h5.js","../dist/nodes/h6.js","../dist/nodes/header.js","../dist/nodes/heading.js","../dist/nodes/i.js","../dist/nodes/iframe.js","../dist/nodes/img.js","../dist/nodes/input.js","../dist/nodes/label.js","../dist/nodes/li.js","../dist/nodes/link.js","../dist/nodes/nav.js","../dist/nodes/noscript.js","../dist/nodes/ol.js","../dist/nodes/option.js","../dist/nodes/p.js","../dist/nodes/pre.js","../dist/nodes/progress.js","../dist/nodes/q.js","../dist/nodes/script.js","../dist/nodes/select.js","../dist/nodes/source.js","../dist/nodes/span.js","../dist/nodes/special/switch.js","../dist/nodes/special/router.js","../dist/nodes/special/suspense.js","../dist/nodes/style.js","../dist/nodes/sub.js","../dist/nodes/summary.js","../dist/nodes/sup.js","../dist/nodes/svg.js","../dist/nodes/table.js","../dist/nodes/tbody.js","../dist/nodes/td.js","../dist/nodes/textarea.js","../dist/nodes/tfoot.js","../dist/nodes/th.js","../dist/nodes/thead.js","../dist/nodes/time.js","../dist/nodes/title.js","../dist/nodes/tr.js","../dist/nodes/ul.js","../dist/nodes/video.js","../dist/utilities/aurum.js"],"sourcesContent":["export class DataSource {\n    constructor(initialValue) {\n        this.value = initialValue;\n        this.listeners = [];\n    }\n    update(newValue) {\n        if (this.updating) {\n            throw new Error('Problem in datas source: Unstable value propagation, when updating a value the stream was updated back as a direct response. This can lead to infinite loops and is therefore not allowed');\n        }\n        this.updating = true;\n        this.value = newValue;\n        for (const l of this.listeners) {\n            l(newValue);\n        }\n        this.updating = false;\n    }\n    backPropagate(sender, newValue) {\n        this.value = newValue;\n        this.updating = true;\n        for (const l of this.listeners) {\n            if (l !== sender) {\n                l(newValue);\n            }\n        }\n        this.updating = false;\n    }\n    listenAndRepeat(callback, cancellationToken) {\n        callback(this.value);\n        return this.listen(callback, cancellationToken);\n    }\n    listen(callback, cancellationToken) {\n        var _a;\n        this.listeners.push(callback);\n        const cancel = () => {\n            const index = this.listeners.indexOf(callback);\n            if (index !== -1) {\n                this.listeners.splice(index, 1);\n            }\n        };\n        (_a = cancellationToken) === null || _a === void 0 ? void 0 : _a.addCancelable(() => {\n            cancel();\n        });\n        return cancel;\n    }\n    filter(callback, cancellationToken) {\n        const filteredSource = new DataSource();\n        this.listen((value) => {\n            if (callback(value)) {\n                filteredSource.update(value);\n            }\n        }, cancellationToken);\n        return filteredSource;\n    }\n    filterDuplex(callback, cancellationToken) {\n        const filteredSource = new DataSource();\n        const cb = (value) => {\n            if (callback(value)) {\n                filteredSource.backPropagate(cb2, value);\n            }\n        };\n        const cb2 = (value) => {\n            if (callback(value)) {\n                this.backPropagate(cb, value);\n            }\n        };\n        this.listen(cb, cancellationToken);\n        filteredSource.listen(cb2, cancellationToken);\n        return filteredSource;\n    }\n    pipe(targetDataSource, cancellationToken) {\n        this.listen((v) => targetDataSource.update(v), cancellationToken);\n    }\n    pipeDuplex(targetDataSource, cancellationToken) {\n        const cb = (v) => targetDataSource.backPropagate(cb2, v);\n        const cb2 = (v) => this.backPropagate(cb, v);\n        this.listen(cb, cancellationToken);\n        targetDataSource.listen(cb2, cancellationToken);\n    }\n    map(callback, cancellationToken) {\n        const mappedSource = new DataSource(callback(this.value));\n        this.listen((value) => {\n            mappedSource.update(callback(value));\n        }, cancellationToken);\n        return mappedSource;\n    }\n    mapDuplex(callback, reverseMap, cancellationToken) {\n        const mappedSource = new DataSource(callback(this.value));\n        const cb = (value) => mappedSource.backPropagate(cb2, callback(value));\n        const cb2 = (value) => this.backPropagate(cb, reverseMap(value));\n        this.listen(cb, cancellationToken);\n        mappedSource.listen(cb2, cancellationToken);\n        return mappedSource;\n    }\n    unique(cancellationToken) {\n        const uniqueSource = new DataSource(this.value);\n        this.listen((value) => {\n            if (value !== uniqueSource.value) {\n                uniqueSource.update(value);\n            }\n        }, cancellationToken);\n        return uniqueSource;\n    }\n    uniqueDuplex(cancellationToken) {\n        const uniqueSource = new DataSource(this.value);\n        const cb = (value) => {\n            if (value !== uniqueSource.value) {\n                uniqueSource.backPropagate(cb2, value);\n            }\n        };\n        const cb2 = (value) => {\n            if (value !== this.value) {\n                this.backPropagate(cb, value);\n            }\n        };\n        this.listen(cb, cancellationToken);\n        uniqueSource.listen(cb2, cancellationToken);\n        return uniqueSource;\n    }\n    reduce(reducer, initialValue, cancellationToken) {\n        const reduceSource = new DataSource(initialValue);\n        this.listen((v) => reduceSource.update(reducer(reduceSource.value, v)), cancellationToken);\n        return reduceSource;\n    }\n    aggregate(otherSource, combinator, cancellationToken) {\n        const aggregatedSource = new DataSource(combinator(this.value, otherSource.value));\n        this.listen(() => aggregatedSource.update(combinator(this.value, otherSource.value)), cancellationToken);\n        otherSource.listen(() => aggregatedSource.update(combinator(this.value, otherSource.value)), cancellationToken);\n        return aggregatedSource;\n    }\n    combine(otherSource, cancellationToken) {\n        const combinedDataSource = new DataSource();\n        this.pipe(combinedDataSource, cancellationToken);\n        otherSource.pipe(combinedDataSource, cancellationToken);\n        return combinedDataSource;\n    }\n    debounce(time, cancellationToken) {\n        const debouncedDataSource = new DataSource();\n        let timeout;\n        this.listen((v) => {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => {\n                debouncedDataSource.update(v);\n            }, time);\n        }, cancellationToken);\n        return debouncedDataSource;\n    }\n    buffer(time, cancellationToken) {\n        const bufferedDataSource = new DataSource();\n        let timeout;\n        let buffer = [];\n        this.listen((v) => {\n            buffer.push(v);\n            if (!timeout) {\n                timeout = setTimeout(() => {\n                    timeout = undefined;\n                    bufferedDataSource.update(buffer);\n                    buffer = [];\n                }, time);\n            }\n        }, cancellationToken);\n        return bufferedDataSource;\n    }\n    queue(time, cancellationToken) {\n        const queueDataSource = new ArrayDataSource();\n        this.listen((v) => {\n            queueDataSource.push(v);\n        }, cancellationToken);\n        return queueDataSource;\n    }\n    pick(key, cancellationToken) {\n        var _a;\n        const subDataSource = new DataSource((_a = this.value) === null || _a === void 0 ? void 0 : _a[key]);\n        this.listen((v) => {\n            if (v !== undefined && v !== null) {\n                subDataSource.update(v[key]);\n            }\n            else {\n                subDataSource.update(v);\n            }\n        }, cancellationToken);\n        return subDataSource;\n    }\n    cancelAll() {\n        this.listeners.length = 0;\n    }\n}\nexport class ArrayDataSource {\n    constructor(initialData) {\n        if (initialData) {\n            this.data = initialData.slice();\n        }\n        else {\n            this.data = [];\n        }\n        this.listeners = [];\n    }\n    listenAndRepeat(callback, cancellationToken) {\n        callback({\n            operation: 'add',\n            operationDetailed: 'append',\n            index: 0,\n            items: this.data,\n            newState: this.data,\n            count: this.data.length\n        });\n        return this.listen(callback, cancellationToken);\n    }\n    listen(callback, cancellationToken) {\n        var _a;\n        this.listeners.push(callback);\n        const cancel = () => {\n            const index = this.listeners.indexOf(callback);\n            if (index !== -1) {\n                this.listeners.splice(index, 1);\n            }\n        };\n        (_a = cancellationToken) === null || _a === void 0 ? void 0 : _a.addCancelable(() => {\n            cancel();\n        });\n        return cancel;\n    }\n    get length() {\n        return this.data.length;\n    }\n    getData() {\n        return this.data.slice();\n    }\n    get(index) {\n        return this.data[index];\n    }\n    set(index, item) {\n        const old = this.data[index];\n        if (old === item) {\n            return;\n        }\n        this.data[index] = item;\n        this.update({ operation: 'replace', operationDetailed: 'replace', target: old, count: 1, index, items: [item], newState: this.data });\n    }\n    swap(indexA, indexB) {\n        if (indexA === indexB) {\n            return;\n        }\n        const itemA = this.data[indexA];\n        const itemB = this.data[indexB];\n        this.data[indexB] = itemA;\n        this.data[indexA] = itemB;\n        this.update({ operation: 'swap', operationDetailed: 'swap', index: indexA, index2: indexB, items: [itemA, itemB], newState: this.data });\n    }\n    swapItems(itemA, itemB) {\n        if (itemA === itemB) {\n            return;\n        }\n        const indexA = this.data.indexOf(itemA);\n        const indexB = this.data.indexOf(itemB);\n        if (indexA !== -1 && indexB !== -1) {\n            this.data[indexB] = itemA;\n            this.data[indexA] = itemB;\n        }\n        this.update({ operation: 'swap', operationDetailed: 'swap', index: indexA, index2: indexB, items: [itemA, itemB], newState: this.data });\n    }\n    push(...items) {\n        this.data.push(...items);\n        this.update({\n            operation: 'add',\n            operationDetailed: 'append',\n            count: items.length,\n            index: this.data.length - items.length,\n            items,\n            newState: this.data\n        });\n    }\n    unshift(...items) {\n        this.data.unshift(...items);\n        this.update({ operation: 'add', operationDetailed: 'prepend', count: items.length, items, index: 0, newState: this.data });\n    }\n    pop() {\n        const item = this.data.pop();\n        this.update({\n            operation: 'remove',\n            operationDetailed: 'removeRight',\n            count: 1,\n            index: this.data.length,\n            items: [item],\n            newState: this.data\n        });\n        return item;\n    }\n    merge(newData) {\n        for (let i = 0; i < newData.length; i++) {\n            if (this.data[i] !== newData[i]) {\n                if (this.length > i) {\n                    this.set(i, newData[i]);\n                }\n                else {\n                    this.push(newData[i]);\n                }\n            }\n        }\n        if (this.length > newData.length) {\n            this.removeRight(this.length - newData.length);\n        }\n    }\n    removeRight(count) {\n        const result = this.data.splice(this.length - count, count);\n        this.update({ operation: 'remove', operationDetailed: 'removeRight', count, index: this.length - count, items: result, newState: this.data });\n    }\n    removeLeft(count) {\n        const result = this.data.splice(0, count);\n        this.update({ operation: 'remove', operationDetailed: 'removeLeft', count, index: 0, items: result, newState: this.data });\n    }\n    remove(item) {\n        const index = this.data.indexOf(item);\n        if (index !== -1) {\n            this.data.splice(index, 1);\n            this.update({ operation: 'remove', operationDetailed: 'remove', count: 1, index, items: [item], newState: this.data });\n        }\n    }\n    clear() {\n        const items = this.data;\n        this.data = [];\n        this.update({\n            operation: 'remove',\n            operationDetailed: 'clear',\n            count: items.length,\n            index: 0,\n            items,\n            newState: this.data\n        });\n    }\n    shift() {\n        const item = this.data.shift();\n        this.update({ operation: 'remove', operationDetailed: 'removeLeft', items: [item], count: 1, index: 0, newState: this.data });\n        return item;\n    }\n    toArray() {\n        return this.data.slice();\n    }\n    filter(callback, cancellationToken) {\n        return new FilteredArrayView(this, callback, cancellationToken);\n    }\n    forEach(callbackfn, thisArg) {\n        return this.data.forEach(callbackfn, thisArg);\n    }\n    toDataSource() {\n        const stream = new DataSource(this.data);\n        this.listen((s) => {\n            stream.update(s.newState);\n        });\n        return stream;\n    }\n    update(change) {\n        for (const l of this.listeners) {\n            l(change);\n        }\n    }\n}\nexport class FilteredArrayView extends ArrayDataSource {\n    constructor(parent, filter, cancellationToken) {\n        const initial = parent.data.filter(filter);\n        super(initial);\n        this.parent = parent;\n        this.viewFilter = filter;\n        parent.listen((change) => {\n            let filteredItems;\n            switch (change.operationDetailed) {\n                case 'removeLeft':\n                case 'removeRight':\n                case 'remove':\n                case 'clear':\n                    for (const item of change.items) {\n                        this.remove(item);\n                    }\n                    break;\n                case 'prepend':\n                    filteredItems = change.items.filter(this.viewFilter);\n                    this.unshift(...filteredItems);\n                    break;\n                case 'append':\n                    filteredItems = change.items.filter(this.viewFilter);\n                    this.push(...filteredItems);\n                    break;\n                case 'swap':\n                    const indexA = this.data.indexOf(change.items[0]);\n                    const indexB = this.data.indexOf(change.items[1]);\n                    if (indexA !== -1 && indexB !== -1) {\n                        this.swap(indexA, indexB);\n                    }\n                    break;\n                case 'replace':\n                    const index = this.data.indexOf(change.target);\n                    if (index !== -1) {\n                        const acceptNew = this.viewFilter(change.items[0]);\n                        if (acceptNew) {\n                            this.set(index, change.items[0]);\n                        }\n                        else {\n                            this.remove(change.target);\n                        }\n                    }\n                    break;\n            }\n        }, cancellationToken);\n    }\n    updateFilter(filter) {\n        if (this.viewFilter === filter) {\n            return;\n        }\n        this.viewFilter = filter;\n        this.refresh();\n    }\n    refresh() {\n        this.clear();\n        const data = this.parent.data.filter(this.viewFilter);\n        this.push(...data);\n    }\n}\n//# sourceMappingURL=data_source.js.map","export class LinkedListNode {\n    constructor(data) {\n        this.data = data;\n    }\n    deleteNext() {\n        if (this.next) {\n            const overNext = this.next.next;\n            this.next.next = undefined;\n            this.next.previous = undefined;\n            this.next = overNext;\n            if (this.next) {\n                this.next.previous = this;\n            }\n        }\n    }\n    deletePrevious() {\n        if (this.previous) {\n            const overPrevious = this.previous.previous;\n            this.previous.next = undefined;\n            this.previous.previous = undefined;\n            this.previous = overPrevious;\n            if (this.previous) {\n                this.previous.next = this;\n            }\n        }\n    }\n}\n//# sourceMappingURL=linked_list_node.js.map","import { LinkedListNode } from './linked_list_node';\nexport class LinkedList {\n    constructor(data = []) {\n        this.length = 0;\n        data.forEach((d) => this.append(d));\n    }\n    find(predicate) {\n        let ptr = this.rootNode;\n        while (ptr && !predicate(ptr)) {\n            ptr = ptr.next;\n        }\n        return ptr;\n    }\n    append(element) {\n        if (!this.rootNode && !this.lastNode) {\n            this.rootNode = this.lastNode = new LinkedListNode(element);\n        }\n        else {\n            this.lastNode.next = new LinkedListNode(element);\n            this.lastNode.next.previous = this.lastNode;\n            this.lastNode = this.lastNode.next;\n        }\n        this.length++;\n        return element;\n    }\n    forEach(cb) {\n        this.find((n) => {\n            cb(n.data);\n            return false;\n        });\n    }\n    prepend(element) {\n        if (!this.rootNode && !this.lastNode) {\n            this.rootNode = this.lastNode = new LinkedListNode(element);\n        }\n        else {\n            this.rootNode.previous = new LinkedListNode(element);\n            this.rootNode.previous.next = this.rootNode;\n            this.rootNode = this.rootNode.previous;\n        }\n        this.length++;\n        return element;\n    }\n    remove(element) {\n        if (element === this.rootNode.data) {\n            this.rootNode = this.rootNode.next;\n            this.length--;\n        }\n        else {\n            const result = this.find((e) => e.next && e.next.data === element);\n            if (result) {\n                if (result.next === this.lastNode) {\n                    this.lastNode = result;\n                }\n                result.deleteNext();\n                this.length--;\n            }\n        }\n    }\n}\n//# sourceMappingURL=linked_list.js.map","import { LinkedList } from './linkedlist/linked_list';\nexport class CancellationToken {\n    constructor(...cancellables) {\n        this.cancelables = new LinkedList(cancellables);\n        this._isCancelled = false;\n    }\n    get isCanceled() {\n        return this._isCancelled;\n    }\n    addCancelable(delegate) {\n        this.throwIfCancelled('attempting to add cancellable to token that is already cancelled');\n        this.cancelables.append(delegate);\n        if (this.cancelables.length > 200) {\n            console.log('potential memory leak: cancellation token has over 200 clean up calls');\n        }\n        return this;\n    }\n    removeCancelable(delegate) {\n        this.throwIfCancelled('attempting to remove cancellable from token that is already cancelled');\n        this.cancelables.remove(delegate);\n        return this;\n    }\n    addDisposable(disposable) {\n        this.addCancelable(() => disposable.dispose());\n        return this;\n    }\n    callIfNotCancelled(action) {\n        if (!this.isCanceled) {\n            action();\n        }\n    }\n    setTimeout(cb, time = 0) {\n        const id = setTimeout(() => {\n            this.removeCancelable(cancelable);\n            cb();\n        }, time);\n        const cancelable = () => clearTimeout(id);\n        this.addCancelable(cancelable);\n    }\n    setInterval(cb, time) {\n        const id = setInterval(cb, time);\n        this.addCancelable(() => clearInterval(id));\n    }\n    requestAnimationFrame(cb) {\n        const id = requestAnimationFrame(cb);\n        this.addCancelable(() => cancelAnimationFrame(id));\n    }\n    animationLoop(cb) {\n        let id = requestAnimationFrame(function f(time) {\n            cb(time);\n            id = requestAnimationFrame(f);\n        });\n        this.addCancelable(() => cancelAnimationFrame(id));\n    }\n    throwIfCancelled(msg) {\n        if (this.isCanceled) {\n            throw new Error(msg || 'cancellation token is cancelled');\n        }\n    }\n    chain(target, twoWays = false) {\n        if (twoWays) {\n            target.chain(this, false);\n        }\n        this.addCancelable(() => target.cancel());\n        return this;\n    }\n    registerDomEvent(eventEmitter, event, callback) {\n        eventEmitter.addEventListener(event, callback);\n        this.addCancelable(() => eventEmitter.removeEventListener(event, callback));\n        return this;\n    }\n    cancel() {\n        if (this.isCanceled) {\n            return;\n        }\n        this._isCancelled = true;\n        this.cancelables.forEach((c) => c());\n        this.cancelables = undefined;\n    }\n}\n//# sourceMappingURL=cancellation_token.js.map","export const ownerSymbol = Symbol('owner');\n//# sourceMappingURL=owner_symbol.js.map","import { DataSource, ArrayDataSource } from '../stream/data_source';\nimport { CancellationToken } from '../utilities/cancellation_token';\nimport { ownerSymbol } from '../utilities/owner_symbol';\nexport class AurumElement {\n    constructor(props, domNodeName) {\n        var _a, _b;\n        this.onDispose = props.onDispose;\n        this.onAttach = props.onAttach;\n        this.onDetach = props.onDetach;\n        this.domNodeName = domNodeName;\n        this.template = props.template;\n        this.cancellationToken = new CancellationToken();\n        this.node = this.create(props);\n        this.initialize(props);\n        (_b = (_a = props).onCreate) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n    }\n    initialize(props) {\n        if (!(this.node instanceof Text)) {\n            this.children = [];\n        }\n        this.createEventHandlers([\n            'drag',\n            'name',\n            'dragstart',\n            'dragend',\n            'dragexit',\n            'dragover',\n            'dragenter',\n            'dragleave',\n            'blur',\n            'focus',\n            'click',\n            'dblclick',\n            'keydown',\n            'keyhit',\n            'keyup',\n            'mousedown',\n            'mouseup',\n            'mouseenter',\n            'mouseleave',\n            'mousewheel'\n        ], props);\n        const dataProps = Object.keys(props).filter((e) => e.startsWith('x-') || e.startsWith('data-'));\n        this.bindProps(['id', 'draggable', 'tabindex', 'style', 'role', 'contentEditable', ...dataProps], props);\n        if (props.class) {\n            this.handleClass(props.class);\n        }\n        if (props.repeatModel) {\n            this.handleRepeat(props.repeatModel);\n        }\n    }\n    bindProps(keys, props) {\n        for (const key of keys) {\n            if (props[key]) {\n                this.assignStringSourceToAttribute(props[key], key);\n            }\n        }\n    }\n    createEventHandlers(keys, props) {\n        if (this.node instanceof Text) {\n            return;\n        }\n        for (const key of keys) {\n            const computedEventName = 'on' + key[0].toUpperCase() + key.slice(1);\n            let eventEmitter;\n            Object.defineProperty(this, computedEventName, {\n                get() {\n                    if (!eventEmitter) {\n                        eventEmitter = new DataSource();\n                    }\n                    return eventEmitter;\n                },\n                set() {\n                    throw new Error(computedEventName + ' is read only');\n                }\n            });\n            if (props[computedEventName]) {\n                if (props[computedEventName] instanceof DataSource) {\n                    this[computedEventName].listen(props[computedEventName].update.bind(props.onClick), this.cancellationToken);\n                }\n                else if (typeof props[computedEventName] === 'function') {\n                    this[computedEventName].listen(props[computedEventName], this.cancellationToken);\n                }\n            }\n            this.cancellationToken.registerDomEvent(this.node, key, (e) => this[computedEventName].update(e));\n        }\n    }\n    handleRepeat(dataSource) {\n        if (dataSource instanceof ArrayDataSource) {\n            this.repeatData = dataSource;\n        }\n        else {\n            this.repeatData = new ArrayDataSource(dataSource);\n        }\n        if (this.repeatData.length) {\n            this.children.push(...this.repeatData.toArray().map((i) => this.template.generate(i)));\n            this.render();\n        }\n        this.repeatData.listen((change) => {\n            switch (change.operationDetailed) {\n                case 'swap':\n                    const itemA = this.children[change.index];\n                    const itemB = this.children[change.index2];\n                    this.children[change.index2] = itemA;\n                    this.children[change.index] = itemB;\n                    break;\n                case 'append':\n                    this.children.push(...change.items.map((i) => this.template.generate(i)));\n                    break;\n                case 'prepend':\n                    this.children.unshift(...change.items.map((i) => this.template.generate(i)));\n                    break;\n                case 'remove':\n                case 'removeLeft':\n                case 'removeRight':\n                case 'clear':\n                    this.children.splice(change.index, change.count);\n                    break;\n                default:\n                    this.children.length = 0;\n                    this.children.push(...this.repeatData.toArray().map((i) => this.template.generate(i)));\n                    break;\n            }\n            this.render();\n        });\n    }\n    render() {\n        if (this.rerenderPending) {\n            return;\n        }\n        if (this.node instanceof Text) {\n            return;\n        }\n        this.cancellationToken.setTimeout(() => {\n            for (let i = 0; i < this.children.length; i++) {\n                if (this.node.childNodes.length <= i) {\n                    this.addChildrenDom(this.children.slice(i, this.children.length));\n                    break;\n                }\n                if (this.node.childNodes[i][ownerSymbol] !== this.children[i]) {\n                    if (!this.children.includes(this.node.childNodes[i][ownerSymbol])) {\n                        const child = this.node.childNodes[i];\n                        child.remove();\n                        child[ownerSymbol].dispose();\n                        i--;\n                        continue;\n                    }\n                    const index = this.getChildIndex(this.children[i].node);\n                    if (index !== -1) {\n                        this.swapChildrenDom(i, index);\n                    }\n                    else {\n                        this.addDomNodeAt(this.children[i].node, i);\n                    }\n                }\n            }\n            while (this.node.childNodes.length > this.children.length) {\n                const child = this.node.childNodes[this.node.childNodes.length - 1];\n                this.node.removeChild(child);\n                child[ownerSymbol].dispose();\n            }\n            this.rerenderPending = false;\n        });\n        this.rerenderPending = true;\n    }\n    assignStringSourceToAttribute(data, key) {\n        if (this.node instanceof Text) {\n            return;\n        }\n        if (typeof data === 'string') {\n            this.node.setAttribute(key, data);\n        }\n        else {\n            if (data.value) {\n                this.node.setAttribute(key, data.value);\n            }\n            data.unique(this.cancellationToken).listen((v) => this.node.setAttribute(key, v), this.cancellationToken);\n        }\n    }\n    handleAttach() {\n        var _a, _b;\n        if (this.node.isConnected) {\n            (_b = (_a = this).onAttach) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n            for (const child of this.node.childNodes) {\n                child[ownerSymbol].handleAttach();\n            }\n        }\n    }\n    handleDetach() {\n        var _a, _b;\n        if (!this.node.isConnected) {\n            (_b = (_a = this).onDetach) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n            for (const child of this.node.childNodes) {\n                if (child[ownerSymbol]) {\n                    child[ownerSymbol].handleDetach();\n                }\n            }\n        }\n    }\n    handleClass(data) {\n        if (this.node instanceof Text) {\n            return;\n        }\n        if (typeof data === 'string') {\n            this.node.className = data;\n        }\n        else if (data instanceof DataSource) {\n            if (data.value) {\n                if (Array.isArray(data.value)) {\n                    this.node.className = data.value.join(' ');\n                    data.unique(this.cancellationToken).listen(() => {\n                        this.node.className = data.value.join(' ');\n                    }, this.cancellationToken);\n                }\n                else {\n                    this.node.className = data.value;\n                    data.unique(this.cancellationToken).listen(() => {\n                        this.node.className = data.value;\n                    }, this.cancellationToken);\n                }\n            }\n            data.unique(this.cancellationToken).listen((v) => (this.node.className = v), this.cancellationToken);\n        }\n        else {\n            const value = data.reduce((p, c) => {\n                if (typeof c === 'string') {\n                    return `${p} ${c}`;\n                }\n                else {\n                    if (c.value) {\n                        return `${p} ${c.value}`;\n                    }\n                    else {\n                        return p;\n                    }\n                }\n            }, '');\n            this.node.className = value;\n            for (const i of data) {\n                if (i instanceof DataSource) {\n                    i.unique(this.cancellationToken).listen((v) => {\n                        const value = data.reduce((p, c) => {\n                            if (typeof c === 'string') {\n                                return `${p} ${c}`;\n                            }\n                            else {\n                                if (c.value) {\n                                    return `${p} ${c.value}`;\n                                }\n                                else {\n                                    return p;\n                                }\n                            }\n                        }, '');\n                        this.node.className = value;\n                    }, this.cancellationToken);\n                }\n            }\n        }\n    }\n    resolveStringSource(source) {\n        if (typeof source === 'string') {\n            return source;\n        }\n        else {\n            return source.value;\n        }\n    }\n    create(props) {\n        const node = document.createElement(this.domNodeName);\n        node[ownerSymbol] = this;\n        return node;\n    }\n    getChildIndex(node) {\n        let i = 0;\n        for (const child of node.childNodes) {\n            if (child === node) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n    hasChild(node) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        for (const child of node.children) {\n            if (child === node) {\n                return true;\n            }\n        }\n        return false;\n    }\n    addChildrenDom(children) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        for (const child of children) {\n            this.node.appendChild(child.node);\n            child.handleAttach();\n        }\n    }\n    swapChildrenDom(indexA, indexB) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (indexA === indexB) {\n            return;\n        }\n        const nodeA = this.node.children[indexA];\n        const nodeB = this.node.children[indexB];\n        nodeA.remove();\n        nodeB.remove();\n        if (indexA < indexB) {\n            this.addDomNodeAt(nodeB, indexA);\n            this.addDomNodeAt(nodeA, indexB);\n        }\n        else {\n            this.addDomNodeAt(nodeA, indexB);\n            this.addDomNodeAt(nodeB, indexA);\n        }\n    }\n    addDomNodeAt(node, index) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (index >= this.node.childElementCount) {\n            this.node.appendChild(node);\n            node[ownerSymbol].handleAttach();\n        }\n        else {\n            this.node.insertBefore(node, this.node.children[index]);\n            node[ownerSymbol].handleAttach();\n        }\n    }\n    remove() {\n        if (this.hasParent()) {\n            this.node.parentElement[ownerSymbol].removeChild(this.node);\n        }\n    }\n    hasParent() {\n        return !!this.node.parentElement;\n    }\n    isConnected() {\n        return this.node.isConnected;\n    }\n    removeChild(child) {\n        const index = this.children.indexOf(child);\n        if (index !== -1) {\n            this.children.splice(index, 1);\n        }\n        this.render();\n    }\n    removeChildAt(index) {\n        this.children.splice(index, 1);\n        this.render();\n    }\n    swapChildren(indexA, indexB) {\n        if (indexA === indexB) {\n            return;\n        }\n        const nodeA = this.children[indexA];\n        const nodeB = this.children[indexB];\n        this.children[indexA] = nodeB;\n        this.children[indexB] = nodeA;\n        this.render();\n    }\n    clearChildren() {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        this.children.length = 0;\n        this.render();\n    }\n    addChild(child) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (child instanceof Template) {\n            return;\n        }\n        child = this.childNodeToAurum(child);\n        this.children.push(child);\n        this.render();\n    }\n    childNodeToAurum(child) {\n        if (typeof child === 'string' || child instanceof DataSource) {\n            child = new TextNode({\n                text: child\n            });\n        }\n        else if (!(child instanceof AurumElement)) {\n            child = new TextNode({\n                text: child.toString()\n            });\n        }\n        return child;\n    }\n    addChildAt(child, index) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (child instanceof Template) {\n            return;\n        }\n        child = this.childNodeToAurum(child);\n        this.children.splice(index, 0, child);\n        this.render();\n    }\n    addChildren(nodes) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (nodes.length === 0) {\n            return;\n        }\n        for (const child of nodes) {\n            this.addChild(child);\n        }\n    }\n    dispose() {\n        this.internalDispose(true);\n    }\n    internalDispose(detach) {\n        var _a, _b;\n        this.cancellationToken.cancel();\n        if (detach) {\n            this.remove();\n        }\n        for (const child of this.node.childNodes) {\n            if (child[ownerSymbol]) {\n                child[ownerSymbol].internalDispose(false);\n            }\n        }\n        delete this.node[ownerSymbol];\n        delete this.node;\n        (_b = (_a = this).onDispose) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n    }\n}\nexport class Template extends AurumElement {\n    constructor(props) {\n        super(props, 'template');\n        this.ref = props.ref;\n        this.generate = props.generator;\n    }\n}\nexport class TextNode extends AurumElement {\n    constructor(props) {\n        super(props, 'textNode');\n        if (props.text instanceof DataSource) {\n            props.text.listen((v) => (this.node.textContent = v), this.cancellationToken);\n        }\n    }\n    create(props) {\n        const node = document.createTextNode(this.resolveStringSource(props.text));\n        node[ownerSymbol] = this;\n        return node;\n    }\n}\n//# sourceMappingURL=aurum_element.js.map","import { AurumElement } from './aurum_element';\nexport class A extends AurumElement {\n    constructor(props) {\n        super(props, 'a');\n        this.bindProps(['href', 'target'], props);\n    }\n}\n//# sourceMappingURL=a.js.map","import { AurumElement } from './aurum_element';\nexport class Abbr extends AurumElement {\n    constructor(props) {\n        super(props, 'abbr');\n    }\n}\n//# sourceMappingURL=abbr.js.map","import { AurumElement } from './aurum_element';\nexport class Area extends AurumElement {\n    constructor(props) {\n        super(props, 'area');\n    }\n}\n//# sourceMappingURL=area.js.map","import { AurumElement } from './aurum_element';\nexport class Article extends AurumElement {\n    constructor(props) {\n        super(props, 'article');\n    }\n}\n//# sourceMappingURL=article.js.map","import { AurumElement } from './aurum_element';\nexport class Aside extends AurumElement {\n    constructor(props) {\n        super(props, 'aside');\n    }\n}\n//# sourceMappingURL=aside.js.map","import { AurumElement } from './aurum_element';\nexport class Audio extends AurumElement {\n    constructor(props) {\n        super(props, 'audio');\n        this.bindProps(['controls', 'autoplay', 'loop', 'muted', 'preload', 'src'], props);\n    }\n}\n//# sourceMappingURL=audio.js.map","import { AurumElement } from './aurum_element';\nexport class B extends AurumElement {\n    constructor(props) {\n        super(props, 'b');\n    }\n}\n//# sourceMappingURL=b.js.map","import { AurumElement } from './aurum_element';\nexport class Br extends AurumElement {\n    constructor(props) {\n        super(props, 'br');\n    }\n}\n//# sourceMappingURL=br.js.map","import { AurumElement } from './aurum_element';\nexport class Button extends AurumElement {\n    constructor(props) {\n        super(props, 'button');\n        this.bindProps(['disabled'], props);\n    }\n}\n//# sourceMappingURL=button.js.map","import { AurumElement } from './aurum_element';\nexport class Canvas extends AurumElement {\n    constructor(props) {\n        super(props, 'canvas');\n        this.bindProps(['width', 'height'], props);\n    }\n}\n//# sourceMappingURL=canvas.js.map","import { AurumElement } from './aurum_element';\nexport class Data extends AurumElement {\n    constructor(props) {\n        super(props, 'data');\n        this.bindProps(['datalue'], props);\n    }\n}\n//# sourceMappingURL=data.js.map","import { AurumElement } from './aurum_element';\nexport class Details extends AurumElement {\n    constructor(props) {\n        super(props, 'details');\n    }\n}\n//# sourceMappingURL=details.js.map","import { AurumElement } from './aurum_element';\nexport class Div extends AurumElement {\n    constructor(props) {\n        super(props, 'div');\n    }\n}\n//# sourceMappingURL=div.js.map","import { AurumElement } from './aurum_element';\nexport class Em extends AurumElement {\n    constructor(props) {\n        super(props, 'em');\n    }\n}\n//# sourceMappingURL=em.js.map","import { AurumElement } from './aurum_element';\nexport class Footer extends AurumElement {\n    constructor(props) {\n        super(props, 'footer');\n    }\n}\n//# sourceMappingURL=footer.js.map","import { AurumElement } from './aurum_element';\nexport class Form extends AurumElement {\n    constructor(props) {\n        super(props, 'form');\n    }\n}\n//# sourceMappingURL=form.js.map","import { AurumElement } from './aurum_element';\nexport class H1 extends AurumElement {\n    constructor(props) {\n        super(props, 'h1');\n    }\n}\n//# sourceMappingURL=h1.js.map","import { AurumElement } from './aurum_element';\nexport class H2 extends AurumElement {\n    constructor(props) {\n        super(props, 'h2');\n    }\n}\n//# sourceMappingURL=h2.js.map","import { AurumElement } from './aurum_element';\nexport class H3 extends AurumElement {\n    constructor(props) {\n        super(props, 'h3');\n    }\n}\n//# sourceMappingURL=h3.js.map","import { AurumElement } from './aurum_element';\nexport class H4 extends AurumElement {\n    constructor(props) {\n        super(props, 'h4');\n    }\n}\n//# sourceMappingURL=h4.js.map","import { AurumElement } from './aurum_element';\nexport class H5 extends AurumElement {\n    constructor(props) {\n        super(props, 'h5');\n    }\n}\n//# sourceMappingURL=h5.js.map","import { AurumElement } from './aurum_element';\nexport class H6 extends AurumElement {\n    constructor(props) {\n        super(props, 'h6');\n    }\n}\n//# sourceMappingURL=h6.js.map","import { AurumElement } from './aurum_element';\nexport class Header extends AurumElement {\n    constructor(props) {\n        super(props, 'header');\n    }\n}\n//# sourceMappingURL=header.js.map","import { AurumElement } from './aurum_element';\nexport class Heading extends AurumElement {\n    constructor(props) {\n        super(props, 'heading');\n    }\n}\n//# sourceMappingURL=heading.js.map","import { AurumElement } from './aurum_element';\nexport class I extends AurumElement {\n    constructor(props) {\n        super(props, 'i');\n    }\n}\n//# sourceMappingURL=i.js.map","import { AurumElement } from './aurum_element';\nexport class IFrame extends AurumElement {\n    constructor(props) {\n        super(props, 'iframe');\n        this.bindProps(['src', 'srcdoc', 'width', 'height', 'allow', 'allowFullscreen', 'allowPaymentRequest'], props);\n    }\n}\n//# sourceMappingURL=iframe.js.map","import { AurumElement } from './aurum_element';\nexport class Img extends AurumElement {\n    constructor(props) {\n        super(props, 'img');\n        this.bindProps(['src', 'alt', 'width', 'height', 'referrerPolicy', 'sizes', 'srcset', 'useMap'], props);\n    }\n}\n//# sourceMappingURL=img.js.map","import { AurumElement } from './aurum_element';\nexport class Input extends AurumElement {\n    constructor(props) {\n        var _a;\n        super(props, 'input');\n        if (props.inputValueSource) {\n            props.inputValueSource.unique().listenAndRepeat((value) => (this.node.value = value), this.cancellationToken);\n        }\n        else {\n            this.node.value = (_a = props.initialValue, (_a !== null && _a !== void 0 ? _a : ''));\n        }\n        this.bindProps([\n            'placeholder',\n            'readonly',\n            'disabled',\n            'accept',\n            'alt',\n            'autocomplete',\n            'autofocus',\n            'checked',\n            'defaultChecked',\n            'formAction',\n            'formEnctype',\n            'formMethod',\n            'formNoValidate',\n            'formTarget',\n            'max',\n            'maxLength',\n            'min',\n            'minLength',\n            'pattern',\n            'multiple',\n            'required',\n            'type'\n        ], props);\n        this.createEventHandlers(['input', 'change'], props);\n        if (props.inputValueSource) {\n            this.onInput.map((p) => this.node.value).pipe(props.inputValueSource);\n        }\n    }\n}\n//# sourceMappingURL=input.js.map","import { AurumElement } from './aurum_element';\nexport class Label extends AurumElement {\n    constructor(props) {\n        super(props, 'label');\n        this.bindProps(['for'], props);\n    }\n}\n//# sourceMappingURL=label.js.map","import { AurumElement } from './aurum_element';\nexport class Li extends AurumElement {\n    constructor(props) {\n        super(props, 'li');\n    }\n}\n//# sourceMappingURL=li.js.map","import { AurumElement } from './aurum_element';\nexport class Link extends AurumElement {\n    constructor(props) {\n        super(props, 'link');\n        this.bindProps(['href', 'rel', 'media', 'as', 'disabled', 'type'], props);\n    }\n}\n//# sourceMappingURL=link.js.map","import { AurumElement } from './aurum_element';\nexport class Nav extends AurumElement {\n    constructor(props) {\n        super(props, 'nav');\n    }\n}\n//# sourceMappingURL=nav.js.map","import { AurumElement } from './aurum_element';\nexport class NoScript extends AurumElement {\n    constructor(props) {\n        super(props, 'noscript');\n    }\n}\n//# sourceMappingURL=noscript.js.map","import { AurumElement } from './aurum_element';\nexport class Ol extends AurumElement {\n    constructor(props) {\n        super(props, 'ol');\n    }\n}\n//# sourceMappingURL=ol.js.map","import { AurumElement } from './aurum_element';\nexport class Option extends AurumElement {\n    constructor(props) {\n        super(props, 'option');\n    }\n}\n//# sourceMappingURL=option.js.map","import { AurumElement } from './aurum_element';\nexport class P extends AurumElement {\n    constructor(props) {\n        super(props, 'p');\n    }\n}\n//# sourceMappingURL=p.js.map","import { AurumElement } from './aurum_element';\nexport class Pre extends AurumElement {\n    constructor(props) {\n        super(props, 'pre');\n    }\n}\n//# sourceMappingURL=pre.js.map","import { AurumElement } from './aurum_element';\nexport class Progress extends AurumElement {\n    constructor(props) {\n        super(props, 'progress');\n        this.bindProps(['max', 'value'], props);\n    }\n}\n//# sourceMappingURL=progress.js.map","import { AurumElement } from './aurum_element';\nexport class Q extends AurumElement {\n    constructor(props) {\n        super(props, 'q');\n    }\n}\n//# sourceMappingURL=q.js.map","import { AurumElement } from './aurum_element';\nexport class Script extends AurumElement {\n    constructor(props) {\n        super(props, 'script');\n        this.bindProps(['src', 'async', 'defer', 'integrity', 'noModule', 'type'], props);\n    }\n}\n//# sourceMappingURL=script.js.map","import { AurumElement } from './aurum_element';\nexport class Select extends AurumElement {\n    constructor(props) {\n        var _a;\n        super(props, 'select');\n        this.createEventHandlers(['change'], props);\n        if (props.selectedIndexSource) {\n            this.selectedIndexSource = props.selectedIndexSource;\n            props.selectedIndexSource.unique().listenAndRepeat((value) => (this.node.selectedIndex = value), this.cancellationToken);\n        }\n        else {\n            this.node.selectedIndex = (_a = props.initialSelection, (_a !== null && _a !== void 0 ? _a : -1));\n        }\n        if (props.selectedIndexSource) {\n            this.onChange.map((p) => this.node.selectedIndex).pipe(props.selectedIndexSource);\n        }\n    }\n    handleAttach() {\n        super.handleAttach();\n        if (this.selectedIndexSource) {\n            this.node.selectedIndex = this.selectedIndexSource.value;\n        }\n    }\n}\n//# sourceMappingURL=select.js.map","import { AurumElement } from './aurum_element';\nexport class Source extends AurumElement {\n    constructor(props) {\n        super(props, 'source');\n        this.bindProps(['src', 'srcSet', 'media', 'sizes', 'type'], props);\n    }\n}\n//# sourceMappingURL=source.js.map","import { AurumElement } from './aurum_element';\nexport class Span extends AurumElement {\n    constructor(props) {\n        super(props, 'span');\n    }\n}\n//# sourceMappingURL=span.js.map","import { AurumElement } from '../aurum_element';\nexport class Switch extends AurumElement {\n    constructor(props) {\n        super(props, 'switch');\n        this.firstRender = true;\n        this.templateMap = props.templateMap;\n        this.renderSwitch(props.state.value);\n        props.state.listen((data) => {\n            this.renderSwitch(data);\n        }, this.cancellationToken);\n    }\n    renderSwitch(data) {\n        var _a;\n        if (data !== this.lastValue || this.firstRender) {\n            this.lastValue = data;\n            this.firstRender = false;\n            this.clearChildren();\n            if (data !== undefined && data !== null) {\n                const template = (_a = this.templateMap[data.toString()], (_a !== null && _a !== void 0 ? _a : this.template));\n                if (template) {\n                    const result = template.generate();\n                    this.addChild(result);\n                }\n            }\n            else if (this.template) {\n                const result = this.template.generate();\n                this.addChild(result);\n            }\n        }\n    }\n}\n//# sourceMappingURL=switch.js.map","import { Switch } from './switch';\nimport { DataSource } from '../../stream/data_source';\nexport class AurumRouter extends Switch {\n    constructor(props) {\n        const urlDataSource = new DataSource(location.hash.substring(1));\n        super(Object.assign(Object.assign({}, props), { state: urlDataSource }));\n        window.addEventListener('hashchange', () => {\n            const hash = location.hash.substring(1);\n            if (hash.includes('?')) {\n                urlDataSource.update(hash.substring(0, hash.indexOf('?')));\n            }\n            else {\n                urlDataSource.update(hash);\n            }\n        });\n    }\n}\n//# sourceMappingURL=router.js.map","import { AurumElement } from '../aurum_element';\nexport class Suspense extends AurumElement {\n    constructor(props) {\n        super(props, 'suspense');\n        props.loader().then((newElement) => {\n            this.clearChildren();\n            this.addChild(newElement);\n        });\n    }\n}\n//# sourceMappingURL=suspense.js.map","import { AurumElement } from './aurum_element';\nexport class Style extends AurumElement {\n    constructor(props) {\n        super(props, 'style');\n        this.bindProps(['media'], props);\n    }\n}\n//# sourceMappingURL=style.js.map","import { AurumElement } from './aurum_element';\nexport class Sub extends AurumElement {\n    constructor(props) {\n        super(props, 'sub');\n    }\n}\n//# sourceMappingURL=sub.js.map","import { AurumElement } from './aurum_element';\nexport class Summary extends AurumElement {\n    constructor(props) {\n        super(props, 'summary');\n    }\n}\n//# sourceMappingURL=summary.js.map","import { AurumElement } from './aurum_element';\nexport class Sup extends AurumElement {\n    constructor(props) {\n        super(props, 'sup');\n    }\n}\n//# sourceMappingURL=sup.js.map","import { AurumElement } from './aurum_element';\nexport class Svg extends AurumElement {\n    constructor(props) {\n        super(props, 'svg');\n        this.bindProps(['width', 'height'], props);\n    }\n}\n//# sourceMappingURL=svg.js.map","import { AurumElement } from './aurum_element';\nexport class Table extends AurumElement {\n    constructor(props) {\n        super(props, 'table');\n    }\n}\n//# sourceMappingURL=table.js.map","import { AurumElement } from './aurum_element';\nexport class Tbody extends AurumElement {\n    constructor(props) {\n        super(props, 'tbody');\n    }\n}\n//# sourceMappingURL=tbody.js.map","import { AurumElement } from './aurum_element';\nexport class Td extends AurumElement {\n    constructor(props) {\n        super(props, 'td');\n    }\n}\n//# sourceMappingURL=td.js.map","import { AurumElement } from './aurum_element';\nexport class TextArea extends AurumElement {\n    constructor(props) {\n        var _a, _b, _c;\n        super(props, 'textArea');\n        if (props.inputValueSource) {\n            this.node.value = (_b = (_a = props.initialValue, (_a !== null && _a !== void 0 ? _a : props.inputValueSource.value)), (_b !== null && _b !== void 0 ? _b : ''));\n            props.inputValueSource.unique().listen((value) => (this.node.value = value), this.cancellationToken);\n        }\n        else {\n            this.node.value = (_c = props.initialValue, (_c !== null && _c !== void 0 ? _c : ''));\n        }\n        this.bindProps(['placeholder', 'readonly', 'disabled', 'rows', 'wrap', 'autocomplete', 'autofocus', 'max', 'maxLength', 'min', 'minLength', 'required', 'type'], props);\n        this.createEventHandlers(['input', 'change'], props);\n        if (props.inputValueSource) {\n            this.onInput.map((p) => this.node.value).pipe(props.inputValueSource);\n        }\n    }\n}\n//# sourceMappingURL=textarea.js.map","import { AurumElement } from './aurum_element';\nexport class Tfoot extends AurumElement {\n    constructor(props) {\n        super(props, 'tfoot');\n    }\n}\n//# sourceMappingURL=tfoot.js.map","import { AurumElement } from './aurum_element';\nexport class Th extends AurumElement {\n    constructor(props) {\n        super(props, 'th');\n    }\n}\n//# sourceMappingURL=th.js.map","import { AurumElement } from './aurum_element';\nexport class Thead extends AurumElement {\n    constructor(props) {\n        super(props, 'thead');\n    }\n}\n//# sourceMappingURL=thead.js.map","import { AurumElement } from './aurum_element';\nexport class Time extends AurumElement {\n    constructor(props) {\n        super(props, 'time');\n        this.bindProps(['datetime'], props);\n    }\n}\n//# sourceMappingURL=time.js.map","import { AurumElement } from './aurum_element';\nexport class Title extends AurumElement {\n    constructor(props) {\n        super(props, 'title');\n    }\n}\n//# sourceMappingURL=title.js.map","import { AurumElement } from './aurum_element';\nexport class Tr extends AurumElement {\n    constructor(props) {\n        super(props, 'tr');\n    }\n}\n//# sourceMappingURL=tr.js.map","import { AurumElement } from './aurum_element';\nexport class Ul extends AurumElement {\n    constructor(props) {\n        super(props, 'ul');\n    }\n}\n//# sourceMappingURL=ul.js.map","import { AurumElement } from './aurum_element';\nexport class Video extends AurumElement {\n    constructor(props) {\n        super(props, 'video');\n        this.bindProps(['controls', 'autoplay', 'loop', 'muted', 'preload', 'src', 'poster', 'width', 'height'], props);\n    }\n}\n//# sourceMappingURL=video.js.map","import { Template } from '../nodes/aurum_element';\nimport { ownerSymbol } from './owner_symbol';\nimport { Div } from '../nodes/div';\nimport { Button } from '../nodes/button';\nimport { Input } from '../nodes/input';\nimport { Li } from '../nodes/li';\nimport { Span } from '../nodes/span';\nimport { Style } from '../nodes/style';\nimport { Ul } from '../nodes/ul';\nimport { P } from '../nodes/p';\nimport { Img } from '../nodes/img';\nimport { Link } from '../nodes/link';\nimport { Canvas } from '../nodes/canvas';\nimport { A } from '../nodes/a';\nimport { Article } from '../nodes/article';\nimport { Br } from '../nodes/br';\nimport { Form } from '../nodes/form';\nimport { Label } from '../nodes/label';\nimport { Ol } from '../nodes/ol';\nimport { Pre } from '../nodes/pre';\nimport { Progress } from '../nodes/progress';\nimport { Table } from '../nodes/table';\nimport { Td } from '../nodes/td';\nimport { Tr } from '../nodes/tr';\nimport { Th } from '../nodes/th';\nimport { TextArea } from '../nodes/textarea';\nimport { H1 } from '../nodes/h1';\nimport { H2 } from '../nodes/h2';\nimport { H3 } from '../nodes/h3';\nimport { H4 } from '../nodes/h4';\nimport { H5 } from '../nodes/h5';\nimport { H6 } from '../nodes/h6';\nimport { Header } from '../nodes/header';\nimport { Footer } from '../nodes/footer';\nimport { Nav } from '../nodes/nav';\nimport { B } from '../nodes/b';\nimport { I } from '../nodes/i';\nimport { Script } from '../nodes/script';\nimport { Abbr } from '../nodes/abbr';\nimport { Area } from '../nodes/area';\nimport { Aside } from '../nodes/aside';\nimport { Em } from '../nodes/em';\nimport { Heading } from '../nodes/heading';\nimport { IFrame } from '../nodes/iframe';\nimport { NoScript } from '../nodes/noscript';\nimport { Q } from '../nodes/q';\nimport { Select } from '../nodes/select';\nimport { Source } from '../nodes/source';\nimport { Title } from '../nodes/title';\nimport { Video } from '../nodes/video';\nimport { Tbody } from '../nodes/tbody';\nimport { Tfoot } from '../nodes/tfoot';\nimport { Thead } from '../nodes/thead';\nimport { Summary } from '../nodes/summary';\nimport { Details } from '../nodes/details';\nimport { Sub } from '../nodes/sub';\nimport { Sup } from '../nodes/sup';\nimport { Svg } from '../nodes/svg';\nimport { Data } from '../nodes/data';\nimport { Time } from '../nodes/time';\nimport { Option } from '../nodes/option';\nconst nodeMap = {\n    button: Button,\n    div: Div,\n    input: Input,\n    li: Li,\n    span: Span,\n    style: Style,\n    ul: Ul,\n    p: P,\n    img: Img,\n    link: Link,\n    canvas: Canvas,\n    a: A,\n    article: Article,\n    br: Br,\n    form: Form,\n    label: Label,\n    ol: Ol,\n    pre: Pre,\n    progress: Progress,\n    table: Table,\n    td: Td,\n    tr: Tr,\n    th: Th,\n    textarea: TextArea,\n    h1: H1,\n    h2: H2,\n    h3: H3,\n    h4: H4,\n    h5: H5,\n    h6: H6,\n    header: Header,\n    footer: Footer,\n    nav: Nav,\n    b: B,\n    i: I,\n    script: Script,\n    abbr: Abbr,\n    area: Area,\n    aside: Aside,\n    audio: Audio,\n    em: Em,\n    heading: Heading,\n    iframe: IFrame,\n    noscript: NoScript,\n    option: Option,\n    q: Q,\n    select: Select,\n    source: Source,\n    title: Title,\n    video: Video,\n    tbody: Tbody,\n    tfoot: Tfoot,\n    thead: Thead,\n    summary: Summary,\n    details: Details,\n    sub: Sub,\n    sup: Sup,\n    svg: Svg,\n    data: Data,\n    time: Time,\n    template: Template\n};\nexport class Aurum {\n    static attach(aurumElement, dom) {\n        if (dom[ownerSymbol]) {\n            throw new Error('This node is already managed by aurum and cannot be used');\n        }\n        dom.appendChild(aurumElement.node);\n        aurumElement['handleAttach']();\n        dom[ownerSymbol] = aurumElement;\n    }\n    static detach(domNode) {\n        if (domNode[ownerSymbol]) {\n            domNode[ownerSymbol].node.remove();\n            domNode[ownerSymbol].handleDetach();\n            domNode[ownerSymbol].dispose();\n            domNode[ownerSymbol] = undefined;\n        }\n    }\n    static factory(node, args, ...innerNodes) {\n        if (typeof node === 'string') {\n            const type = node;\n            node = nodeMap[node];\n            if (node === undefined) {\n                throw new Error(`Node ${type} does not exist or is not supported`);\n            }\n        }\n        const children = [].concat(...innerNodes).filter((e) => e);\n        const templateMap = {};\n        let defaultTemplate;\n        let hasRef = false;\n        for (const c of children) {\n            if (typeof c === 'string') {\n                continue;\n            }\n            if (c instanceof Template && (!c.ref || c.ref === 'default')) {\n                defaultTemplate = c;\n            }\n            if (c.ref) {\n                templateMap[c.ref] = c;\n                hasRef = true;\n            }\n        }\n        args = (args !== null && args !== void 0 ? args : {});\n        if (defaultTemplate) {\n            args.template = defaultTemplate;\n        }\n        if (hasRef) {\n            args.templateMap = templateMap;\n        }\n        let instance;\n        if (node.prototype) {\n            instance = new node(args || {});\n        }\n        else {\n            instance = node(args || {});\n        }\n        instance.addChildren(children);\n        return instance;\n    }\n}\n//# sourceMappingURL=aurum.js.map"],"names":["DataSource","initialValue","value","listeners","update","newValue","this","updating","Error","l","backPropagate","sender","const","listenAndRepeat","callback","cancellationToken","listen","push","cancel","index","indexOf","splice","_a","addCancelable","filter","filteredSource","filterDuplex","cb","cb2","pipe","targetDataSource","v","pipeDuplex","map","mappedSource","mapDuplex","reverseMap","unique","uniqueSource","uniqueDuplex","reduce","reducer","reduceSource","aggregate","otherSource","combinator","aggregatedSource","combine","combinedDataSource","debounce","time","timeout","debouncedDataSource","clearTimeout","setTimeout","buffer","bufferedDataSource","undefined","queue","queueDataSource","ArrayDataSource","pick","key","subDataSource","cancelAll","length","initialData","data","slice","items","newState","count","prototypeAccessors","getData","get","set","item","old","swap","indexA","indexB","itemA","itemB","swapItems","ref","unshift","pop","merge","newData","let","i","removeRight","result","removeLeft","remove","clear","shift","toArray","FilteredArrayView","forEach","callbackfn","thisArg","toDataSource","stream","s","change","parent","initial","viewFilter","filteredItems","operationDetailed","ref$1","target","updateFilter","refresh","LinkedListNode","deleteNext","next","overNext","previous","deletePrevious","overPrevious","LinkedList","d","append","find","predicate","ptr","rootNode","element","lastNode","n","prepend","e","CancellationToken","cancelables","cancellables","_isCancelled","isCanceled","delegate","throwIfCancelled","console","log","removeCancelable","addDisposable","disposable","dispose","callIfNotCancelled","action","id","cancelable","setInterval","clearInterval","requestAnimationFrame","cancelAnimationFrame","animationLoop","f","msg","chain","twoWays","registerDomEvent","eventEmitter","event","addEventListener","removeEventListener","c","ownerSymbol","Symbol","AurumElement","props","domNodeName","onDispose","onAttach","onDetach","template","node","create","initialize","_b","onCreate","call","Text","children","createEventHandlers","dataProps","Object","keys","startsWith","bindProps","class","handleClass","repeatModel","handleRepeat","assignStringSourceToAttribute","computedEventName","toUpperCase","defineProperty","bind","onClick","dataSource","repeatData","generate","render","index2","ref$2","rerenderPending","childNodes","addChildrenDom","includes","child","getChildIndex","swapChildrenDom","addDomNodeAt","removeChild","setAttribute","handleAttach","isConnected","handleDetach","className","Array","isArray","join","p","resolveStringSource","source","document","createElement","hasChild","appendChild","nodeA","nodeB","childElementCount","insertBefore","hasParent","parentElement","removeChildAt","swapChildren","clearChildren","addChild","Template","childNodeToAurum","TextNode","text","toString","addChildAt","addChildren","nodes","internalDispose","detach","generator","textContent","createTextNode","A","Abbr","Area","Article","Aside","Audio","B","Br","Button","Canvas","Data","Details","Div","Em","Footer","Form","H1","H2","H3","H4","H5","H6","Header","Heading","I","IFrame","Img","Input","inputValueSource","onInput","Label","Li","Link","Nav","NoScript","Ol","Option","P","Pre","Progress","Q","Script","Select","selectedIndexSource","selectedIndex","initialSelection","onChange","Source","Span","Switch","firstRender","templateMap","renderSwitch","state","lastValue","AurumRouter","urlDataSource","location","hash","substring","assign","window","Suspense","loader","then","newElement","Style","Sub","Summary","Sup","Svg","Table","Tbody","Td","TextArea","_c","Tfoot","Th","Thead","Time","Title","Tr","Ul","Video","nodeMap","button","div","input","li","span","style","ul","img","link","canvas","a","article","br","form","label","ol","pre","progress","table","td","tr","th","textarea","h1","h2","h3","h4","h5","h6","header","footer","nav","b","script","abbr","area","aside","audio","em","heading","iframe","noscript","option","q","select","title","video","tbody","tfoot","thead","summary","details","sub","sup","svg","Aurum","attach","aurumElement","dom","domNode","factory","args","type","defaultTemplate","instance","concat","innerNodes","hasRef","prototype"],"mappings":"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"}