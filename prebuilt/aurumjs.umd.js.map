{"version":3,"file":"aurumjs.umd.js","sources":["../dist/stream/data_source.js","../dist/utilities/linkedlist/linked_list_node.js","../dist/utilities/linkedlist/linked_list.js","../dist/utilities/cancellation_token.js","../dist/utilities/owner_symbol.js","../dist/nodes/aurum_element.js","../dist/nodes/a.js","../dist/nodes/abbr.js","../dist/nodes/area.js","../dist/nodes/article.js","../dist/nodes/aside.js","../dist/nodes/audio.js","../dist/nodes/b.js","../dist/nodes/br.js","../dist/nodes/button.js","../dist/nodes/canvas.js","../dist/nodes/data.js","../dist/nodes/details.js","../dist/nodes/div.js","../dist/nodes/em.js","../dist/nodes/footer.js","../dist/nodes/form.js","../dist/nodes/h1.js","../dist/nodes/h2.js","../dist/nodes/h3.js","../dist/nodes/h4.js","../dist/nodes/h5.js","../dist/nodes/h6.js","../dist/nodes/header.js","../dist/nodes/heading.js","../dist/nodes/i.js","../dist/nodes/iframe.js","../dist/nodes/img.js","../dist/nodes/input.js","../dist/nodes/label.js","../dist/nodes/li.js","../dist/nodes/link.js","../dist/nodes/nav.js","../dist/nodes/noscript.js","../dist/nodes/ol.js","../dist/nodes/option.js","../dist/nodes/p.js","../dist/nodes/pre.js","../dist/nodes/progress.js","../dist/nodes/q.js","../dist/nodes/script.js","../dist/nodes/select.js","../dist/nodes/source.js","../dist/nodes/span.js","../dist/nodes/special/switch.js","../dist/nodes/special/router.js","../dist/nodes/special/suspense.js","../dist/nodes/style.js","../dist/nodes/sub.js","../dist/nodes/summary.js","../dist/nodes/sup.js","../dist/nodes/svg.js","../dist/nodes/table.js","../dist/nodes/tbody.js","../dist/nodes/td.js","../dist/nodes/textarea.js","../dist/nodes/tfoot.js","../dist/nodes/th.js","../dist/nodes/thead.js","../dist/nodes/time.js","../dist/nodes/title.js","../dist/nodes/tr.js","../dist/nodes/ul.js","../dist/nodes/video.js","../dist/utilities/aurum.js"],"sourcesContent":["export class DataSource {\n    constructor(initialValue) {\n        this.value = initialValue;\n        this.listeners = [];\n    }\n    update(newValue) {\n        this.value = newValue;\n        for (const l of this.listeners) {\n            l(newValue);\n        }\n    }\n    listenAndRepeat(callback, cancellationToken) {\n        callback(this.value);\n        return this.listen(callback, cancellationToken);\n    }\n    listen(callback, cancellationToken) {\n        var _a;\n        this.listeners.push(callback);\n        const cancel = () => {\n            const index = this.listeners.indexOf(callback);\n            if (index !== -1) {\n                this.listeners.splice(index, 1);\n            }\n        };\n        (_a = cancellationToken) === null || _a === void 0 ? void 0 : _a.addCancelable(() => {\n            cancel();\n        });\n        return cancel;\n    }\n    filter(callback, cancellationToken) {\n        const filteredSource = new DataSource();\n        this.listen((value) => {\n            if (callback(value)) {\n                filteredSource.update(value);\n            }\n        }, cancellationToken);\n        return filteredSource;\n    }\n    pipe(targetDataSource, cancellationToken) {\n        this.listen((v) => targetDataSource.update(v), cancellationToken);\n    }\n    map(callback, cancellationToken) {\n        const mappedSource = new DataSource(callback(this.value));\n        this.listen((value) => {\n            mappedSource.update(callback(value));\n        }, cancellationToken);\n        return mappedSource;\n    }\n    unique(cancellationToken) {\n        const uniqueSource = new DataSource(this.value);\n        this.listen((value) => {\n            if (value !== uniqueSource.value) {\n                uniqueSource.update(value);\n            }\n        }, cancellationToken);\n        return uniqueSource;\n    }\n    reduce(reducer, initialValue, cancellationToken) {\n        const reduceSource = new DataSource(initialValue);\n        this.listen((v) => reduceSource.update(reducer(reduceSource.value, v)), cancellationToken);\n        return reduceSource;\n    }\n    aggregate(otherSource, combinator, cancellationToken) {\n        const aggregatedSource = new DataSource(combinator(this.value, otherSource.value));\n        this.listen(() => aggregatedSource.update(combinator(this.value, otherSource.value)), cancellationToken);\n        otherSource.listen(() => aggregatedSource.update(combinator(this.value, otherSource.value)), cancellationToken);\n        return aggregatedSource;\n    }\n    combine(otherSource, cancellationToken) {\n        const combinedDataSource = new DataSource();\n        this.pipe(combinedDataSource, cancellationToken);\n        otherSource.pipe(combinedDataSource, cancellationToken);\n        return combinedDataSource;\n    }\n    debounce(time, cancellationToken) {\n        const debouncedDataSource = new DataSource();\n        let timeout;\n        this.listen((v) => {\n            clearTimeout(timeout);\n            timeout = setTimeout(() => {\n                debouncedDataSource.update(v);\n            }, time);\n        }, cancellationToken);\n        return debouncedDataSource;\n    }\n    buffer(time, cancellationToken) {\n        const bufferedDataSource = new DataSource();\n        let timeout;\n        let buffer = [];\n        this.listen((v) => {\n            buffer.push(v);\n            if (!timeout) {\n                timeout = setTimeout(() => {\n                    timeout = undefined;\n                    bufferedDataSource.update(buffer);\n                    buffer = [];\n                }, time);\n            }\n        }, cancellationToken);\n        return bufferedDataSource;\n    }\n    queue(time, cancellationToken) {\n        const queueDataSource = new ArrayDataSource();\n        this.listen((v) => {\n            queueDataSource.push(v);\n        }, cancellationToken);\n        return queueDataSource;\n    }\n    pick(key, cancellationToken) {\n        var _a;\n        const subDataSource = new DataSource((_a = this.value) === null || _a === void 0 ? void 0 : _a[key]);\n        this.listen((v) => {\n            if (v !== undefined && v !== null) {\n                subDataSource.update(v[key]);\n            }\n            else {\n                subDataSource.update(v);\n            }\n        }, cancellationToken);\n        return subDataSource;\n    }\n    cancelAll() {\n        this.listeners.length = 0;\n    }\n}\nexport class ArrayDataSource {\n    constructor(initialData) {\n        if (initialData) {\n            this.data = initialData.slice();\n        }\n        else {\n            this.data = [];\n        }\n        this.listeners = [];\n    }\n    listenAndRepeat(callback, cancellationToken) {\n        callback({\n            operation: 'add',\n            operationDetailed: 'append',\n            index: 0,\n            items: this.data,\n            newState: this.data,\n            count: this.data.length\n        });\n        return this.listen(callback, cancellationToken);\n    }\n    listen(callback, cancellationToken) {\n        var _a;\n        this.listeners.push(callback);\n        const cancel = () => {\n            const index = this.listeners.indexOf(callback);\n            if (index !== -1) {\n                this.listeners.splice(index, 1);\n            }\n        };\n        (_a = cancellationToken) === null || _a === void 0 ? void 0 : _a.addCancelable(() => {\n            cancel();\n        });\n        return cancel;\n    }\n    get length() {\n        return this.data.length;\n    }\n    getData() {\n        return this.data.slice();\n    }\n    get(index) {\n        return this.data[index];\n    }\n    set(index, item) {\n        const old = this.data[index];\n        if (old === item) {\n            return;\n        }\n        this.data[index] = item;\n        this.update({ operation: 'replace', operationDetailed: 'replace', target: old, count: 1, index, items: [item], newState: this.data });\n    }\n    swap(indexA, indexB) {\n        if (indexA === indexB) {\n            return;\n        }\n        const itemA = this.data[indexA];\n        const itemB = this.data[indexB];\n        this.data[indexB] = itemA;\n        this.data[indexA] = itemB;\n        this.update({ operation: 'swap', operationDetailed: 'swap', index: indexA, index2: indexB, items: [itemA, itemB], newState: this.data });\n    }\n    swapItems(itemA, itemB) {\n        if (itemA === itemB) {\n            return;\n        }\n        const indexA = this.data.indexOf(itemA);\n        const indexB = this.data.indexOf(itemB);\n        if (indexA !== -1 && indexB !== -1) {\n            this.data[indexB] = itemA;\n            this.data[indexA] = itemB;\n        }\n        this.update({ operation: 'swap', operationDetailed: 'swap', index: indexA, index2: indexB, items: [itemA, itemB], newState: this.data });\n    }\n    push(...items) {\n        this.data.push(...items);\n        this.update({\n            operation: 'add',\n            operationDetailed: 'append',\n            count: items.length,\n            index: this.data.length - items.length,\n            items,\n            newState: this.data\n        });\n    }\n    unshift(...items) {\n        this.data.unshift(...items);\n        this.update({ operation: 'add', operationDetailed: 'prepend', count: items.length, items, index: 0, newState: this.data });\n    }\n    pop() {\n        const item = this.data.pop();\n        this.update({\n            operation: 'remove',\n            operationDetailed: 'removeRight',\n            count: 1,\n            index: this.data.length,\n            items: [item],\n            newState: this.data\n        });\n        return item;\n    }\n    merge(newData) {\n        for (let i = 0; i < newData.length; i++) {\n            if (this.data[i] !== newData[i]) {\n                if (this.length > i) {\n                    this.set(i, newData[i]);\n                }\n                else {\n                    this.push(newData[i]);\n                }\n            }\n        }\n        if (this.length > newData.length) {\n            this.removeRight(this.length - newData.length);\n        }\n    }\n    removeRight(count) {\n        const result = this.data.splice(this.length - count, count);\n        this.update({ operation: 'remove', operationDetailed: 'removeRight', count, index: this.length - count, items: result, newState: this.data });\n    }\n    removeLeft(count) {\n        const result = this.data.splice(0, count);\n        this.update({ operation: 'remove', operationDetailed: 'removeLeft', count, index: 0, items: result, newState: this.data });\n    }\n    remove(item) {\n        const index = this.data.indexOf(item);\n        if (index !== -1) {\n            this.data.splice(index, 1);\n            this.update({ operation: 'remove', operationDetailed: 'remove', count: 1, index, items: [item], newState: this.data });\n        }\n    }\n    clear() {\n        const items = this.data;\n        this.data = [];\n        this.update({\n            operation: 'remove',\n            operationDetailed: 'clear',\n            count: items.length,\n            index: 0,\n            items,\n            newState: this.data\n        });\n    }\n    shift() {\n        const item = this.data.shift();\n        this.update({ operation: 'remove', operationDetailed: 'removeLeft', items: [item], count: 1, index: 0, newState: this.data });\n        return item;\n    }\n    toArray() {\n        return this.data.slice();\n    }\n    filter(callback, cancellationToken) {\n        return new FilteredArrayView(this, callback, cancellationToken);\n    }\n    forEach(callbackfn, thisArg) {\n        return this.data.forEach(callbackfn, thisArg);\n    }\n    toDataSource() {\n        const stream = new DataSource(this.data);\n        this.listen((s) => {\n            stream.update(s.newState);\n        });\n        return stream;\n    }\n    update(change) {\n        for (const l of this.listeners) {\n            l(change);\n        }\n    }\n}\nexport class FilteredArrayView extends ArrayDataSource {\n    constructor(parent, filter, cancellationToken) {\n        const initial = parent.data.filter(filter);\n        super(initial);\n        this.parent = parent;\n        this.viewFilter = filter;\n        parent.listen((change) => {\n            let filteredItems;\n            switch (change.operationDetailed) {\n                case 'removeLeft':\n                case 'removeRight':\n                case 'remove':\n                case 'clear':\n                    for (const item of change.items) {\n                        this.remove(item);\n                    }\n                    break;\n                case 'prepend':\n                    filteredItems = change.items.filter(this.viewFilter);\n                    this.unshift(...filteredItems);\n                    break;\n                case 'append':\n                    filteredItems = change.items.filter(this.viewFilter);\n                    this.push(...filteredItems);\n                    break;\n                case 'swap':\n                    const indexA = this.data.indexOf(change.items[0]);\n                    const indexB = this.data.indexOf(change.items[1]);\n                    if (indexA !== -1 && indexB !== -1) {\n                        this.swap(indexA, indexB);\n                    }\n                    break;\n                case 'replace':\n                    const index = this.data.indexOf(change.target);\n                    if (index !== -1) {\n                        const acceptNew = this.viewFilter(change.items[0]);\n                        if (acceptNew) {\n                            this.set(index, change.items[0]);\n                        }\n                        else {\n                            this.remove(change.target);\n                        }\n                    }\n                    break;\n            }\n        }, cancellationToken);\n    }\n    updateFilter(filter) {\n        if (this.viewFilter === filter) {\n            return;\n        }\n        this.viewFilter = filter;\n        this.refresh();\n    }\n    refresh() {\n        this.clear();\n        const data = this.parent.data.filter(this.viewFilter);\n        this.push(...data);\n    }\n}\n//# sourceMappingURL=data_source.js.map","export class LinkedListNode {\n    constructor(data) {\n        this.data = data;\n    }\n    deleteNext() {\n        if (this.next) {\n            const overNext = this.next.next;\n            this.next.next = undefined;\n            this.next.previous = undefined;\n            this.next = overNext;\n            if (this.next) {\n                this.next.previous = this;\n            }\n        }\n    }\n    deletePrevious() {\n        if (this.previous) {\n            const overPrevious = this.previous.previous;\n            this.previous.next = undefined;\n            this.previous.previous = undefined;\n            this.previous = overPrevious;\n            if (this.previous) {\n                this.previous.next = this;\n            }\n        }\n    }\n}\n//# sourceMappingURL=linked_list_node.js.map","import { LinkedListNode } from './linked_list_node';\nexport class LinkedList {\n    constructor(data = []) {\n        this.length = 0;\n        data.forEach((d) => this.append(d));\n    }\n    find(predicate) {\n        let ptr = this.rootNode;\n        while (ptr && !predicate(ptr)) {\n            ptr = ptr.next;\n        }\n        return ptr;\n    }\n    append(element) {\n        if (!this.rootNode && !this.lastNode) {\n            this.rootNode = this.lastNode = new LinkedListNode(element);\n        }\n        else {\n            this.lastNode.next = new LinkedListNode(element);\n            this.lastNode.next.previous = this.lastNode;\n            this.lastNode = this.lastNode.next;\n        }\n        this.length++;\n        return element;\n    }\n    forEach(cb) {\n        this.find((n) => {\n            cb(n.data);\n            return false;\n        });\n    }\n    prepend(element) {\n        if (!this.rootNode && !this.lastNode) {\n            this.rootNode = this.lastNode = new LinkedListNode(element);\n        }\n        else {\n            this.rootNode.previous = new LinkedListNode(element);\n            this.rootNode.previous.next = this.rootNode;\n            this.rootNode = this.rootNode.previous;\n        }\n        this.length++;\n        return element;\n    }\n    remove(element) {\n        if (element === this.rootNode.data) {\n            this.rootNode = this.rootNode.next;\n            this.length--;\n        }\n        else {\n            const result = this.find((e) => e.next && e.next.data === element);\n            if (result) {\n                if (result.next === this.lastNode) {\n                    this.lastNode = result;\n                }\n                result.deleteNext();\n                this.length--;\n            }\n        }\n    }\n}\n//# sourceMappingURL=linked_list.js.map","import { LinkedList } from './linkedlist/linked_list';\nexport class CancellationToken {\n    constructor(...cancellables) {\n        this.cancelables = new LinkedList(cancellables);\n        this._isCancelled = false;\n    }\n    get isCanceled() {\n        return this._isCancelled;\n    }\n    addCancelable(delegate) {\n        this.throwIfCancelled('attempting to add cancellable to token that is already cancelled');\n        this.cancelables.append(delegate);\n        if (this.cancelables.length > 200) {\n            console.log('potential memory leak: cancellation token has over 200 clean up calls');\n        }\n        return this;\n    }\n    removeCancelable(delegate) {\n        this.throwIfCancelled('attempting to remove cancellable from token that is already cancelled');\n        this.cancelables.remove(delegate);\n        return this;\n    }\n    addDisposable(disposable) {\n        this.addCancelable(() => disposable.dispose());\n        return this;\n    }\n    callIfNotCancelled(action) {\n        if (!this.isCanceled) {\n            action();\n        }\n    }\n    setTimeout(cb, time = 0) {\n        const id = setTimeout(() => {\n            this.removeCancelable(cancelable);\n            cb();\n        }, time);\n        const cancelable = () => clearTimeout(id);\n        this.addCancelable(cancelable);\n    }\n    setInterval(cb, time) {\n        const id = setInterval(cb, time);\n        this.addCancelable(() => clearInterval(id));\n    }\n    requestAnimationFrame(cb) {\n        const id = requestAnimationFrame(cb);\n        this.addCancelable(() => cancelAnimationFrame(id));\n    }\n    animationLoop(cb) {\n        let id = requestAnimationFrame(function f(time) {\n            cb(time);\n            id = requestAnimationFrame(f);\n        });\n        this.addCancelable(() => cancelAnimationFrame(id));\n    }\n    throwIfCancelled(msg) {\n        if (this.isCanceled) {\n            throw new Error(msg || 'cancellation token is cancelled');\n        }\n    }\n    chain(target, twoWays = false) {\n        if (twoWays) {\n            target.chain(this, false);\n        }\n        this.addCancelable(() => target.cancel());\n        return this;\n    }\n    registerDomEvent(eventEmitter, event, callback) {\n        eventEmitter.addEventListener(event, callback);\n        this.addCancelable(() => eventEmitter.removeEventListener(event, callback));\n        return this;\n    }\n    cancel() {\n        if (this.isCanceled) {\n            return;\n        }\n        this._isCancelled = true;\n        this.cancelables.forEach((c) => c());\n        this.cancelables = undefined;\n    }\n}\n//# sourceMappingURL=cancellation_token.js.map","export const ownerSymbol = Symbol('owner');\n//# sourceMappingURL=owner_symbol.js.map","import { DataSource, ArrayDataSource } from '../stream/data_source';\nimport { CancellationToken } from '../utilities/cancellation_token';\nimport { ownerSymbol } from '../utilities/owner_symbol';\nexport class AurumElement {\n    constructor(props, domNodeName) {\n        var _a, _b;\n        this.onDispose = props.onDispose;\n        this.onAttach = props.onAttach;\n        this.onDetach = props.onDetach;\n        this.domNodeName = domNodeName;\n        this.template = props.template;\n        this.cancellationToken = new CancellationToken();\n        this.node = this.create(props);\n        this.initialize(props);\n        (_b = (_a = props).onCreate) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n    }\n    initialize(props) {\n        if (!(this.node instanceof Text)) {\n            this.children = [];\n        }\n        this.createEventHandlers([\n            'drag',\n            'name',\n            'dragstart',\n            'dragend',\n            'dragexit',\n            'dragover',\n            'dragenter',\n            'dragleave',\n            'blur',\n            'focus',\n            'click',\n            'dblclick',\n            'keydown',\n            'keyhit',\n            'keyup',\n            'mousedown',\n            'mouseup',\n            'mouseenter',\n            'mouseleave',\n            'mousewheel'\n        ], props);\n        const dataProps = Object.keys(props).filter((e) => e.startsWith('x-') || e.startsWith('data-'));\n        this.bindProps(['id', 'draggable', 'tabindex', 'style', 'role', 'contentEditable', ...dataProps], props);\n        if (props.class) {\n            this.handleClass(props.class);\n        }\n        if (props.repeatModel) {\n            this.handleRepeat(props.repeatModel);\n        }\n    }\n    bindProps(keys, props) {\n        for (const key of keys) {\n            if (props[key]) {\n                this.assignStringSourceToAttribute(props[key], key);\n            }\n        }\n    }\n    createEventHandlers(keys, props) {\n        if (this.node instanceof Text) {\n            return;\n        }\n        for (const key of keys) {\n            const computedEventName = 'on' + key[0].toUpperCase() + key.slice(1);\n            let eventEmitter;\n            Object.defineProperty(this, computedEventName, {\n                get() {\n                    if (!eventEmitter) {\n                        eventEmitter = new DataSource();\n                    }\n                    return eventEmitter;\n                },\n                set() {\n                    throw new Error(computedEventName + ' is read only');\n                }\n            });\n            if (props[computedEventName]) {\n                if (props[computedEventName] instanceof DataSource) {\n                    this[computedEventName].listen(props[computedEventName].update.bind(props.onClick), this.cancellationToken);\n                }\n                else if (typeof props[computedEventName] === 'function') {\n                    this[computedEventName].listen(props[computedEventName], this.cancellationToken);\n                }\n            }\n            this.cancellationToken.registerDomEvent(this.node, key, (e) => this[computedEventName].update(e));\n        }\n    }\n    handleRepeat(dataSource) {\n        if (dataSource instanceof ArrayDataSource) {\n            this.repeatData = dataSource;\n        }\n        else {\n            this.repeatData = new ArrayDataSource(dataSource);\n        }\n        if (this.repeatData.length) {\n            this.children.push(...this.repeatData.toArray().map((i) => this.template.generate(i)));\n            this.render();\n        }\n        this.repeatData.listen((change) => {\n            switch (change.operationDetailed) {\n                case 'swap':\n                    const itemA = this.children[change.index];\n                    const itemB = this.children[change.index2];\n                    this.children[change.index2] = itemA;\n                    this.children[change.index] = itemB;\n                    break;\n                case 'append':\n                    this.children.push(...change.items.map((i) => this.template.generate(i)));\n                    break;\n                case 'prepend':\n                    this.children.unshift(...change.items.map((i) => this.template.generate(i)));\n                    break;\n                case 'remove':\n                case 'removeLeft':\n                case 'removeRight':\n                case 'clear':\n                    this.children.splice(change.index, change.count);\n                    break;\n                default:\n                    this.children.length = 0;\n                    this.children.push(...this.repeatData.toArray().map((i) => this.template.generate(i)));\n                    break;\n            }\n            this.render();\n        });\n    }\n    render() {\n        if (this.rerenderPending) {\n            return;\n        }\n        if (this.node instanceof Text) {\n            return;\n        }\n        this.cancellationToken.setTimeout(() => {\n            for (let i = 0; i < this.children.length; i++) {\n                if (this.node.childNodes.length <= i) {\n                    this.addChildrenDom(this.children.slice(i, this.children.length));\n                    break;\n                }\n                if (this.node.childNodes[i][ownerSymbol] !== this.children[i]) {\n                    if (!this.children.includes(this.node.childNodes[i][ownerSymbol])) {\n                        const child = this.node.childNodes[i];\n                        child.remove();\n                        child[ownerSymbol].dispose();\n                        i--;\n                        continue;\n                    }\n                    const index = this.getChildIndex(this.children[i].node);\n                    if (index !== -1) {\n                        this.swapChildrenDom(i, index);\n                    }\n                    else {\n                        this.addDomNodeAt(this.children[i].node, i);\n                    }\n                }\n            }\n            while (this.node.childNodes.length > this.children.length) {\n                const child = this.node.childNodes[this.node.childNodes.length - 1];\n                this.node.removeChild(child);\n                child[ownerSymbol].dispose();\n            }\n            this.rerenderPending = false;\n        });\n        this.rerenderPending = true;\n    }\n    assignStringSourceToAttribute(data, key) {\n        if (this.node instanceof Text) {\n            return;\n        }\n        if (typeof data === 'string') {\n            this.node.setAttribute(key, data);\n        }\n        else {\n            if (data.value) {\n                this.node.setAttribute(key, data.value);\n            }\n            data.unique(this.cancellationToken).listen((v) => this.node.setAttribute(key, v), this.cancellationToken);\n        }\n    }\n    handleAttach() {\n        var _a, _b;\n        if (this.node.isConnected) {\n            (_b = (_a = this).onAttach) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n            for (const child of this.node.childNodes) {\n                child[ownerSymbol].handleAttach();\n            }\n        }\n    }\n    handleDetach() {\n        var _a, _b;\n        if (!this.node.isConnected) {\n            (_b = (_a = this).onDetach) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n            for (const child of this.node.childNodes) {\n                if (child[ownerSymbol]) {\n                    child[ownerSymbol].handleDetach();\n                }\n            }\n        }\n    }\n    handleClass(data) {\n        if (this.node instanceof Text) {\n            return;\n        }\n        if (typeof data === 'string') {\n            this.node.className = data;\n        }\n        else if (data instanceof DataSource) {\n            if (data.value) {\n                if (Array.isArray(data.value)) {\n                    this.node.className = data.value.join(' ');\n                    data.unique(this.cancellationToken).listen(() => {\n                        this.node.className = data.value.join(' ');\n                    }, this.cancellationToken);\n                }\n                else {\n                    this.node.className = data.value;\n                    data.unique(this.cancellationToken).listen(() => {\n                        this.node.className = data.value;\n                    }, this.cancellationToken);\n                }\n            }\n            data.unique(this.cancellationToken).listen((v) => (this.node.className = v), this.cancellationToken);\n        }\n        else {\n            const value = data.reduce((p, c) => {\n                if (typeof c === 'string') {\n                    return `${p} ${c}`;\n                }\n                else {\n                    if (c.value) {\n                        return `${p} ${c.value}`;\n                    }\n                    else {\n                        return p;\n                    }\n                }\n            }, '');\n            this.node.className = value;\n            for (const i of data) {\n                if (i instanceof DataSource) {\n                    i.unique(this.cancellationToken).listen((v) => {\n                        const value = data.reduce((p, c) => {\n                            if (typeof c === 'string') {\n                                return `${p} ${c}`;\n                            }\n                            else {\n                                if (c.value) {\n                                    return `${p} ${c.value}`;\n                                }\n                                else {\n                                    return p;\n                                }\n                            }\n                        }, '');\n                        this.node.className = value;\n                    }, this.cancellationToken);\n                }\n            }\n        }\n    }\n    resolveStringSource(source) {\n        if (typeof source === 'string') {\n            return source;\n        }\n        else {\n            return source.value;\n        }\n    }\n    create(props) {\n        const node = document.createElement(this.domNodeName);\n        node[ownerSymbol] = this;\n        return node;\n    }\n    getChildIndex(node) {\n        let i = 0;\n        for (const child of node.childNodes) {\n            if (child === node) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n    hasChild(node) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        for (const child of node.children) {\n            if (child === node) {\n                return true;\n            }\n        }\n        return false;\n    }\n    addChildrenDom(children) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        for (const child of children) {\n            this.node.appendChild(child.node);\n            child.handleAttach();\n        }\n    }\n    swapChildrenDom(indexA, indexB) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (indexA === indexB) {\n            return;\n        }\n        const nodeA = this.node.children[indexA];\n        const nodeB = this.node.children[indexB];\n        nodeA.remove();\n        nodeB.remove();\n        if (indexA < indexB) {\n            this.addDomNodeAt(nodeB, indexA);\n            this.addDomNodeAt(nodeA, indexB);\n        }\n        else {\n            this.addDomNodeAt(nodeA, indexB);\n            this.addDomNodeAt(nodeB, indexA);\n        }\n    }\n    addDomNodeAt(node, index) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (index >= this.node.childElementCount) {\n            this.node.appendChild(node);\n            node[ownerSymbol].handleAttach();\n        }\n        else {\n            this.node.insertBefore(node, this.node.children[index]);\n            node[ownerSymbol].handleAttach();\n        }\n    }\n    remove() {\n        if (this.hasParent()) {\n            this.node.parentElement[ownerSymbol].removeChild(this.node);\n        }\n    }\n    hasParent() {\n        return !!this.node.parentElement;\n    }\n    isConnected() {\n        return this.node.isConnected;\n    }\n    removeChild(child) {\n        const index = this.children.indexOf(child);\n        if (index !== -1) {\n            this.children.splice(index, 1);\n        }\n        this.render();\n    }\n    removeChildAt(index) {\n        this.children.splice(index, 1);\n        this.render();\n    }\n    swapChildren(indexA, indexB) {\n        if (indexA === indexB) {\n            return;\n        }\n        const nodeA = this.children[indexA];\n        const nodeB = this.children[indexB];\n        this.children[indexA] = nodeB;\n        this.children[indexB] = nodeA;\n        this.render();\n    }\n    clearChildren() {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        this.children.length = 0;\n        this.render();\n    }\n    addChild(child) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (child instanceof Template) {\n            return;\n        }\n        child = this.childNodeToAurum(child);\n        this.children.push(child);\n        this.render();\n    }\n    childNodeToAurum(child) {\n        if (typeof child === 'string' || child instanceof DataSource) {\n            child = new TextNode({\n                text: child\n            });\n        }\n        else if (!(child instanceof AurumElement)) {\n            child = new TextNode({\n                text: child.toString()\n            });\n        }\n        return child;\n    }\n    addChildAt(child, index) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (child instanceof Template) {\n            return;\n        }\n        child = this.childNodeToAurum(child);\n        this.children.splice(index, 0, child);\n        this.render();\n    }\n    addChildren(nodes) {\n        if (this.node instanceof Text) {\n            throw new Error(\"Text nodes don't have children\");\n        }\n        if (nodes.length === 0) {\n            return;\n        }\n        for (const child of nodes) {\n            this.addChild(child);\n        }\n    }\n    dispose() {\n        this.internalDispose(true);\n    }\n    internalDispose(detach) {\n        var _a, _b;\n        this.cancellationToken.cancel();\n        if (detach) {\n            this.remove();\n        }\n        for (const child of this.node.childNodes) {\n            if (child[ownerSymbol]) {\n                child[ownerSymbol].internalDispose(false);\n            }\n        }\n        delete this.node[ownerSymbol];\n        delete this.node;\n        (_b = (_a = this).onDispose) === null || _b === void 0 ? void 0 : _b.call(_a, this);\n    }\n}\nexport class Template extends AurumElement {\n    constructor(props) {\n        super(props, 'template');\n        this.ref = props.ref;\n        this.generate = props.generator;\n    }\n}\nexport class TextNode extends AurumElement {\n    constructor(props) {\n        super(props, 'textNode');\n        if (props.text instanceof DataSource) {\n            props.text.listen((v) => (this.node.textContent = v), this.cancellationToken);\n        }\n    }\n    create(props) {\n        const node = document.createTextNode(this.resolveStringSource(props.text));\n        node[ownerSymbol] = this;\n        return node;\n    }\n}\n//# sourceMappingURL=aurum_element.js.map","import { AurumElement } from './aurum_element';\nexport class A extends AurumElement {\n    constructor(props) {\n        super(props, 'a');\n        this.bindProps(['href', 'target'], props);\n    }\n}\n//# sourceMappingURL=a.js.map","import { AurumElement } from './aurum_element';\nexport class Abbr extends AurumElement {\n    constructor(props) {\n        super(props, 'abbr');\n    }\n}\n//# sourceMappingURL=abbr.js.map","import { AurumElement } from './aurum_element';\nexport class Area extends AurumElement {\n    constructor(props) {\n        super(props, 'area');\n    }\n}\n//# sourceMappingURL=area.js.map","import { AurumElement } from './aurum_element';\nexport class Article extends AurumElement {\n    constructor(props) {\n        super(props, 'article');\n    }\n}\n//# sourceMappingURL=article.js.map","import { AurumElement } from './aurum_element';\nexport class Aside extends AurumElement {\n    constructor(props) {\n        super(props, 'aside');\n    }\n}\n//# sourceMappingURL=aside.js.map","import { AurumElement } from './aurum_element';\nexport class Audio extends AurumElement {\n    constructor(props) {\n        super(props, 'audio');\n        this.bindProps(['controls', 'autoplay', 'loop', 'muted', 'preload', 'src'], props);\n    }\n}\n//# sourceMappingURL=audio.js.map","import { AurumElement } from './aurum_element';\nexport class B extends AurumElement {\n    constructor(props) {\n        super(props, 'b');\n    }\n}\n//# sourceMappingURL=b.js.map","import { AurumElement } from './aurum_element';\nexport class Br extends AurumElement {\n    constructor(props) {\n        super(props, 'br');\n    }\n}\n//# sourceMappingURL=br.js.map","import { AurumElement } from './aurum_element';\nexport class Button extends AurumElement {\n    constructor(props) {\n        super(props, 'button');\n        this.bindProps(['disabled'], props);\n    }\n}\n//# sourceMappingURL=button.js.map","import { AurumElement } from './aurum_element';\nexport class Canvas extends AurumElement {\n    constructor(props) {\n        super(props, 'canvas');\n        this.bindProps(['width', 'height'], props);\n    }\n}\n//# sourceMappingURL=canvas.js.map","import { AurumElement } from './aurum_element';\nexport class Data extends AurumElement {\n    constructor(props) {\n        super(props, 'data');\n        this.bindProps(['datalue'], props);\n    }\n}\n//# sourceMappingURL=data.js.map","import { AurumElement } from './aurum_element';\nexport class Details extends AurumElement {\n    constructor(props) {\n        super(props, 'details');\n    }\n}\n//# sourceMappingURL=details.js.map","import { AurumElement } from './aurum_element';\nexport class Div extends AurumElement {\n    constructor(props) {\n        super(props, 'div');\n    }\n}\n//# sourceMappingURL=div.js.map","import { AurumElement } from './aurum_element';\nexport class Em extends AurumElement {\n    constructor(props) {\n        super(props, 'em');\n    }\n}\n//# sourceMappingURL=em.js.map","import { AurumElement } from './aurum_element';\nexport class Footer extends AurumElement {\n    constructor(props) {\n        super(props, 'footer');\n    }\n}\n//# sourceMappingURL=footer.js.map","import { AurumElement } from './aurum_element';\nexport class Form extends AurumElement {\n    constructor(props) {\n        super(props, 'form');\n    }\n}\n//# sourceMappingURL=form.js.map","import { AurumElement } from './aurum_element';\nexport class H1 extends AurumElement {\n    constructor(props) {\n        super(props, 'h1');\n    }\n}\n//# sourceMappingURL=h1.js.map","import { AurumElement } from './aurum_element';\nexport class H2 extends AurumElement {\n    constructor(props) {\n        super(props, 'h2');\n    }\n}\n//# sourceMappingURL=h2.js.map","import { AurumElement } from './aurum_element';\nexport class H3 extends AurumElement {\n    constructor(props) {\n        super(props, 'h3');\n    }\n}\n//# sourceMappingURL=h3.js.map","import { AurumElement } from './aurum_element';\nexport class H4 extends AurumElement {\n    constructor(props) {\n        super(props, 'h4');\n    }\n}\n//# sourceMappingURL=h4.js.map","import { AurumElement } from './aurum_element';\nexport class H5 extends AurumElement {\n    constructor(props) {\n        super(props, 'h5');\n    }\n}\n//# sourceMappingURL=h5.js.map","import { AurumElement } from './aurum_element';\nexport class H6 extends AurumElement {\n    constructor(props) {\n        super(props, 'h6');\n    }\n}\n//# sourceMappingURL=h6.js.map","import { AurumElement } from './aurum_element';\nexport class Header extends AurumElement {\n    constructor(props) {\n        super(props, 'header');\n    }\n}\n//# sourceMappingURL=header.js.map","import { AurumElement } from './aurum_element';\nexport class Heading extends AurumElement {\n    constructor(props) {\n        super(props, 'heading');\n    }\n}\n//# sourceMappingURL=heading.js.map","import { AurumElement } from './aurum_element';\nexport class I extends AurumElement {\n    constructor(props) {\n        super(props, 'i');\n    }\n}\n//# sourceMappingURL=i.js.map","import { AurumElement } from './aurum_element';\nexport class IFrame extends AurumElement {\n    constructor(props) {\n        super(props, 'iframe');\n        this.bindProps(['src', 'srcdoc', 'width', 'height', 'allow', 'allowFullscreen', 'allowPaymentRequest'], props);\n    }\n}\n//# sourceMappingURL=iframe.js.map","import { AurumElement } from './aurum_element';\nexport class Img extends AurumElement {\n    constructor(props) {\n        super(props, 'img');\n        this.bindProps(['src', 'alt', 'width', 'height', 'referrerPolicy', 'sizes', 'srcset', 'useMap'], props);\n    }\n}\n//# sourceMappingURL=img.js.map","import { AurumElement } from './aurum_element';\nexport class Input extends AurumElement {\n    constructor(props) {\n        var _a, _b, _c;\n        super(props, 'input');\n        if (props.inputValueSource) {\n            this.node.value = (_b = (_a = props.initialValue, (_a !== null && _a !== void 0 ? _a : props.inputValueSource.value)), (_b !== null && _b !== void 0 ? _b : ''));\n            props.inputValueSource.unique().listen((value) => (this.node.value = value), this.cancellationToken);\n        }\n        else {\n            this.node.value = (_c = props.initialValue, (_c !== null && _c !== void 0 ? _c : ''));\n        }\n        this.bindProps([\n            'placeholder',\n            'readonly',\n            'disabled',\n            'accept',\n            'alt',\n            'autocomplete',\n            'autofocus',\n            'checked',\n            'defaultChecked',\n            'formAction',\n            'formEnctype',\n            'formMethod',\n            'formNoValidate',\n            'formTarget',\n            'max',\n            'maxLength',\n            'min',\n            'minLength',\n            'pattern',\n            'multiple',\n            'required',\n            'type'\n        ], props);\n        this.createEventHandlers(['input', 'change'], props);\n        if (props.inputValueSource) {\n            this.onInput.map((p) => this.node.value).pipe(props.inputValueSource);\n        }\n    }\n}\n//# sourceMappingURL=input.js.map","import { AurumElement } from './aurum_element';\nexport class Label extends AurumElement {\n    constructor(props) {\n        super(props, 'label');\n        this.bindProps(['for'], props);\n    }\n}\n//# sourceMappingURL=label.js.map","import { AurumElement } from './aurum_element';\nexport class Li extends AurumElement {\n    constructor(props) {\n        super(props, 'li');\n    }\n}\n//# sourceMappingURL=li.js.map","import { AurumElement } from './aurum_element';\nexport class Link extends AurumElement {\n    constructor(props) {\n        super(props, 'link');\n        this.bindProps(['href', 'rel', 'media', 'as', 'disabled', 'type'], props);\n    }\n}\n//# sourceMappingURL=link.js.map","import { AurumElement } from './aurum_element';\nexport class Nav extends AurumElement {\n    constructor(props) {\n        super(props, 'nav');\n    }\n}\n//# sourceMappingURL=nav.js.map","import { AurumElement } from './aurum_element';\nexport class NoScript extends AurumElement {\n    constructor(props) {\n        super(props, 'noscript');\n    }\n}\n//# sourceMappingURL=noscript.js.map","import { AurumElement } from './aurum_element';\nexport class Ol extends AurumElement {\n    constructor(props) {\n        super(props, 'ol');\n    }\n}\n//# sourceMappingURL=ol.js.map","import { AurumElement } from './aurum_element';\nexport class Option extends AurumElement {\n    constructor(props) {\n        super(props, 'option');\n    }\n}\n//# sourceMappingURL=option.js.map","import { AurumElement } from './aurum_element';\nexport class P extends AurumElement {\n    constructor(props) {\n        super(props, 'p');\n    }\n}\n//# sourceMappingURL=p.js.map","import { AurumElement } from './aurum_element';\nexport class Pre extends AurumElement {\n    constructor(props) {\n        super(props, 'pre');\n    }\n}\n//# sourceMappingURL=pre.js.map","import { AurumElement } from './aurum_element';\nexport class Progress extends AurumElement {\n    constructor(props) {\n        super(props, 'progress');\n        this.bindProps(['max', 'value'], props);\n    }\n}\n//# sourceMappingURL=progress.js.map","import { AurumElement } from './aurum_element';\nexport class Q extends AurumElement {\n    constructor(props) {\n        super(props, 'q');\n    }\n}\n//# sourceMappingURL=q.js.map","import { AurumElement } from './aurum_element';\nexport class Script extends AurumElement {\n    constructor(props) {\n        super(props, 'script');\n        this.bindProps(['src', 'async', 'defer', 'integrity', 'noModule', 'type'], props);\n    }\n}\n//# sourceMappingURL=script.js.map","import { AurumElement } from './aurum_element';\nexport class Select extends AurumElement {\n    constructor(props) {\n        super(props, 'select');\n    }\n}\n//# sourceMappingURL=select.js.map","import { AurumElement } from './aurum_element';\nexport class Source extends AurumElement {\n    constructor(props) {\n        super(props, 'source');\n        this.bindProps(['src', 'srcSet', 'media', 'sizes', 'type'], props);\n    }\n}\n//# sourceMappingURL=source.js.map","import { AurumElement } from './aurum_element';\nexport class Span extends AurumElement {\n    constructor(props) {\n        super(props, 'span');\n    }\n}\n//# sourceMappingURL=span.js.map","import { AurumElement } from '../aurum_element';\nexport class Switch extends AurumElement {\n    constructor(props) {\n        super(props, 'switch');\n        this.firstRender = true;\n        this.templateMap = props.templateMap;\n        this.renderSwitch(props.state.value);\n        props.state.listen((data) => {\n            this.renderSwitch(data);\n        }, this.cancellationToken);\n    }\n    renderSwitch(data) {\n        var _a;\n        if (data !== this.lastValue || this.firstRender) {\n            this.lastValue = data;\n            this.firstRender = false;\n            this.clearChildren();\n            if (data !== undefined && data !== null) {\n                const template = (_a = this.templateMap[data.toString()], (_a !== null && _a !== void 0 ? _a : this.template));\n                if (template) {\n                    const result = template.generate();\n                    this.addChild(result);\n                }\n            }\n            else if (this.template) {\n                const result = this.template.generate();\n                this.addChild(result);\n            }\n        }\n    }\n}\n//# sourceMappingURL=switch.js.map","import { Switch } from './switch';\nimport { DataSource } from '../../stream/data_source';\nexport class AurumRouter extends Switch {\n    constructor(props) {\n        const urlDataSource = new DataSource(location.hash.substring(1));\n        super(Object.assign(Object.assign({}, props), { state: urlDataSource }));\n        window.addEventListener('hashchange', () => {\n            const hash = location.hash.substring(1);\n            if (hash.includes('?')) {\n                urlDataSource.update(hash.substring(0, hash.indexOf('?')));\n            }\n            else {\n                urlDataSource.update(hash);\n            }\n        });\n    }\n}\n//# sourceMappingURL=router.js.map","import { AurumElement } from '../aurum_element';\nexport class Suspense extends AurumElement {\n    constructor(props) {\n        super(props, 'suspense');\n        props.loader().then((newElement) => {\n            this.clearChildren();\n            this.addChild(newElement);\n        });\n    }\n}\n//# sourceMappingURL=suspense.js.map","import { AurumElement } from './aurum_element';\nexport class Style extends AurumElement {\n    constructor(props) {\n        super(props, 'style');\n        this.bindProps(['media'], props);\n    }\n}\n//# sourceMappingURL=style.js.map","import { AurumElement } from './aurum_element';\nexport class Sub extends AurumElement {\n    constructor(props) {\n        super(props, 'sub');\n    }\n}\n//# sourceMappingURL=sub.js.map","import { AurumElement } from './aurum_element';\nexport class Summary extends AurumElement {\n    constructor(props) {\n        super(props, 'summary');\n    }\n}\n//# sourceMappingURL=summary.js.map","import { AurumElement } from './aurum_element';\nexport class Sup extends AurumElement {\n    constructor(props) {\n        super(props, 'sup');\n    }\n}\n//# sourceMappingURL=sup.js.map","import { AurumElement } from './aurum_element';\nexport class Svg extends AurumElement {\n    constructor(props) {\n        super(props, 'svg');\n        this.bindProps(['width', 'height'], props);\n    }\n}\n//# sourceMappingURL=svg.js.map","import { AurumElement } from './aurum_element';\nexport class Table extends AurumElement {\n    constructor(props) {\n        super(props, 'table');\n    }\n}\n//# sourceMappingURL=table.js.map","import { AurumElement } from './aurum_element';\nexport class Tbody extends AurumElement {\n    constructor(props) {\n        super(props, 'tbody');\n    }\n}\n//# sourceMappingURL=tbody.js.map","import { AurumElement } from './aurum_element';\nexport class Td extends AurumElement {\n    constructor(props) {\n        super(props, 'td');\n    }\n}\n//# sourceMappingURL=td.js.map","import { AurumElement } from './aurum_element';\nexport class TextArea extends AurumElement {\n    constructor(props) {\n        var _a, _b, _c;\n        super(props, 'textArea');\n        if (props.inputValueSource) {\n            this.node.value = (_b = (_a = props.initialValue, (_a !== null && _a !== void 0 ? _a : props.inputValueSource.value)), (_b !== null && _b !== void 0 ? _b : ''));\n            props.inputValueSource.unique().listen((value) => (this.node.value = value), this.cancellationToken);\n        }\n        else {\n            this.node.value = (_c = props.initialValue, (_c !== null && _c !== void 0 ? _c : ''));\n        }\n        this.bindProps(['placeholder', 'readonly', 'disabled', 'rows', 'wrap', 'autocomplete', 'autofocus', 'max', 'maxLength', 'min', 'minLength', 'required', 'type'], props);\n        this.createEventHandlers(['input', 'change'], props);\n        if (props.inputValueSource) {\n            this.onInput.map((p) => this.node.value).pipe(props.inputValueSource);\n        }\n    }\n}\n//# sourceMappingURL=textarea.js.map","import { AurumElement } from './aurum_element';\nexport class Tfoot extends AurumElement {\n    constructor(props) {\n        super(props, 'tfoot');\n    }\n}\n//# sourceMappingURL=tfoot.js.map","import { AurumElement } from './aurum_element';\nexport class Th extends AurumElement {\n    constructor(props) {\n        super(props, 'th');\n    }\n}\n//# sourceMappingURL=th.js.map","import { AurumElement } from './aurum_element';\nexport class Thead extends AurumElement {\n    constructor(props) {\n        super(props, 'thead');\n    }\n}\n//# sourceMappingURL=thead.js.map","import { AurumElement } from './aurum_element';\nexport class Time extends AurumElement {\n    constructor(props) {\n        super(props, 'time');\n        this.bindProps(['datetime'], props);\n    }\n}\n//# sourceMappingURL=time.js.map","import { AurumElement } from './aurum_element';\nexport class Title extends AurumElement {\n    constructor(props) {\n        super(props, 'title');\n    }\n}\n//# sourceMappingURL=title.js.map","import { AurumElement } from './aurum_element';\nexport class Tr extends AurumElement {\n    constructor(props) {\n        super(props, 'tr');\n    }\n}\n//# sourceMappingURL=tr.js.map","import { AurumElement } from './aurum_element';\nexport class Ul extends AurumElement {\n    constructor(props) {\n        super(props, 'ul');\n    }\n}\n//# sourceMappingURL=ul.js.map","import { AurumElement } from './aurum_element';\nexport class Video extends AurumElement {\n    constructor(props) {\n        super(props, 'video');\n        this.bindProps(['controls', 'autoplay', 'loop', 'muted', 'preload', 'src', 'poster', 'width', 'height'], props);\n    }\n}\n//# sourceMappingURL=video.js.map","import { Template } from '../nodes/aurum_element';\nimport { ownerSymbol } from './owner_symbol';\nimport { Div } from '../nodes/div';\nimport { Button } from '../nodes/button';\nimport { Input } from '../nodes/input';\nimport { Li } from '../nodes/li';\nimport { Span } from '../nodes/span';\nimport { Style } from '../nodes/style';\nimport { Ul } from '../nodes/ul';\nimport { P } from '../nodes/p';\nimport { Img } from '../nodes/img';\nimport { Link } from '../nodes/link';\nimport { Canvas } from '../nodes/canvas';\nimport { A } from '../nodes/a';\nimport { Article } from '../nodes/article';\nimport { Br } from '../nodes/br';\nimport { Form } from '../nodes/form';\nimport { Label } from '../nodes/label';\nimport { Ol } from '../nodes/ol';\nimport { Pre } from '../nodes/pre';\nimport { Progress } from '../nodes/progress';\nimport { Table } from '../nodes/table';\nimport { Td } from '../nodes/td';\nimport { Tr } from '../nodes/tr';\nimport { Th } from '../nodes/th';\nimport { TextArea } from '../nodes/textarea';\nimport { H1 } from '../nodes/h1';\nimport { H2 } from '../nodes/h2';\nimport { H3 } from '../nodes/h3';\nimport { H4 } from '../nodes/h4';\nimport { H5 } from '../nodes/h5';\nimport { H6 } from '../nodes/h6';\nimport { Header } from '../nodes/header';\nimport { Footer } from '../nodes/footer';\nimport { Nav } from '../nodes/nav';\nimport { B } from '../nodes/b';\nimport { I } from '../nodes/i';\nimport { Script } from '../nodes/script';\nimport { Abbr } from '../nodes/abbr';\nimport { Area } from '../nodes/area';\nimport { Aside } from '../nodes/aside';\nimport { Em } from '../nodes/em';\nimport { Heading } from '../nodes/heading';\nimport { IFrame } from '../nodes/iframe';\nimport { NoScript } from '../nodes/noscript';\nimport { Q } from '../nodes/q';\nimport { Select } from '../nodes/select';\nimport { Source } from '../nodes/source';\nimport { Title } from '../nodes/title';\nimport { Video } from '../nodes/video';\nimport { Tbody } from '../nodes/tbody';\nimport { Tfoot } from '../nodes/tfoot';\nimport { Thead } from '../nodes/thead';\nimport { Summary } from '../nodes/summary';\nimport { Details } from '../nodes/details';\nimport { Sub } from '../nodes/sub';\nimport { Sup } from '../nodes/sup';\nimport { Svg } from '../nodes/svg';\nimport { Data } from '../nodes/data';\nimport { Time } from '../nodes/time';\nimport { Option } from '../nodes/option';\nconst nodeMap = {\n    button: Button,\n    div: Div,\n    input: Input,\n    li: Li,\n    span: Span,\n    style: Style,\n    ul: Ul,\n    p: P,\n    img: Img,\n    link: Link,\n    canvas: Canvas,\n    a: A,\n    article: Article,\n    br: Br,\n    form: Form,\n    label: Label,\n    ol: Ol,\n    pre: Pre,\n    progress: Progress,\n    table: Table,\n    td: Td,\n    tr: Tr,\n    th: Th,\n    textarea: TextArea,\n    h1: H1,\n    h2: H2,\n    h3: H3,\n    h4: H4,\n    h5: H5,\n    h6: H6,\n    header: Header,\n    footer: Footer,\n    nav: Nav,\n    b: B,\n    i: I,\n    script: Script,\n    abbr: Abbr,\n    area: Area,\n    aside: Aside,\n    audio: Audio,\n    em: Em,\n    heading: Heading,\n    iframe: IFrame,\n    noscript: NoScript,\n    option: Option,\n    q: Q,\n    select: Select,\n    source: Source,\n    title: Title,\n    video: Video,\n    tbody: Tbody,\n    tfoot: Tfoot,\n    thead: Thead,\n    summary: Summary,\n    details: Details,\n    sub: Sub,\n    sup: Sup,\n    svg: Svg,\n    data: Data,\n    time: Time,\n    template: Template\n};\nexport class Aurum {\n    static attach(aurumElement, dom) {\n        if (dom[ownerSymbol]) {\n            throw new Error('This node is already managed by aurum and cannot be used');\n        }\n        dom.appendChild(aurumElement.node);\n        aurumElement['handleAttach']();\n        dom[ownerSymbol] = aurumElement;\n    }\n    static detach(domNode) {\n        if (domNode[ownerSymbol]) {\n            domNode[ownerSymbol].node.remove();\n            domNode[ownerSymbol].handleDetach();\n            domNode[ownerSymbol].dispose();\n            domNode[ownerSymbol] = undefined;\n        }\n    }\n    static factory(node, args, ...innerNodes) {\n        if (typeof node === 'string') {\n            const type = node;\n            node = nodeMap[node];\n            if (node === undefined) {\n                throw new Error(`Node ${type} does not exist or is not supported`);\n            }\n        }\n        const children = [].concat(...innerNodes).filter((e) => e);\n        const templateMap = {};\n        let defaultTemplate;\n        let hasRef = false;\n        for (const c of children) {\n            if (typeof c === 'string') {\n                continue;\n            }\n            if (c instanceof Template && (!c.ref || c.ref === 'default')) {\n                defaultTemplate = c;\n            }\n            if (c.ref) {\n                templateMap[c.ref] = c;\n                hasRef = true;\n            }\n        }\n        args = (args !== null && args !== void 0 ? args : {});\n        if (defaultTemplate) {\n            args.template = defaultTemplate;\n        }\n        if (hasRef) {\n            args.templateMap = templateMap;\n        }\n        let instance;\n        if (node.prototype) {\n            instance = new node(args || {});\n        }\n        else {\n            instance = node(args || {});\n        }\n        instance.addChildren(children);\n        return instance;\n    }\n}\n//# sourceMappingURL=aurum.js.map"],"names":["DataSource","initialValue","value","listeners","update","newValue","this","l","listenAndRepeat","callback","cancellationToken","listen","push","cancel","index","indexOf","splice","_a","addCancelable","filter","filteredSource","pipe","targetDataSource","v","map","mappedSource","unique","uniqueSource","reduce","reducer","reduceSource","aggregate","otherSource","combinator","aggregatedSource","combine","combinedDataSource","debounce","time","timeout","debouncedDataSource","clearTimeout","setTimeout","buffer","bufferedDataSource","undefined","queue","queueDataSource","ArrayDataSource","pick","key","subDataSource","cancelAll","length","initialData","data","slice","items","newState","count","prototypeAccessors","getData","get","set","item","old","swap","indexA","indexB","itemA","itemB","swapItems","ref","unshift","pop","merge","newData","let","i","removeRight","result","removeLeft","remove","clear","shift","toArray","FilteredArrayView","forEach","callbackfn","thisArg","toDataSource","stream","s","change","parent","initial","viewFilter","filteredItems","operationDetailed","ref$1","target","updateFilter","refresh","LinkedListNode","deleteNext","next","overNext","previous","deletePrevious","overPrevious","LinkedList","d","append","find","predicate","ptr","rootNode","element","lastNode","cb","n","prepend","e","CancellationToken","cancelables","cancellables","_isCancelled","isCanceled","delegate","throwIfCancelled","console","log","removeCancelable","addDisposable","disposable","dispose","callIfNotCancelled","action","id","cancelable","setInterval","clearInterval","requestAnimationFrame","cancelAnimationFrame","animationLoop","f","msg","Error","chain","twoWays","registerDomEvent","eventEmitter","event","addEventListener","removeEventListener","c","const","ownerSymbol","Symbol","AurumElement","props","domNodeName","onDispose","onAttach","onDetach","template","node","create","initialize","_b","onCreate","call","Text","children","createEventHandlers","dataProps","Object","keys","startsWith","bindProps","class","handleClass","repeatModel","handleRepeat","assignStringSourceToAttribute","computedEventName","toUpperCase","defineProperty","bind","onClick","dataSource","repeatData","generate","render","index2","ref$2","rerenderPending","childNodes","addChildrenDom","includes","child","getChildIndex","swapChildrenDom","addDomNodeAt","removeChild","setAttribute","handleAttach","isConnected","handleDetach","className","Array","isArray","join","p","resolveStringSource","source","document","createElement","hasChild","appendChild","nodeA","nodeB","childElementCount","insertBefore","hasParent","parentElement","removeChildAt","swapChildren","clearChildren","addChild","Template","childNodeToAurum","TextNode","text","toString","addChildAt","addChildren","nodes","internalDispose","detach","generator","textContent","createTextNode","A","Abbr","Area","Article","Aside","Audio","B","Br","Button","Canvas","Data","Details","Div","Em","Footer","Form","H1","H2","H3","H4","H5","H6","Header","Heading","I","IFrame","Img","Input","inputValueSource","_c","onInput","Label","Li","Link","Nav","NoScript","Ol","Option","P","Pre","Progress","Q","Script","Select","Source","Span","Switch","firstRender","templateMap","renderSwitch","state","lastValue","AurumRouter","urlDataSource","location","hash","substring","assign","window","Suspense","loader","then","newElement","Style","Sub","Summary","Sup","Svg","Table","Tbody","Td","TextArea","Tfoot","Th","Thead","Time","Title","Tr","Ul","Video","nodeMap","button","div","input","li","span","style","ul","img","link","canvas","a","article","br","form","label","ol","pre","progress","table","td","tr","th","textarea","h1","h2","h3","h4","h5","h6","header","footer","nav","b","script","abbr","area","aside","audio","em","heading","iframe","noscript","option","q","select","title","video","tbody","tfoot","thead","summary","details","sub","sup","svg","Aurum","attach","aurumElement","dom","domNode","factory","args","type","defaultTemplate","instance","concat","innerNodes","hasRef","prototype"],"mappings":"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"}