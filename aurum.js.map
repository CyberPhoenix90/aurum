{"version":3,"file":"aurum.js","sourceRoot":"","sources":["src/utilities/common.ts","src/utilities/linkedlist/linked_list_node.ts","src/utilities/linkedlist/linked_list.ts","src/utilities/cancellation_token.ts","src/stream/event_emitter.ts","src/stream/data_source.ts","src/utilities/owner_symbol.ts","src/nodes/aurum_element.ts","src/nodes/a.ts","src/nodes/abbr.ts","src/nodes/area.ts","src/nodes/article.ts","src/nodes/aside.ts","src/nodes/audio.ts","src/nodes/b.ts","src/nodes/br.ts","src/nodes/button.ts","src/nodes/canvas.ts","src/nodes/data.ts","src/nodes/details.ts","src/nodes/div.ts","src/nodes/em.ts","src/nodes/footer.ts","src/nodes/form.ts","src/nodes/h1.ts","src/nodes/h2.ts","src/nodes/h3.ts","src/nodes/h4.ts","src/nodes/h5.ts","src/nodes/h6.ts","src/nodes/header.ts","src/nodes/heading.ts","src/nodes/i.ts","src/nodes/iframe.ts","src/nodes/img.ts","src/nodes/input.ts","src/nodes/label.ts","src/nodes/li.ts","src/nodes/link.ts","src/nodes/nav.ts","src/nodes/noscript.ts","src/nodes/ol.ts","src/nodes/option.ts","src/nodes/p.ts","src/nodes/pre.ts","src/nodes/progress.ts","src/nodes/q.ts","src/nodes/script.ts","src/nodes/select.ts","src/nodes/source.ts","src/nodes/span.ts","src/nodes/sub.ts","src/nodes/summary.ts","src/nodes/sup.ts","src/nodes/svg.ts","src/nodes/table.ts","src/nodes/tbody.ts","src/nodes/td.ts","src/nodes/textarea.ts","src/nodes/tfoot.ts","src/nodes/th.ts","src/nodes/thead.ts","src/nodes/time.ts","src/nodes/title.ts","src/nodes/tr.ts","src/nodes/ul.ts","src/nodes/video.ts","src/nodes/style.ts","src/nodes/special/switch.ts","src/nodes/special/router.ts","src/nodes/special/suspense.ts","src/utilities/aurum.ts","src/aurumjs.ts","src/nodes/address.ts","src/nodes/hr.ts","src/nodes/special/custom.ts"],"names":[],"mappings":"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","sourcesContent":["import { DataSource } from '../stream/data_source';\n\nexport type StringSource = string | DataSource<string>;\nexport type ClassType = string | DataSource<string> | DataSource<string[]> | Array<string | DataSource<string>>;\n\nexport type Callback<T> = (data?: T) => void;\nexport type Delegate = () => void;\nexport type Predicate<T> = (data: T) => boolean;\nexport type Provider<T> = () => T;\nexport type Comparator<T1, T2> = (value1: T1, value2: T2) => boolean;\nexport type Constructor<T> = new (...args: any[]) => T;\nexport type MapLike<T> = { [key: string]: T };\nexport type Primitive = number | string | boolean | null | undefined;\nexport type JSONObject<T> = { [key: string]: T | JSONObject<T> };\nexport type ValueOrProvider<T> = T | Provider<T>;\nexport type ValueOrArray<T> = T | T[];\n\nexport interface PointLike {\n\tx: number;\n\ty: number;\n}\n\nexport type DataDrain<T> = Callback<T> | DataSource<T>;\n","export class LinkedListNode<T> {\n    public next: LinkedListNode<T>;\n    public previous: LinkedListNode<T>;\n    public data: T;\n\n    constructor(data: T) {\n        this.data = data;\n    }\n\n    public deleteNext() {\n        if (this.next) {\n            const overNext = this.next.next;\n            this.next.next = undefined;\n            this.next.previous = undefined;\n            this.next = overNext;\n            this.next.previous = this;\n        }\n    }\n\n    public deletePrevious() {\n        if (this.previous) {\n            this.previous = this.previous.previous;\n            this.previous.next = undefined;\n            this.previous.previous = undefined;\n        }\n    }\n}\n","import { LinkedListNode } from './linked_list_node';\nimport { Predicate } from '../common';\n\nexport class LinkedList<T> {\n\tpublic rootNode: LinkedListNode<T>;\n\tpublic lastNode: LinkedListNode<T>;\n\tpublic length: number;\n\n\tconstructor(data: T[] = []) {\n\t\tthis.length = 0;\n\t\tdata.forEach((d) => this.append(d));\n\t}\n\n\tpublic find(predicate: Predicate<LinkedListNode<T>>): LinkedListNode<T> {\n\t\tlet ptr: LinkedListNode<T> = this.rootNode;\n\t\twhile (ptr && !predicate(ptr)) {\n\t\t\tptr = ptr.next;\n\t\t}\n\n\t\treturn ptr;\n\t}\n\n\tpublic append(element: T): T {\n\t\tif (!this.rootNode && !this.lastNode) {\n\t\t\tthis.rootNode = this.lastNode = new LinkedListNode(element);\n\t\t} else {\n\t\t\tthis.lastNode.next = new LinkedListNode(element);\n\t\t\tthis.lastNode.next.previous = this.lastNode;\n\t\t\tthis.lastNode = this.lastNode.next;\n\t\t}\n\n\t\tthis.length++;\n\t\treturn element;\n\t}\n\n\tpublic forEach(cb: (d: T) => void) {\n\t\tthis.find((n) => {\n\t\t\tcb(n.data);\n\t\t\treturn false;\n\t\t});\n\t}\n\n\tpublic prepend(element: T): T {\n\t\tif (!this.rootNode && !this.lastNode) {\n\t\t\tthis.rootNode = this.lastNode = new LinkedListNode(element);\n\t\t} else {\n\t\t\tthis.rootNode.previous = new LinkedListNode(element);\n\t\t\tthis.rootNode.previous.next = this.rootNode;\n\t\t\tthis.rootNode = this.rootNode.previous;\n\t\t}\n\t\tthis.length++;\n\t\treturn element;\n\t}\n\n\tpublic remove(element: T) {\n\t\tif (element === this.rootNode.data) {\n\t\t\tthis.rootNode = this.rootNode.next;\n\t\t\tthis.length--;\n\t\t} else {\n\t\t\tconst result = this.find((e) => e.next && e.next.data === element);\n\t\t\tif (result) {\n\t\t\t\tif (result.next === this.lastNode) {\n\t\t\t\t\tthis.lastNode = result;\n\t\t\t\t}\n\t\t\t\tresult.deleteNext();\n\t\t\t\tthis.length--;\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Delegate, Callback } from './common';\nimport { LinkedList } from './linkedlist/linked_list';\n\nexport class CancellationToken {\n\tprivate cancelables: LinkedList<Delegate>;\n\tprivate _isCancelled: boolean;\n\n\tpublic get isCanceled(): boolean {\n\t\treturn this._isCancelled;\n\t}\n\n\tconstructor(...cancellables: Delegate[]) {\n\t\tthis.cancelables = new LinkedList(cancellables);\n\t\tthis._isCancelled = false;\n\t}\n\n\t/**\n\t * Attaches a new cancelable to this token\n\t * @param delegate\n\t */\n\tpublic addCancelable(delegate: Delegate): this {\n\t\tthis.throwIfCancelled('attempting to add cancellable to token that is already cancelled');\n\n\t\tthis.cancelables.append(delegate);\n\n\t\tif (this.cancelables.length > 200) {\n\t\t\tconsole.log('potential memory leak: cancellation token has over 200 clean up calls');\n\t\t}\n\n\t\treturn this;\n\t}\n\n\tpublic removeCancelable(delegate: Delegate): this {\n\t\tthis.throwIfCancelled('attempting to remove cancellable from token that is already cancelled');\n\n\t\tthis.cancelables.remove(delegate);\n\n\t\treturn this;\n\t}\n\n\tpublic addDisposable(disposable: { dispose(): any }): this {\n\t\tthis.addCancelable(() => disposable.dispose());\n\n\t\treturn this;\n\t}\n\n\tpublic callIfNotCancelled(action: Delegate): void {\n\t\tif (!this.isCanceled) {\n\t\t\taction();\n\t\t}\n\t}\n\n\tpublic setTimeout(cb: Delegate, time: number = 0): void {\n\t\tconst id = setTimeout(cb, time);\n\t\tthis.addCancelable(() => clearTimeout(id));\n\t}\n\n\tpublic setInterval(cb: Delegate, time: number): void {\n\t\tconst id = setInterval(cb, time);\n\t\tthis.addCancelable(() => clearInterval(id));\n\t}\n\n\tpublic requestAnimationFrame(cb: Callback<number>): void {\n\t\tconst id: number = requestAnimationFrame(cb);\n\t\tthis.addCancelable(() => cancelAnimationFrame(id));\n\t}\n\n\tpublic animationLoop(cb: Callback<number>): void {\n\t\tlet id: number = requestAnimationFrame(function f(time: number) {\n\t\t\tcb(time);\n\t\t\tid = requestAnimationFrame(f);\n\t\t});\n\n\t\tthis.addCancelable(() => cancelAnimationFrame(id));\n\t}\n\n\tpublic throwIfCancelled(msg: string): void {\n\t\tif (this.isCanceled) {\n\t\t\tthrow new Error(msg || 'cancellation token is cancelled');\n\t\t}\n\t}\n\n\tpublic chain(target: CancellationToken, twoWays: boolean = false): CancellationToken {\n\t\tif (twoWays) {\n\t\t\ttarget.chain(this, false);\n\t\t}\n\n\t\tthis.addCancelable(() => target.cancel());\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Registers an event using addEventListener and if you cancel the token the event will be canceled as well\n\t */\n\tpublic registerDomEvent(eventEmitter: HTMLElement | Document, event: string, callback: (e: Event) => void): this {\n\t\t(eventEmitter as HTMLElement).addEventListener(event, callback);\n\t\tthis.addCancelable(() => eventEmitter.removeEventListener(event, callback));\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Cancels everything attached to this token\n\t */\n\tpublic cancel(): void {\n\t\tif (this.isCanceled) {\n\t\t\treturn;\n\t\t}\n\t\tthis._isCancelled = true;\n\t\tthis.cancelables.forEach((c) => c());\n\t\tthis.cancelables = undefined;\n\t}\n}\n","import { CancellationToken } from '../utilities/cancellation_token';\n\nexport interface EventSubscriptionFacade {\n\tcancel(): void;\n}\n\nexport type EventCallback<T> = (data: T) => void;\n\ninterface EventSubscription<T> {\n\tcallback: EventCallback<T>;\n}\n\nexport interface EventConfig {\n\t// if true defines events for this events subscription changes\n\tobservable?: boolean;\n\t// if passed attaches cancelAll to this token\n\tcancellationToken?: CancellationToken;\n\t/**\n\t * Fire will only do anything every N executions, it's faster than throttling the callbacks if they all have the same rate\n\t */\n\tthrottled?: number;\n}\n\nexport class EventEmitter<T> {\n\tpublic onSubscribe: EventEmitter<void> | undefined;\n\tpublic onSubscribeOnce: EventEmitter<void> | undefined;\n\tpublic onCancelAll: EventEmitter<void> | undefined;\n\tpublic onCancel: EventEmitter<void> | undefined;\n\n\tprivate isFiring: boolean;\n\tprivate onAfterFire: Array<() => void>;\n\n\tpublic get subscriptions(): number {\n\t\treturn this.subscribeChannel.length;\n\t}\n\n\tpublic get oneTimeSubscriptions(): number {\n\t\treturn this.subscribeOnceChannel.length;\n\t}\n\n\tprivate linkedEvents: EventEmitter<T>[] | undefined;\n\tprivate subscribeChannel: EventSubscription<T>[];\n\tprivate subscribeOnceChannel: EventSubscription<T>[];\n\tprivate readonly throttle: number;\n\tprivate throttleCount: number;\n\n\tconstructor(config?: EventConfig) {\n\t\tthis.subscribeChannel = [];\n\t\tthis.subscribeOnceChannel = [];\n\t\tthis.throttleCount = 0;\n\t\tthis.onAfterFire = [];\n\n\t\tif (config) {\n\t\t\tif (config.observable) {\n\t\t\t\tthis.makeObservable();\n\t\t\t}\n\t\t\tif (config.cancellationToken) {\n\t\t\t\tconfig.cancellationToken.addCancelable(() => this.cancelAll());\n\t\t\t}\n\n\t\t\tif (config.throttled) {\n\t\t\t\tthis.throttle = config.throttled;\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic linkEvent(eventToLink: EventEmitter<T>): void {\n\t\tif (!this.linkedEvents) {\n\t\t\tthis.linkedEvents = [];\n\t\t}\n\n\t\tthis.linkedEvents.push(eventToLink);\n\t}\n\n\tpublic unlinkEvent(eventToUnlink: EventEmitter<T>): void {\n\t\tif (!this.linkedEvents || !this.linkedEvents.includes(eventToUnlink)) {\n\t\t\tthrow new Error('Cannot unlink event that is not linked');\n\t\t}\n\n\t\tthis.linkedEvents.splice(this.linkedEvents.indexOf(eventToUnlink), 1);\n\t}\n\n\tpublic makeObservable(): void {\n\t\tif (!this.onSubscribe) {\n\t\t\tthis.onSubscribe = new EventEmitter<void>();\n\t\t\tthis.onSubscribeOnce = new EventEmitter<void>();\n\t\t\tthis.onCancelAll = new EventEmitter<void>();\n\t\t\tthis.onCancel = new EventEmitter<void>();\n\t\t}\n\t}\n\n\tpublic swapSubscriptions(event: EventEmitter<T>): void {\n\t\tconst sub: EventSubscription<T>[] = this.subscribeChannel;\n\t\tconst subOnce: EventSubscription<T>[] = this.subscribeOnceChannel;\n\n\t\tthis.subscribeChannel = event.subscribeChannel;\n\t\tthis.subscribeOnceChannel = event.subscribeOnceChannel;\n\n\t\tevent.subscribeChannel = sub;\n\t\tevent.subscribeOnceChannel = subOnce;\n\t}\n\n\tpublic subscribe(callback: EventCallback<T>, cancellationToken?: CancellationToken): EventSubscriptionFacade {\n\t\tif (this.onSubscribe) {\n\t\t\tthis.onSubscribe.fire();\n\t\t}\n\n\t\tconst { facade } = this.createSubscription(callback, this.subscribeChannel, cancellationToken);\n\n\t\treturn facade;\n\t}\n\n\tpublic hasSubscriptions(): boolean {\n\t\treturn this.subscriptions > 0 || this.oneTimeSubscriptions > 0;\n\t}\n\tpublic subscribeOnce(cancellationToken?: CancellationToken): Promise<T> {\n\t\tif (this.onSubscribeOnce) {\n\t\t\tthis.onSubscribeOnce.fire();\n\t\t}\n\n\t\treturn new Promise<T>((resolved) => {\n\t\t\tthis.createSubscription((data: T) => resolved(data), this.subscribeOnceChannel, cancellationToken);\n\t\t});\n\t}\n\n\tpublic cancelAll(): void {\n\t\tif (this.onCancelAll !== undefined) {\n\t\t\tthis.onCancelAll.fire();\n\t\t}\n\t}\n\n\tpublic fire(data?: T, data2?: T, data3?: T, data4?: T, data5?: T): void {\n\t\tif (this.throttle && this.throttleCount++ % this.throttle !== 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isFiring = true;\n\n\t\tlet length = this.subscribeChannel.length;\n\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tthis.subscribeChannel[i].callback(data);\n\t\t}\n\n\t\tlength = this.subscribeOnceChannel.length;\n\n\t\tif (this.subscribeOnceChannel.length > 0) {\n\t\t\tfor (let i = 0; i < length; i++) {\n\t\t\t\tthis.subscribeOnceChannel[i].callback(data);\n\t\t\t}\n\t\t\tthis.subscribeOnceChannel.length = 0;\n\t\t}\n\n\t\t//TODO: Optimize this to only fire on events that have subscriptions\n\t\tif (this.linkedEvents) {\n\t\t\tfor (let event of this.linkedEvents) {\n\t\t\t\tevent.fire(data, data2, data3, data4, data5);\n\t\t\t}\n\t\t}\n\n\t\tthis.isFiring = false;\n\t\tif (this.onAfterFire.length > 0) {\n\t\t\tthis.onAfterFire.forEach((cb) => cb());\n\t\t\tthis.onAfterFire.length = 0;\n\t\t}\n\t}\n\n\tprivate createSubscription(\n\t\tcallback: EventCallback<T>,\n\t\tchannel: EventSubscription<T>[],\n\t\tcancellationToken?: CancellationToken\n\t): { subscription: EventSubscription<T>; facade: EventSubscriptionFacade } {\n\t\tconst that: this = this;\n\n\t\tconst subscription: EventSubscription<T> = {\n\t\t\tcallback\n\t\t};\n\n\t\tconst facade: EventSubscriptionFacade = {\n\t\t\tcancel() {\n\t\t\t\tthat.cancel(subscription, channel);\n\t\t\t}\n\t\t};\n\n\t\tif (cancellationToken !== undefined) {\n\t\t\tcancellationToken.addCancelable(() => that.cancel(subscription, channel));\n\t\t}\n\t\tchannel.push(subscription);\n\n\t\treturn { subscription, facade };\n\t}\n\n\tprivate cancel(subscription: EventSubscription<T>, channel: EventSubscription<T>[]): void {\n\t\tlet index: number = channel.indexOf(subscription);\n\t\tif (index >= 0) {\n\t\t\tif (!this.isFiring) {\n\t\t\t\tchannel.splice(index, 1);\n\t\t\t} else {\n\t\t\t\tthis.onAfterFire.push(() => this.cancel(subscription, channel));\n\t\t\t}\n\t\t}\n\t}\n}\n","import { CancellationToken } from '../utilities/cancellation_token';\nimport { Callback } from '../utilities/common';\nimport { EventEmitter } from './event_emitter';\nimport { Predicate } from '../utilities/common';\n\nexport class DataSource<T> {\n\tpublic value: T;\n\tprivate listeners: Array<(value: T) => void>;\n\n\tconstructor(initialValue?: T) {\n\t\tthis.value = initialValue;\n\t\tthis.listeners = [];\n\t}\n\n\tpublic update(newValue: T) {\n\t\tthis.value = newValue;\n\t\tfor (const l of this.listeners) {\n\t\t\tl(newValue);\n\t\t}\n\t}\n\n\tpublic listen(callback: (value: T) => void, cancellationToken?: CancellationToken): Callback<void> {\n\t\tthis.listeners.push(callback);\n\t\tconst cancel = () => {\n\t\t\tconst index = this.listeners.indexOf(callback);\n\t\t\tif (index !== -1) {\n\t\t\t\tthis.listeners.splice(index, 1);\n\t\t\t}\n\t\t};\n\t\tcancellationToken?.addCancelable(() => {\n\t\t\tcancel();\n\t\t});\n\t\treturn cancel;\n\t}\n\n\tpublic filter(callback: (value: T) => boolean, cancellationToken?: CancellationToken): DataSource<T> {\n\t\tconst filteredSource = new DataSource<T>();\n\t\tthis.listen((value) => {\n\t\t\tif (callback(value)) {\n\t\t\t\tfilteredSource.update(value);\n\t\t\t}\n\t\t}, cancellationToken);\n\t\treturn filteredSource;\n\t}\n\n\tpublic pipe(targetDataSource: DataSource<T>, cancellationToken?: CancellationToken): void {\n\t\tthis.listen((v) => targetDataSource.update(v), cancellationToken);\n\t}\n\n\tpublic map<D>(callback: (value: T) => D, cancellationToken?: CancellationToken): DataSource<D> {\n\t\tconst mappedSource = new DataSource<D>(callback(this.value));\n\t\tthis.listen((value) => {\n\t\t\tmappedSource.update(callback(value));\n\t\t}, cancellationToken);\n\t\treturn mappedSource;\n\t}\n\n\tpublic unique(cancellationToken?: CancellationToken): DataSource<T> {\n\t\tconst uniqueSource = new DataSource<T>(this.value);\n\t\tthis.listen((value) => {\n\t\t\tif (value !== uniqueSource.value) {\n\t\t\t\tuniqueSource.update(value);\n\t\t\t}\n\t\t}, cancellationToken);\n\t\treturn uniqueSource;\n\t}\n\n\tpublic reduce(reducer: (p: T, c: T) => T, initialValue: T, cancellationToken?: CancellationToken): DataSource<T> {\n\t\tconst reduceSource = new DataSource<T>(initialValue);\n\t\tthis.listen((v) => reduceSource.update(reducer(reduceSource.value, v)), cancellationToken);\n\n\t\treturn reduceSource;\n\t}\n\n\tpublic aggregate<D, E>(otherSource: DataSource<D>, combinator: (self: T, other: D) => E, cancellationToken?: CancellationToken): DataSource<E> {\n\t\tconst aggregatedSource = new DataSource<E>(combinator(this.value, otherSource.value));\n\n\t\tthis.listen(() => aggregatedSource.update(combinator(this.value, otherSource.value)), cancellationToken);\n\t\totherSource.listen(() => aggregatedSource.update(combinator(this.value, otherSource.value)), cancellationToken);\n\n\t\treturn aggregatedSource;\n\t}\n\n\tpublic combine(otherSource: DataSource<T>, cancellationToken?: CancellationToken): DataSource<T> {\n\t\tconst combinedDataSource = new DataSource<T>();\n\t\tthis.pipe(combinedDataSource, cancellationToken);\n\t\totherSource.pipe(combinedDataSource, cancellationToken);\n\n\t\treturn combinedDataSource;\n\t}\n\n\tpublic debounce(time: number, cancellationToken?: CancellationToken): DataSource<T> {\n\t\tconst debouncedDataSource = new DataSource<T>();\n\t\tlet timeout;\n\n\t\tthis.listen((v) => {\n\t\t\tclearTimeout(timeout);\n\t\t\tsetTimeout(() => {\n\t\t\t\tdebouncedDataSource.update(v);\n\t\t\t}, time);\n\t\t}, cancellationToken);\n\n\t\treturn debouncedDataSource;\n\t}\n\n\tpublic buffer(time: number, cancellationToken?: CancellationToken): DataSource<T[]> {\n\t\tconst bufferedDataSource = new DataSource<T[]>();\n\t\tlet timeout;\n\t\tlet buffer = [];\n\n\t\tthis.listen((v) => {\n\t\t\tbuffer.push(v);\n\t\t\tif (!timeout) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\ttimeout = undefined;\n\t\t\t\t\tbufferedDataSource.update(buffer);\n\t\t\t\t\tbuffer = [];\n\t\t\t\t}, time);\n\t\t\t}\n\t\t}, cancellationToken);\n\n\t\treturn bufferedDataSource;\n\t}\n\n\tpublic queue(time: number, cancellationToken?: CancellationToken): ArrayDataSource<T> {\n\t\tconst queueDataSource = new ArrayDataSource<T>();\n\n\t\tthis.listen((v) => {\n\t\t\tqueueDataSource.push(v);\n\t\t}, cancellationToken);\n\n\t\treturn queueDataSource;\n\t}\n\n\tpublic pick(key: keyof T, cancellationToken?: CancellationToken): DataSource<T[typeof key]> {\n\t\tconst subDataSource: DataSource<T[typeof key]> = new DataSource(this.value?.[key]);\n\n\t\tthis.listen((v) => {\n\t\t\tif (v !== undefined && v !== null) {\n\t\t\t\tsubDataSource.update(v[key]);\n\t\t\t} else {\n\t\t\t\tsubDataSource.update(v as null | undefined);\n\t\t\t}\n\t\t}, cancellationToken);\n\n\t\treturn subDataSource;\n\t}\n\n\tpublic cancelAll(): void {\n\t\tthis.listeners.length = 0;\n\t}\n}\n\nexport interface CollectionChange<T> {\n\toperation: 'replace' | 'append' | 'prepend' | 'remove' | 'swap';\n\tcount?: number;\n\tindex: number;\n\tindex2?: number;\n\ttarget?: T;\n\titems: T[];\n\tnewState: T[];\n}\nexport class ArrayDataSource<T> {\n\tprotected data: T[];\n\tpublic onChange: EventEmitter<CollectionChange<T>>;\n\n\tconstructor(initialData?: T[]) {\n\t\tif (initialData) {\n\t\t\tthis.data = initialData.slice();\n\t\t} else {\n\t\t\tthis.data = [];\n\t\t}\n\t\tthis.onChange = new EventEmitter();\n\t}\n\n\tpublic get length() {\n\t\treturn this.data.length;\n\t}\n\n\tpublic getData(): T[] {\n\t\treturn this.data.slice();\n\t}\n\n\tpublic get(index: number): T {\n\t\treturn this.data[index];\n\t}\n\n\tpublic set(index: number, item: T): void {\n\t\tconst old = this.data[index];\n\t\tif (old === item) {\n\t\t\treturn;\n\t\t}\n\t\tthis.data[index] = item;\n\t\tthis.onChange.fire({ operation: 'replace', target: old, count: 1, index, items: [item], newState: this.data });\n\t}\n\n\tpublic swap(indexA: number, indexB: number): void {\n\t\tif (indexA === indexB) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst itemA = this.data[indexA];\n\t\tconst itemB = this.data[indexB];\n\t\tthis.data[indexB] = itemA;\n\t\tthis.data[indexA] = itemB;\n\n\t\tthis.onChange.fire({ operation: 'swap', index: indexA, index2: indexB, items: [itemA, itemB], newState: this.data });\n\t}\n\n\tpublic swapItems(itemA: T, itemB: T): void {\n\t\tif (itemA === itemB) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst indexA = this.data.indexOf(itemA);\n\t\tconst indexB = this.data.indexOf(itemB);\n\t\tif (indexA !== -1 && indexB !== -1) {\n\t\t\tthis.data[indexB] = itemA;\n\t\t\tthis.data[indexA] = itemB;\n\t\t}\n\n\t\tthis.onChange.fire({ operation: 'swap', index: indexA, index2: indexB, items: [itemA, itemB], newState: this.data });\n\t}\n\n\tpublic push(...items: T[]) {\n\t\tthis.data.push(...items);\n\t\tthis.onChange.fire({\n\t\t\toperation: 'append',\n\t\t\tcount: items.length,\n\t\t\tindex: this.data.length - items.length,\n\t\t\titems,\n\t\t\tnewState: this.data\n\t\t});\n\t}\n\n\tpublic unshift(...items: T[]) {\n\t\tthis.data.unshift(...items);\n\t\tthis.onChange.fire({ operation: 'prepend', count: items.length, items, index: 0, newState: this.data });\n\t}\n\n\tpublic pop(): T {\n\t\tconst item = this.data.pop();\n\t\tthis.onChange.fire({\n\t\t\toperation: 'remove',\n\t\t\tcount: 1,\n\t\t\tindex: this.data.length,\n\t\t\titems: [item],\n\t\t\tnewState: this.data\n\t\t});\n\n\t\treturn item;\n\t}\n\n\tpublic merge(newData: T[]): void {\n\t\tfor (let i = 0; i < newData.length; i++) {\n\t\t\tif (this.data[i] !== newData[i]) {\n\t\t\t\tif (this.length > i) {\n\t\t\t\t\tthis.set(i, newData[i]);\n\t\t\t\t} else {\n\t\t\t\t\tthis.push(newData[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.length > newData.length) {\n\t\t\tthis.removeRight(this.length - newData.length);\n\t\t}\n\t}\n\n\tpublic removeRight(count: number): void {\n\t\tconst result = this.data.splice(this.length - count, count);\n\t\tthis.onChange.fire({ operation: 'remove', count, index: this.length - count, items: result, newState: this.data });\n\t}\n\n\tpublic removeLeft(count: number): void {\n\t\tconst result = this.data.splice(0, count);\n\t\tthis.onChange.fire({ operation: 'remove', count, index: 0, items: result, newState: this.data });\n\t}\n\n\tpublic remove(item: T): void {\n\t\tconst index = this.data.indexOf(item);\n\t\tif (index !== -1) {\n\t\t\tthis.data.splice(index, 1);\n\t\t\tthis.onChange.fire({ operation: 'remove', count: 1, index, items: [item], newState: this.data });\n\t\t}\n\t}\n\n\tpublic clear(): void {\n\t\tconst items = this.data;\n\t\tthis.data = [];\n\t\tthis.onChange.fire({\n\t\t\toperation: 'remove',\n\t\t\tcount: items.length,\n\t\t\tindex: 0,\n\t\t\titems,\n\t\t\tnewState: this.data\n\t\t});\n\t}\n\n\tpublic shift(): T {\n\t\tconst item = this.data.shift();\n\t\tthis.onChange.fire({ operation: 'remove', items: [item], count: 1, index: 0, newState: this.data });\n\n\t\treturn item;\n\t}\n\n\tpublic toArray(): T[] {\n\t\treturn this.data.slice();\n\t}\n\n\tpublic filter(callback: Predicate<T>, cancellationToken?: CancellationToken): FilteredArrayView<T> {\n\t\treturn new FilteredArrayView(this, callback, cancellationToken);\n\t}\n\n\tpublic forEach(callbackfn: (value: T, index: number, array: T[]) => void, thisArg?: any): void {\n\t\treturn this.data.forEach(callbackfn, thisArg);\n\t}\n\n\tpublic toDataSource(): DataSource<T[]> {\n\t\tconst stream = new DataSource(this.data);\n\t\tthis.onChange.subscribe((s) => {\n\t\t\tstream.update(s.newState);\n\t\t});\n\t\treturn stream;\n\t}\n}\n\nexport class FilteredArrayView<T> extends ArrayDataSource<T> {\n\tprivate viewFilter: Predicate<T>;\n\tprivate parent: ArrayDataSource<T>;\n\n\tconstructor(parent: ArrayDataSource<T>, filter: Predicate<T>, cancellationToken?: CancellationToken) {\n\t\tconst initial = (parent as FilteredArrayView<T>).data.filter(filter);\n\t\tsuper(initial);\n\n\t\tthis.parent = parent;\n\t\tthis.viewFilter = filter;\n\n\t\tparent.onChange.subscribe((change) => {\n\t\t\tlet filteredItems;\n\t\t\tswitch (change.operation) {\n\t\t\t\tcase 'remove':\n\t\t\t\t\tfor (const item of change.items) {\n\t\t\t\t\t\tthis.remove(item);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'prepend':\n\t\t\t\t\tfilteredItems = change.items.filter(this.viewFilter);\n\t\t\t\t\tthis.unshift(...filteredItems);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'append':\n\t\t\t\t\tfilteredItems = change.items.filter(this.viewFilter);\n\t\t\t\t\tthis.push(...filteredItems);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'swap':\n\t\t\t\t\tconst indexA = this.data.indexOf(change.items[0]);\n\t\t\t\t\tconst indexB = this.data.indexOf(change.items[1]);\n\t\t\t\t\tif (indexA !== -1 && indexB !== -1) {\n\t\t\t\t\t\tthis.swap(indexA, indexB);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'replace':\n\t\t\t\t\tconst index = this.data.indexOf(change.target);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\tconst acceptNew = this.viewFilter(change.items[0]);\n\t\t\t\t\t\tif (acceptNew) {\n\t\t\t\t\t\t\tthis.set(index, change.items[0]);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.remove(change.target);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}, cancellationToken);\n\t}\n\n\tpublic updateFilter(filter: Predicate<T>): void {\n\t\tif (this.viewFilter === filter) {\n\t\t\treturn;\n\t\t}\n\t\tthis.viewFilter = filter;\n\t\tthis.refresh();\n\t}\n\n\tprotected refresh() {\n\t\tthis.clear();\n\t\tconst data = (this.parent as FilteredArrayView<T>).data.filter(this.viewFilter);\n\t\tthis.push(...data);\n\t}\n}\n","export const ownerSymbol = Symbol('owner');\n","import { DataSource, ArrayDataSource } from '../stream/data_source';\nimport { CancellationToken } from '../utilities/cancellation_token';\nimport { DataDrain, StringSource, ClassType, Callback } from '../utilities/common';\nimport { ownerSymbol } from '../utilities/owner_symbol';\n\nexport interface AurumElementProps {\n\tid?: StringSource;\n\tname?: StringSource;\n\tdraggable?: StringSource;\n\tclass?: ClassType;\n\ttabindex?: ClassType;\n\tstyle?: StringSource;\n\ttitle?: StringSource;\n\trole?: StringSource;\n\tcontentEditable?: StringSource;\n\n\trepeatModel?: ArrayDataSource<any> | any[];\n\n\tonDblclick?: DataDrain<MouseEvent>;\n\tonClick?: DataDrain<MouseEvent>;\n\tonKeydown?: DataDrain<KeyboardEvent>;\n\tonKeyup?: DataDrain<KeyboardEvent>;\n\tonMousedown?: DataDrain<KeyboardEvent>;\n\tonMouseup?: DataDrain<KeyboardEvent>;\n\tonMouseenter?: DataDrain<KeyboardEvent>;\n\tonMouseleave?: DataDrain<KeyboardEvent>;\n\tonMousewheel?: DataDrain<WheelEvent>;\n\tonBlur?: DataDrain<FocusEvent>;\n\tonFocus?: DataDrain<FocusEvent>;\n\tonDrag?: DataDrain<DragEvent>;\n\tonDragend?: DataDrain<DragEvent>;\n\tonDragenter?: DataDrain<DragEvent>;\n\tonDragexit?: DataDrain<DragEvent>;\n\tonDragleave?: DataDrain<DragEvent>;\n\tonDragover?: DataDrain<DragEvent>;\n\tonDragstart?: DataDrain<DragEvent>;\n\n\tonAttach?: Callback<AurumElement>;\n\tonDetach?: Callback<AurumElement>;\n\tonCreate?: Callback<AurumElement>;\n\tonDispose?: Callback<AurumElement>;\n\ttemplate?: Template<any>;\n}\n\nexport type ChildNode = AurumElement | string | DataSource<string>;\n\nexport abstract class AurumElement {\n\tprivate onAttach?: Callback<AurumElement>;\n\tprivate onDetach?: Callback<AurumElement>;\n\tprivate onDispose?: Callback<AurumElement>;\n\n\tprivate rerenderPending: boolean;\n\tprivate children: AurumElement[];\n\n\tprotected cancellationToken: CancellationToken;\n\tprotected repeatData: ArrayDataSource<any>;\n\n\tpublic readonly node: HTMLElement | Text;\n\tpublic readonly domNodeName: string;\n\n\tpublic template: Template<any>;\n\tpublic onClick: DataSource<MouseEvent>;\n\tpublic onKeydown: DataSource<KeyboardEvent>;\n\tpublic onKeyup: DataSource<KeyboardEvent>;\n\tpublic onMousedown: DataSource<KeyboardEvent>;\n\tpublic onMouseup: DataSource<KeyboardEvent>;\n\tpublic onMouseenter: DataSource<KeyboardEvent>;\n\tpublic onMouseleave: DataSource<KeyboardEvent>;\n\tpublic onFocus: DataSource<FocusEvent>;\n\tpublic onBlur: DataSource<FocusEvent>;\n\tpublic onDrag: DataSource<DragEvent>;\n\tpublic onDragend: DataSource<DragEvent>;\n\tpublic onDragenter: DataSource<DragEvent>;\n\tpublic onDragexit: DataSource<DragEvent>;\n\tpublic onDragleave: DataSource<DragEvent>;\n\tpublic onDragover: DataSource<DragEvent>;\n\tpublic onDragstart: DataSource<DragEvent>;\n\n\tconstructor(props: AurumElementProps, domNodeName: string) {\n\t\tthis.onDispose = props.onDispose;\n\t\tthis.onAttach = props.onAttach;\n\t\tthis.onDetach = props.onDetach;\n\n\t\tthis.domNodeName = domNodeName;\n\t\tthis.template = props.template;\n\t\tthis.cancellationToken = new CancellationToken();\n\t\tthis.node = this.create(props);\n\t\tthis.initialize(props);\n\t\tprops.onCreate?.(this);\n\t}\n\n\tprivate initialize(props: AurumElementProps) {\n\t\tif (!(this.node instanceof Text)) {\n\t\t\tthis.children = [];\n\t\t}\n\n\t\tthis.createEventHandlers(\n\t\t\t[\n\t\t\t\t'drag',\n\t\t\t\t'name',\n\t\t\t\t'dragstart',\n\t\t\t\t'dragend',\n\t\t\t\t'dragexit',\n\t\t\t\t'dragover',\n\t\t\t\t'dragenter',\n\t\t\t\t'dragleave',\n\t\t\t\t'blur',\n\t\t\t\t'focus',\n\t\t\t\t'click',\n\t\t\t\t'dblclick',\n\t\t\t\t'keydown',\n\t\t\t\t'keyhit',\n\t\t\t\t'keyup',\n\t\t\t\t'mousedown',\n\t\t\t\t'mouseup',\n\t\t\t\t'mouseenter',\n\t\t\t\t'mouseleave',\n\t\t\t\t'mousewheel'\n\t\t\t],\n\t\t\tprops\n\t\t);\n\n\t\tconst dataProps = Object.keys(props).filter((e) => e.startsWith('x-') || e.startsWith('data-'));\n\t\tthis.bindProps(['id', 'draggable', 'tabindex', 'style', 'role', 'contentEditable', ...dataProps], props);\n\n\t\tif (props.class) {\n\t\t\tthis.handleClass(props.class);\n\t\t}\n\n\t\tif (props.repeatModel) {\n\t\t\tthis.handleRepeat(props.repeatModel);\n\t\t}\n\t}\n\n\tprotected bindProps(keys: string[], props: any) {\n\t\tfor (const key of keys) {\n\t\t\tif (props[key]) {\n\t\t\t\tthis.assignStringSourceToAttribute(props[key], key);\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected createEventHandlers(keys: string[], props: any) {\n\t\tif (this.node instanceof Text) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const key of keys) {\n\t\t\tconst computedEventName = 'on' + key[0].toUpperCase() + key.slice(1);\n\n\t\t\tlet eventEmitter;\n\t\t\tObject.defineProperty(this, computedEventName, {\n\t\t\t\tget() {\n\t\t\t\t\tif (!eventEmitter) {\n\t\t\t\t\t\teventEmitter = new DataSource();\n\t\t\t\t\t}\n\t\t\t\t\treturn eventEmitter;\n\t\t\t\t},\n\t\t\t\tset() {\n\t\t\t\t\tthrow new Error(computedEventName + ' is read only');\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (props[computedEventName]) {\n\t\t\t\tif (props[computedEventName] instanceof DataSource) {\n\t\t\t\t\tthis[computedEventName].listen(props[computedEventName].update.bind(props.onClick), this.cancellationToken);\n\t\t\t\t} else if (typeof props[computedEventName] === 'function') {\n\t\t\t\t\tthis[computedEventName].listen(props[computedEventName], this.cancellationToken);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.cancellationToken.registerDomEvent(this.node, key, (e: MouseEvent) => this[computedEventName].update(e));\n\t\t}\n\t}\n\n\tprivate handleRepeat(dataSource: ArrayDataSource<any> | any[]): void {\n\t\tif (dataSource instanceof ArrayDataSource) {\n\t\t\tthis.repeatData = dataSource;\n\t\t} else {\n\t\t\tthis.repeatData = new ArrayDataSource<any>(dataSource);\n\t\t}\n\n\t\tif (this.repeatData.length) {\n\t\t\tthis.children.push(...(this.repeatData as ArrayDataSource<any>).toArray().map((i) => this.template.generate(i)));\n\t\t\tthis.render();\n\t\t}\n\n\t\tthis.repeatData.onChange.subscribe((change) => {\n\t\t\tswitch (change.operation) {\n\t\t\t\tcase 'swap':\n\t\t\t\t\tconst itemA = this.children[change.index];\n\t\t\t\t\tconst itemB = this.children[change.index2];\n\t\t\t\t\tthis.children[change.index2] = itemA;\n\t\t\t\t\tthis.children[change.index] = itemB;\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'append':\n\t\t\t\t\tthis.children.push(...change.items.map((i) => this.template.generate(i)));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'prepend':\n\t\t\t\t\tthis.children.unshift(...change.items.map((i) => this.template.generate(i)));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'remove':\n\t\t\t\t\tthis.children.splice(change.index, change.count);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthis.children.length = 0;\n\t\t\t\t\tthis.children.push(...(this.repeatData as ArrayDataSource<any>).toArray().map((i) => this.template.generate(i)));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tthis.render();\n\t\t});\n\t}\n\n\tprotected render(): void {\n\t\tif (this.rerenderPending) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.node instanceof Text) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tfor (let i = 0; i < this.children.length; i++) {\n\t\t\t\tif (this.node.childNodes.length <= i) {\n\t\t\t\t\tthis.addChildrenDom(this.children.slice(i, this.children.length));\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (this.node.childNodes[i][ownerSymbol] !== this.children[i]) {\n\t\t\t\t\tif (!this.children.includes(this.node.childNodes[i][ownerSymbol] as AurumElement)) {\n\t\t\t\t\t\tconst child = this.node.childNodes[i];\n\t\t\t\t\t\tchild.remove();\n\t\t\t\t\t\tchild[ownerSymbol].handleDetach();\n\t\t\t\t\t\ti--;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst index = this.getChildIndex(this.children[i].node);\n\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\tthis.swapChildrenDom(i, index);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.addDomNodeAt(this.children[i].node, i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (this.node.childNodes.length > this.children.length) {\n\t\t\t\tconst child = this.node.childNodes[this.node.childNodes.length - 1];\n\t\t\t\tthis.node.removeChild(child);\n\t\t\t\tchild[ownerSymbol].handleDetach();\n\t\t\t}\n\t\t\tthis.rerenderPending = false;\n\t\t});\n\t\tthis.rerenderPending = true;\n\t}\n\n\tprotected assignStringSourceToAttribute(data: StringSource, key: string) {\n\t\tif (this.node instanceof Text) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof data === 'string') {\n\t\t\tthis.node.setAttribute(key, data);\n\t\t} else {\n\t\t\tif (data.value) {\n\t\t\t\tthis.node.setAttribute(key, data.value);\n\t\t\t}\n\t\t\tdata.unique(this.cancellationToken).listen((v) => (this.node as HTMLElement).setAttribute(key, v), this.cancellationToken);\n\t\t}\n\t}\n\n\tprivate handleAttach() {\n\t\tif (this.node.isConnected) {\n\t\t\tthis.onAttach?.(this);\n\t\t\tfor (const child of this.node.childNodes) {\n\t\t\t\tchild[ownerSymbol].handleAttach();\n\t\t\t}\n\t\t}\n\t}\n\n\t//@ts-ignore\n\tprivate handleDetach() {\n\t\tif (!this.node.isConnected) {\n\t\t\tthis.onDetach?.(this);\n\t\t\tfor (const child of this.node.childNodes) {\n\t\t\t\tchild[ownerSymbol].handleDetach();\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate handleClass(data: ClassType) {\n\t\tif (this.node instanceof Text) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof data === 'string') {\n\t\t\tthis.node.className = data;\n\t\t} else if (data instanceof DataSource) {\n\t\t\tif (data.value) {\n\t\t\t\tif (Array.isArray(data.value)) {\n\t\t\t\t\tthis.node.className = data.value.join(' ');\n\t\t\t\t\tdata.unique(this.cancellationToken).listen(() => {\n\t\t\t\t\t\t(this.node as HTMLElement).className = (data.value as string[]).join(' ');\n\t\t\t\t\t}, this.cancellationToken);\n\t\t\t\t} else {\n\t\t\t\t\tthis.node.className = data.value;\n\t\t\t\t\tdata.unique(this.cancellationToken).listen(() => {\n\t\t\t\t\t\t(this.node as HTMLElement).className = data.value as string;\n\t\t\t\t\t}, this.cancellationToken);\n\t\t\t\t}\n\t\t\t}\n\t\t\tdata.unique(this.cancellationToken).listen((v) => ((this.node as HTMLElement).className = v), this.cancellationToken);\n\t\t} else {\n\t\t\tconst value: string = data.reduce<string>((p, c) => {\n\t\t\t\tif (typeof c === 'string') {\n\t\t\t\t\treturn `${p} ${c}`;\n\t\t\t\t} else {\n\t\t\t\t\tif (c.value) {\n\t\t\t\t\t\treturn `${p} ${c.value}`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn p;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, '');\n\t\t\tthis.node.className = value;\n\t\t\tfor (const i of data) {\n\t\t\t\tif (i instanceof DataSource) {\n\t\t\t\t\ti.unique(this.cancellationToken).listen((v) => {\n\t\t\t\t\t\tconst value: string = data.reduce<string>((p, c) => {\n\t\t\t\t\t\t\tif (typeof c === 'string') {\n\t\t\t\t\t\t\t\treturn `${p} ${c}`;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tif (c.value) {\n\t\t\t\t\t\t\t\t\treturn `${p} ${c.value}`;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\treturn p;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, '');\n\t\t\t\t\t\t(this.node as HTMLElement).className = value;\n\t\t\t\t\t}, this.cancellationToken);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprotected resolveStringSource(source: StringSource): string {\n\t\tif (typeof source === 'string') {\n\t\t\treturn source;\n\t\t} else {\n\t\t\treturn source.value;\n\t\t}\n\t}\n\n\tprotected create(props: AurumElementProps): HTMLElement | Text {\n\t\tconst node = document.createElement(this.domNodeName);\n\t\tnode[ownerSymbol] = this;\n\t\treturn node;\n\t}\n\n\tprotected getChildIndex(node: HTMLElement | Text): number {\n\t\tlet i = 0;\n\t\tfor (const child of node.childNodes) {\n\t\t\tif (child === node) {\n\t\t\t\treturn i;\n\t\t\t}\n\t\t\ti++;\n\t\t}\n\t\treturn -1;\n\t}\n\n\tprotected hasChild(node: HTMLElement): boolean {\n\t\tif (this.node instanceof Text) {\n\t\t\tthrow new Error(\"Text nodes don't have children\");\n\t\t}\n\n\t\tfor (const child of node.children) {\n\t\t\tif (child === node) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\tprotected addChildrenDom(children: AurumElement[]): void {\n\t\tif (this.node instanceof Text) {\n\t\t\tthrow new Error(\"Text nodes don't have children\");\n\t\t}\n\n\t\tfor (const child of children) {\n\t\t\tthis.node.appendChild(child.node);\n\t\t\tchild.handleAttach();\n\t\t}\n\t}\n\n\tprotected swapChildrenDom(indexA: number, indexB: number) {\n\t\tif (this.node instanceof Text) {\n\t\t\tthrow new Error(\"Text nodes don't have children\");\n\t\t}\n\n\t\tif (indexA === indexB) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst nodeA = this.node.children[indexA];\n\t\tconst nodeB = this.node.children[indexB];\n\t\tnodeA.remove();\n\t\tnodeB.remove();\n\t\tif (indexA < indexB) {\n\t\t\tthis.addDomNodeAt(nodeB as HTMLElement, indexA);\n\t\t\tthis.addDomNodeAt(nodeA as HTMLElement, indexB);\n\t\t} else {\n\t\t\tthis.addDomNodeAt(nodeA as HTMLElement, indexB);\n\t\t\tthis.addDomNodeAt(nodeB as HTMLElement, indexA);\n\t\t}\n\t}\n\n\tprotected addDomNodeAt(node: HTMLElement | Text, index: number): void {\n\t\tif (this.node instanceof Text) {\n\t\t\tthrow new Error(\"Text nodes don't have children\");\n\t\t}\n\n\t\tif (index >= this.node.childElementCount) {\n\t\t\tthis.node.appendChild(node);\n\t\t\tnode[ownerSymbol].handleAttach();\n\t\t} else {\n\t\t\tthis.node.insertBefore(node, this.node.children[index]);\n\t\t\tnode[ownerSymbol].handleAttach();\n\t\t}\n\t}\n\n\tpublic remove(): void {\n\t\tif (this.hasParent()) {\n\t\t\tthis.node.parentElement[ownerSymbol].removeChild(this.node);\n\t\t}\n\t}\n\n\tpublic hasParent(): boolean {\n\t\treturn !!this.node.parentElement;\n\t}\n\n\tpublic isConnected(): boolean {\n\t\treturn this.node.isConnected;\n\t}\n\n\tpublic removeChild(child: AurumElement): void {\n\t\tconst index = this.children.indexOf(child);\n\t\tif (index !== -1) {\n\t\t\tthis.children.splice(index, 1);\n\t\t}\n\t\tthis.render();\n\t}\n\n\tpublic removeChildAt(index: number): void {\n\t\tthis.children.splice(index, 1);\n\t\tthis.render();\n\t}\n\n\tpublic swapChildren(indexA: number, indexB: number): void {\n\t\tif (indexA === indexB) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst nodeA = this.children[indexA];\n\t\tconst nodeB = this.children[indexB];\n\t\tthis.children[indexA] = nodeB;\n\t\tthis.children[indexB] = nodeA;\n\t\tthis.render();\n\t}\n\n\tpublic clearChildren(): void {\n\t\tif (this.node instanceof Text) {\n\t\t\tthrow new Error(\"Text nodes don't have children\");\n\t\t}\n\n\t\tthis.children.length = 0;\n\t\tthis.render();\n\t}\n\n\tpublic addChild(child: ChildNode) {\n\t\tif (this.node instanceof Text) {\n\t\t\tthrow new Error(\"Text nodes don't have children\");\n\t\t}\n\n\t\tif (child instanceof Template) {\n\t\t\treturn;\n\t\t}\n\t\tchild = this.childNodeToAurum(child);\n\n\t\tthis.children.push(child);\n\t\tthis.render();\n\t}\n\n\tprivate childNodeToAurum(child: ChildNode): AurumElement {\n\t\tif (typeof child === 'string' || child instanceof DataSource) {\n\t\t\tchild = new TextNode({\n\t\t\t\ttext: child\n\t\t\t});\n\t\t} else if (!(child instanceof AurumElement)) {\n\t\t\tchild = new TextNode({\n\t\t\t\ttext: (child as any).toString()\n\t\t\t});\n\t\t}\n\t\treturn child;\n\t}\n\n\tpublic addChildAt(child: ChildNode, index: number) {\n\t\tif (this.node instanceof Text) {\n\t\t\tthrow new Error(\"Text nodes don't have children\");\n\t\t}\n\n\t\tif (child instanceof Template) {\n\t\t\treturn;\n\t\t}\n\n\t\tchild = this.childNodeToAurum(child);\n\t\tthis.children.splice(index, 0, child);\n\t\tthis.render();\n\t}\n\n\tpublic addChildren(nodes: ChildNode[]) {\n\t\tif (this.node instanceof Text) {\n\t\t\tthrow new Error(\"Text nodes don't have children\");\n\t\t}\n\n\t\tif (nodes.length === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (const child of nodes) {\n\t\t\tthis.addChild(child);\n\t\t}\n\t}\n\n\tpublic dispose(): void {\n\t\tthis.internalDispose(true);\n\t}\n\n\tprivate internalDispose(detach: boolean) {\n\t\tthis.cancellationToken.cancel();\n\t\tif (detach) {\n\t\t\tthis.remove();\n\t\t}\n\t\tfor (const child of this.node.childNodes) {\n\t\t\tif (child[ownerSymbol]) {\n\t\t\t\tchild[ownerSymbol].internalDispose(false);\n\t\t\t}\n\t\t}\n\t\tthis.onDispose?.(this);\n\t}\n}\n\nexport interface TemplateProps<T> extends AurumElementProps {\n\tonAttach?(entity: Template<T>): void;\n\tonDetach?(entity: Template<T>): void;\n\tgenerator(model: T): AurumElement;\n\tref?: string;\n}\n\nexport class Template<T> extends AurumElement {\n\tpublic generate: (model: T) => AurumElement;\n\tref: string;\n\n\tconstructor(props: TemplateProps<T>) {\n\t\tsuper(props, 'template');\n\t\tthis.ref = props.ref;\n\t\tthis.generate = props.generator;\n\t}\n}\n\ninterface TextNodeProps extends AurumElementProps {\n\tonAttach?: (node: TextNode) => void;\n\tonDetach?: (node: TextNode) => void;\n\ttext?: StringSource;\n}\n\nexport class TextNode extends AurumElement {\n\tconstructor(props: TextNodeProps) {\n\t\tsuper(props, 'textNode');\n\t\tif (props.text instanceof DataSource) {\n\t\t\tprops.text.listen((v) => (this.node.textContent = v), this.cancellationToken);\n\t\t}\n\t}\n\n\tprotected create(props: TextNodeProps): HTMLElement | Text {\n\t\tconst node = document.createTextNode(this.resolveStringSource(props.text));\n\t\tnode[ownerSymbol] = this;\n\t\treturn node;\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface AProps extends AurumElementProps {\n\tonAttach?: Callback<A>;\n\tonDetach?: Callback<A>;\n\tonCreate?: Callback<A>;\n\tonDispose?: Callback<A>;\n\thref?: StringSource;\n\ttarget?: StringSource;\n}\n\nexport class A extends AurumElement {\n\tpublic readonly node: HTMLAnchorElement;\n\n\tconstructor(props: AProps) {\n\t\tsuper(props, 'a');\n\t\tthis.bindProps(['href', 'target'], props);\n\t}\n}\n","import { Callback } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface AbbrProps extends AurumElementProps {\n\tonAttach?: Callback<Abbr>;\n\tonDetach?: Callback<Abbr>;\n\tonCreate?: Callback<Abbr>;\n\tonDispose?: Callback<Abbr>;\n}\n\nexport class Abbr extends AurumElement {\n\tconstructor(props: AbbrProps) {\n\t\tsuper(props, 'abbr');\n\t}\n}\n","import { Callback } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface AreaProps extends AurumElementProps {\n\tonAttach?: Callback<Area>;\n\tonDetach?: Callback<Area>;\n\tonCreate?: Callback<Area>;\n\tonDispose?: Callback<Area>;\n}\n\nexport class Area extends AurumElement {\n\tpublic readonly node: HTMLAreaElement;\n\n\tconstructor(props: AreaProps) {\n\t\tsuper(props, 'area');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface ArticleProps extends AurumElementProps {\n\tonAttach?: Callback<Article>;\n\tonDetach?: Callback<Article>;\n\tonCreate?: Callback<Article>;\n\tonDispose?: Callback<Article>;\n}\n\nexport class Article extends AurumElement {\n\tconstructor(props: ArticleProps) {\n\t\tsuper(props, 'article');\n\t}\n}\n","import { Callback } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface AsideProps extends AurumElementProps {\n\tonAttach?: Callback<Aside>;\n\tonDetach?: Callback<Aside>;\n\tonCreate?: Callback<Aside>;\n\tonDispose?: Callback<Aside>;\n}\n\nexport class Aside extends AurumElement {\n\tconstructor(props: AsideProps) {\n\t\tsuper(props, 'aside');\n\t}\n}\n","import { Callback, StringSource } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface AudioProps extends AurumElementProps {\n\tonAttach?: Callback<Audio>;\n\tonDetach?: Callback<Audio>;\n\tonCreate?: Callback<Audio>;\n\tonDispose?: Callback<Audio>;\n\tcontrols?: StringSource;\n\tautoplay?: StringSource;\n\tloop?: StringSource;\n\tmuted?: StringSource;\n\tpreload?: StringSource;\n\tsrc?: StringSource;\n}\n\nexport class Audio extends AurumElement {\n\tpublic readonly node: HTMLAudioElement;\n\n\tconstructor(props: AudioProps) {\n\t\tsuper(props, 'audio');\n\t\tthis.bindProps(['controls', 'autoplay', 'loop', 'muted', 'preload', 'src'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface BProps extends AurumElementProps {\n\tonAttach?: Callback<B>;\n\tonDetach?: Callback<B>;\n\tonCreate?: Callback<B>;\n\tonDispose?: Callback<B>;\n}\n\nexport class B extends AurumElement {\n\tconstructor(props: BProps) {\n\t\tsuper(props, 'b');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface BrProps extends AurumElementProps {\n\tonAttach?: Callback<Br>;\n\tonDetach?: Callback<Br>;\n\tonCreate?: Callback<Br>;\n\tonDispose?: Callback<Br>;\n}\n\nexport class Br extends AurumElement {\n\tpublic readonly node: HTMLBRElement;\n\n\tconstructor(props: BrProps) {\n\t\tsuper(props, 'br');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface ButtonProps extends AurumElementProps {\n\tdisabled?: StringSource;\n\tonAttach?: Callback<Button>;\n\tonDetach?: Callback<Button>;\n\tonCreate?: Callback<Button>;\n\tonDispose?: Callback<Button>;\n}\n\nexport class Button extends AurumElement {\n\tpublic readonly node: HTMLButtonElement;\n\n\tconstructor(props: ButtonProps) {\n\t\tsuper(props, 'button');\n\t\tthis.bindProps(['disabled'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface CanvasProps extends AurumElementProps {\n\tonAttach?: Callback<Canvas>;\n\tonDetach?: Callback<Canvas>;\n\tonCreate?: Callback<Canvas>;\n\tonDispose?: Callback<Canvas>;\n\twidth?: StringSource;\n\theight?: StringSource;\n}\n\nexport class Canvas extends AurumElement {\n\tpublic readonly node: HTMLCanvasElement;\n\n\tconstructor(props: CanvasProps) {\n\t\tsuper(props, 'canvas');\n\t\tthis.bindProps(['width', 'height'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface DataProps extends AurumElementProps {\n\tonAttach?: Callback<Data>;\n\tonDetach?: Callback<Data>;\n\tonCreate?: Callback<Data>;\n\tonDispose?: Callback<Data>;\n\tvalue?: StringSource;\n}\n\nexport class Data extends AurumElement {\n\tpublic node: HTMLDataElement;\n\n\tconstructor(props: DataProps) {\n\t\tsuper(props, 'data');\n\t\tthis.bindProps(['datalue'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface DetailsProps extends AurumElementProps {\n\tonAttach?: Callback<Details>;\n\tonDetach?: Callback<Details>;\n\tonCreate?: Callback<Details>;\n\tonDispose?: Callback<Details>;\n}\n\nexport class Details extends AurumElement {\n\tpublic readonly node: HTMLDetailsElement;\n\n\tconstructor(props: DetailsProps) {\n\t\tsuper(props, 'details');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface DivProps extends AurumElementProps {\n\tonAttach?: Callback<Div>;\n\tonDetach?: Callback<Div>;\n\tonCreate?: Callback<Div>;\n\tonDispose?: Callback<Div>;\n}\n\nexport class Div extends AurumElement {\n\tpublic readonly node: HTMLDivElement;\n\n\tconstructor(props: DivProps) {\n\t\tsuper(props, 'div');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface EmProps extends AurumElementProps {\n\tonAttach?: Callback<Em>;\n\tonDetach?: Callback<Em>;\n\tonCreate?: Callback<Em>;\n\tonDispose?: Callback<Em>;\n}\n\nexport class Em extends AurumElement {\n\tconstructor(props: EmProps) {\n\t\tsuper(props, 'em');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface FooterProps extends AurumElementProps {\n\tonAttach?: Callback<Footer>;\n\tonDetach?: Callback<Footer>;\n\tonCreate?: Callback<Footer>;\n\tonDispose?: Callback<Footer>;\n}\n\nexport class Footer extends AurumElement {\n\tconstructor(props: FooterProps) {\n\t\tsuper(props, 'footer');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface FormProps extends AurumElementProps {\n\tonAttach?: Callback<Form>;\n\tonDetach?: Callback<Form>;\n\tonCreate?: Callback<Form>;\n\tonDispose?: Callback<Form>;\n}\n\nexport class Form extends AurumElement {\n\tpublic readonly node: HTMLFormElement;\n\n\tconstructor(props: FormProps) {\n\t\tsuper(props, 'form');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface H1Props extends AurumElementProps {\n\tonAttach?: Callback<H1>;\n\tonDetach?: Callback<H1>;\n\tonCreate?: Callback<H1>;\n\tonDispose?: Callback<H1>;\n}\n\nexport class H1 extends AurumElement {\n\tconstructor(props: H1Props) {\n\t\tsuper(props, 'h1');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface H2Props extends AurumElementProps {\n\tonAttach?: Callback<H2>;\n\tonDetach?: Callback<H2>;\n\tonCreate?: Callback<H2>;\n\tonDispose?: Callback<H2>;\n}\n\nexport class H2 extends AurumElement {\n\tconstructor(props: H2Props) {\n\t\tsuper(props, 'h2');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface H3Props extends AurumElementProps {\n\tonAttach?: Callback<H3>;\n\tonDetach?: Callback<H3>;\n\tonCreate?: Callback<H3>;\n\tonDispose?: Callback<H3>;\n}\n\nexport class H3 extends AurumElement {\n\tconstructor(props: H3Props) {\n\t\tsuper(props, 'h3');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface H4Props extends AurumElementProps {\n\tonAttach?: Callback<H4>;\n\tonDetach?: Callback<H4>;\n\tonCreate?: Callback<H4>;\n\tonDispose?: Callback<H4>;\n}\n\nexport class H4 extends AurumElement {\n\tconstructor(props: H4Props) {\n\t\tsuper(props, 'h4');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface H5Props extends AurumElementProps {\n\tonAttach?: Callback<H5>;\n\tonDetach?: Callback<H5>;\n\tonCreate?: Callback<H5>;\n\tonDispose?: Callback<H5>;\n}\n\nexport class H5 extends AurumElement {\n\tconstructor(props: H5Props) {\n\t\tsuper(props, 'h5');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface H6Props extends AurumElementProps {\n\tonAttach?: Callback<H6>;\n\tonDetach?: Callback<H6>;\n\tonCreate?: Callback<H6>;\n\tonDispose?: Callback<H6>;\n}\n\nexport class H6 extends AurumElement {\n\tconstructor(props: H6Props) {\n\t\tsuper(props, 'h6');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface HeaderProps extends AurumElementProps {\n\tonAttach?: Callback<Header>;\n\tonDetach?: Callback<Header>;\n\tonCreate?: Callback<Header>;\n\tonDispose?: Callback<Header>;\n}\n\nexport class Header extends AurumElement {\n\tconstructor(props: HeaderProps) {\n\t\tsuper(props, 'header');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface HeadingProps extends AurumElementProps {\n\tonAttach?: Callback<Heading>;\n\tonDetach?: Callback<Heading>;\n\tonCreate?: Callback<Heading>;\n\tonDispose?: Callback<Heading>;\n}\n\nexport class Heading extends AurumElement {\n\tpublic readonly node: HTMLHeadingElement;\n\n\tconstructor(props: HeadingProps) {\n\t\tsuper(props, 'heading');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface IProps extends AurumElementProps {\n\tonAttach?: Callback<I>;\n\tonDetach?: Callback<I>;\n\tonCreate?: Callback<I>;\n\tonDispose?: Callback<I>;\n}\n\nexport class I extends AurumElement {\n\tconstructor(props: IProps) {\n\t\tsuper(props, 'i');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface IFrameProps extends AurumElementProps {\n\tonAttach?: Callback<IFrame>;\n\tonDetach?: Callback<IFrame>;\n\tonCreate?: Callback<IFrame>;\n\tonDispose?: Callback<IFrame>;\n\tsrc?: StringSource;\n\tallow?: StringSource;\n\tallowFullscreen?: StringSource;\n\tallowPaymentRequest?: StringSource;\n\twidth?: StringSource;\n\theight?: StringSource;\n\tsrcdoc?: StringSource;\n}\n\nexport class IFrame extends AurumElement {\n\tpublic readonly node: HTMLIFrameElement;\n\n\tconstructor(props: IFrameProps) {\n\t\tsuper(props, 'iframe');\n\t\tthis.bindProps(['src', 'srcdoc', 'width', 'height', 'allow', 'allowFullscreen', 'allowPaymentRequest'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface ImgProps extends AurumElementProps {\n\tonAttach?: Callback<Img>;\n\tonDetach?: Callback<Img>;\n\tonCreate?: Callback<Img>;\n\tonDispose?: Callback<Img>;\n\tsrc?: StringSource;\n\talt?: StringSource;\n\twidth?: StringSource;\n\theight?: StringSource;\n\treferrerPolicy?: StringSource;\n\tsizes?: StringSource;\n\tsrcset?: StringSource;\n\tuseMap?: StringSource;\n}\n\nexport class Img extends AurumElement {\n\tpublic readonly node: HTMLImageElement;\n\n\tconstructor(props: ImgProps) {\n\t\tsuper(props, 'img');\n\t\tthis.bindProps(['src', 'alt', 'width', 'height', 'referrerPolicy', 'sizes', 'srcset', 'useMap'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { DataSource } from '../stream/data_source';\nimport { DataDrain, StringSource, Callback } from '../utilities/common';\n\nexport interface InputProps extends AurumElementProps {\n\tonAttach?: Callback<Input>;\n\tonDetach?: Callback<Input>;\n\tonCreate?: Callback<Input>;\n\tonDispose?: Callback<Input>;\n\n\tplaceholder?: StringSource;\n\treadonly?: StringSource;\n\tdisabled?: StringSource;\n\tonChange?: DataDrain<InputEvent>;\n\tonInput?: DataDrain<InputEvent>;\n\tinputValueSource?: DataSource<string>;\n\tinitialValue?: string;\n\taccept?: StringSource;\n\talt?: StringSource;\n\tautocomplete?: StringSource;\n\tautofocus?: StringSource;\n\tchecked?: StringSource;\n\tdefaultChecked?: StringSource;\n\tformAction?: StringSource;\n\tformEnctype?: StringSource;\n\tformMethod?: StringSource;\n\tformNoValidate?: StringSource;\n\tformTarget?: StringSource;\n\tmax?: StringSource;\n\tmaxLength?: StringSource;\n\tmin?: StringSource;\n\tminLength?: StringSource;\n\tpattern?: StringSource;\n\tmultiple?: StringSource;\n\trequired?: StringSource;\n\ttype?: StringSource;\n}\n\nexport class Input extends AurumElement {\n\tpublic node: HTMLInputElement;\n\n\tpublic onChange: DataSource<InputEvent>;\n\tpublic onInput: DataSource<InputEvent>;\n\n\tconstructor(props: InputProps) {\n\t\tsuper(props, 'input');\n\t\tif (props.inputValueSource) {\n\t\t\tthis.node.value = props.initialValue ?? props.inputValueSource.value ?? '';\n\t\t\tprops.inputValueSource.unique().listen((value) => (this.node.value = value), this.cancellationToken);\n\t\t} else {\n\t\t\tthis.node.value = props.initialValue ?? '';\n\t\t}\n\t\tthis.bindProps(\n\t\t\t[\n\t\t\t\t'placeholder',\n\t\t\t\t'readonly',\n\t\t\t\t'disabled',\n\t\t\t\t'accept',\n\t\t\t\t'alt',\n\t\t\t\t'autocomplete',\n\t\t\t\t'autofocus',\n\t\t\t\t'checked',\n\t\t\t\t'defaultChecked',\n\t\t\t\t'formAction',\n\t\t\t\t'formEnctype',\n\t\t\t\t'formMethod',\n\t\t\t\t'formNoValidate',\n\t\t\t\t'formTarget',\n\t\t\t\t'max',\n\t\t\t\t'maxLength',\n\t\t\t\t'min',\n\t\t\t\t'minLength',\n\t\t\t\t'pattern',\n\t\t\t\t'multiple',\n\t\t\t\t'required',\n\t\t\t\t'type'\n\t\t\t],\n\t\t\tprops\n\t\t);\n\t\tthis.createEventHandlers(['input', 'change'], props);\n\n\t\tif (props.inputValueSource) {\n\t\t\tthis.onInput.map((p) => this.node.value).pipe(props.inputValueSource);\n\t\t}\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface LabelProps extends AurumElementProps {\n\tonAttach?: Callback<Label>;\n\tonDetach?: Callback<Label>;\n\tonCreate?: Callback<Label>;\n\tonDispose?: Callback<Label>;\n\tfor?: StringSource;\n}\n\nexport class Label extends AurumElement {\n\tpublic node: HTMLLabelElement;\n\n\tconstructor(props: LabelProps) {\n\t\tsuper(props, 'label');\n\t\tthis.bindProps(['for'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface LiProps extends AurumElementProps {\n\tonAttach?: Callback<Li>;\n\tonDetach?: Callback<Li>;\n\tonCreate?: Callback<Li>;\n\tonDispose?: Callback<Li>;\n}\n\nexport class Li extends AurumElement {\n\tpublic node: HTMLLIElement;\n\n\tconstructor(props: LiProps) {\n\t\tsuper(props, 'li');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface LinkProps extends AurumElementProps {\n\tonAttach?: Callback<Link>;\n\tonDetach?: Callback<Link>;\n\tonCreate?: Callback<Link>;\n\tonDispose?: Callback<Link>;\n\thref?: StringSource;\n\trel?: StringSource;\n\tmedia?: StringSource;\n\tas?: StringSource;\n\tdisabled?: StringSource;\n\ttype?: StringSource;\n}\n\nexport class Link extends AurumElement {\n\tpublic node: HTMLLinkElement;\n\n\tconstructor(props: LinkProps) {\n\t\tsuper(props, 'link');\n\t\tthis.bindProps(['href', 'rel', 'media', 'as', 'disabled', 'type'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface NavProps extends AurumElementProps {\n\tonAttach?: Callback<Nav>;\n\tonDetach?: Callback<Nav>;\n\tonCreate?: Callback<Nav>;\n\tonDispose?: Callback<Nav>;\n}\n\nexport class Nav extends AurumElement {\n\tconstructor(props: NavProps) {\n\t\tsuper(props, 'nav');\n\t}\n}\n","import { Callback } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface NoScriptProps extends AurumElementProps {\n\tonAttach?: Callback<NoScript>;\n\tonDetach?: Callback<NoScript>;\n\tonCreate?: Callback<NoScript>;\n\tonDispose?: Callback<NoScript>;\n}\n\nexport class NoScript extends AurumElement {\n\tconstructor(props: NoScriptProps) {\n\t\tsuper(props, 'noscript');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface OlProps extends AurumElementProps {\n\tonAttach?: Callback<Ol>;\n\tonDetach?: Callback<Ol>;\n\tonCreate?: Callback<Ol>;\n\tonDispose?: Callback<Ol>;\n}\n\nexport class Ol extends AurumElement {\n\tpublic node: HTMLOListElement;\n\n\tconstructor(props: OlProps) {\n\t\tsuper(props, 'ol');\n\t}\n}\n","import { Callback } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface OptionProps extends AurumElementProps {\n\tonAttach?: Callback<Option>;\n\tonDetach?: Callback<Option>;\n\tonCreate?: Callback<Option>;\n\tonDispose?: Callback<Option>;\n}\n\nexport class Option extends AurumElement {\n\tpublic readonly node: HTMLOptionElement;\n\n\tconstructor(props: OptionProps) {\n\t\tsuper(props, 'option');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface PProps extends AurumElementProps {\n\tonAttach?: Callback<P>;\n\tonDetach?: Callback<P>;\n\tonCreate?: Callback<P>;\n\tonDispose?: Callback<P>;\n}\n\nexport class P extends AurumElement {\n\tpublic node: HTMLParagraphElement;\n\n\tconstructor(props: PProps) {\n\t\tsuper(props, 'p');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface PreProps extends AurumElementProps {\n\tonAttach?: Callback<Pre>;\n\tonDetach?: Callback<Pre>;\n\tonCreate?: Callback<Pre>;\n\tonDispose?: Callback<Pre>;\n}\n\nexport class Pre extends AurumElement {\n\tpublic node: HTMLPreElement;\n\n\tconstructor(props: PreProps) {\n\t\tsuper(props, 'pre');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface ProgressProps extends AurumElementProps {\n\tonAttach?: Callback<Progress>;\n\tonDetach?: Callback<Progress>;\n\tonCreate?: Callback<Progress>;\n\tonDispose?: Callback<Progress>;\n\n\tmax?: StringSource;\n\tvalue?: StringSource;\n}\n\nexport class Progress extends AurumElement {\n\tpublic node: HTMLProgressElement;\n\n\tconstructor(props: ProgressProps) {\n\t\tsuper(props, 'progress');\n\t\tthis.bindProps(['max', 'value'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface QProps extends AurumElementProps {\n\tonAttach?: Callback<Q>;\n\tonDetach?: Callback<Q>;\n\tonCreate?: Callback<Q>;\n\tonDispose?: Callback<Q>;\n}\n\nexport class Q extends AurumElement {\n\tpublic node: HTMLQuoteElement;\n\n\tconstructor(props: QProps) {\n\t\tsuper(props, 'q');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { StringSource, Callback } from '../utilities/common';\n\nexport interface ScriptProps extends AurumElementProps {\n\tonAttach?: Callback<Script>;\n\tonDetach?: Callback<Script>;\n\tonCreate?: Callback<Script>;\n\tonDispose?: Callback<Script>;\n\tsrc?: StringSource;\n\tasync?: StringSource;\n\tdefer?: StringSource;\n\tintegrity?: StringSource;\n\tnoModule?: StringSource;\n\ttype?: StringSource;\n}\n\nexport class Script extends AurumElement {\n\tpublic node: HTMLScriptElement;\n\n\tconstructor(props: ScriptProps) {\n\t\tsuper(props, 'script');\n\t\tthis.bindProps(['src', 'async', 'defer', 'integrity', 'noModule', 'type'], props);\n\t}\n}\n","import { Callback } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface SelectProps extends AurumElementProps {\n\tonAttach?: Callback<Select>;\n\tonDetach?: Callback<Select>;\n\tonCreate?: Callback<Select>;\n\tonDispose?: Callback<Select>;\n}\n\nexport class Select extends AurumElement {\n\tpublic readonly node: HTMLSelectElement;\n\n\tconstructor(props: SelectProps) {\n\t\tsuper(props, 'select');\n\t}\n}\n","import { Callback, StringSource } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface SourceProps extends AurumElementProps {\n\tonAttach?: Callback<Source>;\n\tonDetach?: Callback<Source>;\n\tonCreate?: Callback<Source>;\n\tonDispose?: Callback<Source>;\n\tsrc?: StringSource;\n\tsrcSet?: StringSource;\n\tmedia?: StringSource;\n\tsizes?: StringSource;\n\ttype?: StringSource;\n}\n\nexport class Source extends AurumElement {\n\tpublic readonly node: HTMLSourceElement;\n\n\tconstructor(props: SourceProps) {\n\t\tsuper(props, 'source');\n\t\tthis.bindProps(['src', 'srcSet', 'media', 'sizes', 'type'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface SpanProps extends AurumElementProps {\n\tonAttach?: Callback<Span>;\n\tonDetach?: Callback<Span>;\n\tonCreate?: Callback<Span>;\n\tonDispose?: Callback<Span>;\n}\n\nexport class Span extends AurumElement {\n\tpublic node: HTMLSpanElement;\n\n\tconstructor(props: SpanProps) {\n\t\tsuper(props, 'span');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface SubProps extends AurumElementProps {\n\tonAttach?: Callback<Sub>;\n\tonDetach?: Callback<Sub>;\n\tonCreate?: Callback<Sub>;\n\tonDispose?: Callback<Sub>;\n}\n\nexport class Sub extends AurumElement {\n\tconstructor(props: SubProps) {\n\t\tsuper(props, 'sub');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface SummaryProps extends AurumElementProps {\n\tonAttach?: Callback<Summary>;\n\tonDetach?: Callback<Summary>;\n\tonCreate?: Callback<Summary>;\n\tonDispose?: Callback<Summary>;\n}\n\nexport class Summary extends AurumElement {\n\tconstructor(props: SummaryProps) {\n\t\tsuper(props, 'summary');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface SupProps extends AurumElementProps {\n\tonAttach?: Callback<Sup>;\n\tonDetach?: Callback<Sup>;\n\tonCreate?: Callback<Sup>;\n\tonDispose?: Callback<Sup>;\n}\n\nexport class Sup extends AurumElement {\n\tconstructor(props: SupProps) {\n\t\tsuper(props, 'sup');\n\t}\n}\n","import { Callback, StringSource } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface SvgProps extends AurumElementProps {\n\tonAttach?: Callback<Svg>;\n\tonDetach?: Callback<Svg>;\n\tonCreate?: Callback<Svg>;\n\tonDispose?: Callback<Svg>;\n\twidth?: StringSource;\n\theight?: StringSource;\n}\n\nexport class Svg extends AurumElement {\n\tconstructor(props: SvgProps) {\n\t\tsuper(props, 'svg');\n\t\tthis.bindProps(['width', 'height'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface TableProps extends AurumElementProps {\n\tonAttach?: Callback<Table>;\n\tonDetach?: Callback<Table>;\n\tonCreate?: Callback<Table>;\n\tonDispose?: Callback<Table>;\n}\n\nexport class Table extends AurumElement {\n\tpublic node: HTMLTableElement;\n\n\tconstructor(props: TableProps) {\n\t\tsuper(props, 'table');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface TbodyProps extends AurumElementProps {\n\tonAttach?: Callback<Tbody>;\n\tonDetach?: Callback<Tbody>;\n\tonCreate?: Callback<Tbody>;\n\tonDispose?: Callback<Tbody>;\n}\n\nexport class Tbody extends AurumElement {\n\tconstructor(props: TbodyProps) {\n\t\tsuper(props, 'tbody');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface TdProps extends AurumElementProps {\n\tonAttach?: Callback<Td>;\n\tonDetach?: Callback<Td>;\n\tonCreate?: Callback<Td>;\n\tonDispose?: Callback<Td>;\n}\n\nexport class Td extends AurumElement {\n\tpublic node: HTMLTableColElement;\n\n\tconstructor(props: TdProps) {\n\t\tsuper(props, 'td');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { DataSource } from '../stream/data_source';\nimport { DataDrain, StringSource, Callback } from '../utilities/common';\n\nexport interface TextAreaProps extends AurumElementProps {\n\tonAttach?: Callback<TextArea>;\n\tonDetach?: Callback<TextArea>;\n\tonCreate?: Callback<TextArea>;\n\tonDispose?: Callback<TextArea>;\n\n\tplaceholder?: StringSource;\n\treadonly?: StringSource;\n\tdisabled?: StringSource;\n\tonChange?: DataDrain<InputEvent>;\n\tonInput?: DataDrain<InputEvent>;\n\tinputValueSource?: DataSource<string>;\n\tinitialValue?: string;\n\n\trows?: StringSource;\n\twrap?: StringSource;\n\tautocomplete?: StringSource;\n\tautofocus?: StringSource;\n\tmax?: StringSource;\n\tmaxLength?: StringSource;\n\tmin?: StringSource;\n\tminLength?: StringSource;\n\trequired?: StringSource;\n\ttype?: StringSource;\n}\n\nexport class TextArea extends AurumElement {\n\tpublic node: HTMLTextAreaElement;\n\n\tpublic onChange: DataSource<InputEvent>;\n\tpublic onInput: DataSource<InputEvent>;\n\n\tconstructor(props: TextAreaProps) {\n\t\tsuper(props, 'textArea');\n\t\tif (props.inputValueSource) {\n\t\t\tthis.node.value = props.initialValue ?? props.inputValueSource.value ?? '';\n\t\t\tprops.inputValueSource.unique().listen((value) => (this.node.value = value), this.cancellationToken);\n\t\t} else {\n\t\t\tthis.node.value = props.initialValue ?? '';\n\t\t}\n\t\tthis.bindProps(\n\t\t\t['placeholder', 'readonly', 'disabled', 'rows', 'wrap', 'autocomplete', 'autofocus', 'max', 'maxLength', 'min', 'minLength', 'required', 'type'],\n\t\t\tprops\n\t\t);\n\t\tthis.createEventHandlers(['input', 'change'], props);\n\n\t\tif (props.inputValueSource) {\n\t\t\tthis.onInput.map((p) => this.node.value).pipe(props.inputValueSource);\n\t\t}\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface TfootProps extends AurumElementProps {\n\tonAttach?: Callback<Tfoot>;\n\tonDetach?: Callback<Tfoot>;\n\tonCreate?: Callback<Tfoot>;\n\tonDispose?: Callback<Tfoot>;\n}\n\nexport class Tfoot extends AurumElement {\n\tconstructor(props: TfootProps) {\n\t\tsuper(props, 'tfoot');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface ThProps extends AurumElementProps {\n\tonAttach?: Callback<Th>;\n\tonDetach?: Callback<Th>;\n\tonCreate?: Callback<Th>;\n\tonDispose?: Callback<Th>;\n}\n\nexport class Th extends AurumElement {\n\tpublic node: HTMLTableHeaderCellElement;\n\n\tconstructor(props: ThProps) {\n\t\tsuper(props, 'th');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface TheadProps extends AurumElementProps {\n\tonAttach?: Callback<Thead>;\n\tonDetach?: Callback<Thead>;\n\tonCreate?: Callback<Thead>;\n\tonDispose?: Callback<Thead>;\n}\n\nexport class Thead extends AurumElement {\n\tconstructor(props: TheadProps) {\n\t\tsuper(props, 'thead');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback, StringSource } from '../utilities/common';\n\nexport interface TimeProps extends AurumElementProps {\n\tonAttach?: Callback<Time>;\n\tonDetach?: Callback<Time>;\n\tonCreate?: Callback<Time>;\n\tonDispose?: Callback<Time>;\n\tdatetime?: StringSource;\n}\n\nexport class Time extends AurumElement {\n\tpublic node: HTMLTimeElement;\n\n\tconstructor(props: TimeProps) {\n\t\tsuper(props, 'time');\n\t\tthis.bindProps(['datetime'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface TitleProps extends AurumElementProps {\n\tonAttach?: Callback<Title>;\n\tonDetach?: Callback<Title>;\n\tonCreate?: Callback<Title>;\n\tonDispose?: Callback<Title>;\n}\n\nexport class Title extends AurumElement {\n\tpublic node: HTMLTitleElement;\n\n\tconstructor(props: TitleProps) {\n\t\tsuper(props, 'title');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface TrProps extends AurumElementProps {\n\tonAttach?: Callback<Tr>;\n\tonDetach?: Callback<Tr>;\n\tonCreate?: Callback<Tr>;\n\tonDispose?: Callback<Tr>;\n}\n\nexport class Tr extends AurumElement {\n\tpublic node: HTMLTableRowElement;\n\n\tconstructor(props: TrProps) {\n\t\tsuper(props, 'tr');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface UlProps extends AurumElementProps {\n\tonAttach?: Callback<Ul>;\n\tonDetach?: Callback<Ul>;\n\tonCreate?: Callback<Ul>;\n\tonDispose?: Callback<Ul>;\n}\n\nexport class Ul extends AurumElement {\n\tpublic node: HTMLUListElement;\n\n\tconstructor(props: UlProps) {\n\t\tsuper(props, 'ul');\n\t}\n}\n","import { Callback, StringSource } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface VideoProps extends AurumElementProps {\n\tonAttach?: Callback<Video>;\n\tonDetach?: Callback<Video>;\n\tonCreate?: Callback<Video>;\n\tonDispose?: Callback<Video>;\n\tcontrols?: StringSource;\n\tautoplay?: StringSource;\n\tloop?: StringSource;\n\tmuted?: StringSource;\n\tpreload?: StringSource;\n\tsrc?: StringSource;\n\tposter?: StringSource;\n\twidth?: StringSource;\n\theight?: StringSource;\n}\n\nexport class Video extends AurumElement {\n\tpublic readonly node: HTMLVideoElement;\n\n\tconstructor(props: VideoProps) {\n\t\tsuper(props, 'video');\n\t\tthis.bindProps(['controls', 'autoplay', 'loop', 'muted', 'preload', 'src', 'poster', 'width', 'height'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback, StringSource } from '../utilities/common';\n\nexport interface StyleProps extends AurumElementProps {\n\tonAttach?: Callback<Style>;\n\tonDetach?: Callback<Style>;\n\tonCreate?: Callback<Style>;\n\tonDispose?: Callback<Style>;\n\tmedia?: StringSource;\n}\n\nexport class Style extends AurumElement {\n\tpublic node: HTMLStyleElement;\n\n\tconstructor(props: StyleProps) {\n\t\tsuper(props, 'style');\n\t\tthis.bindProps(['media'], props);\n\t}\n}\n","import { AurumElement, AurumElementProps, Template } from '../aurum_element';\nimport { MapLike } from '../../utilities/common';\nimport { DataSource } from '../../stream/data_source';\n\nexport interface SwitchProps<T = boolean> extends AurumElementProps {\n\tstate: DataSource<T>;\n\ttemplateMap?: MapLike<Template<void>>;\n\ttemplate?: Template<void>;\n}\n\nexport class Switch<T = boolean> extends AurumElement {\n\tprivate lastValue: T;\n\tprivate firstRender = true;\n\tpublic templateMap: MapLike<Template<void>>;\n\tpublic template: Template<void>;\n\n\tconstructor(props: SwitchProps<T>) {\n\t\tsuper(props, 'switch');\n\n\t\tthis.templateMap = props.templateMap;\n\t\tthis.renderSwitch(props.state.value);\n\t\tprops.state.listen((data) => {\n\t\t\tthis.renderSwitch(data);\n\t\t}, this.cancellationToken);\n\t}\n\n\tprotected renderSwitch(data: T): void {\n\t\tif (data !== this.lastValue || this.firstRender) {\n\t\t\tthis.lastValue = data;\n\t\t\tthis.firstRender = false;\n\t\t\tthis.clearChildren();\n\t\t\tif (data !== undefined && data !== null) {\n\t\t\t\tconst template = this.templateMap[data.toString()] ?? this.template;\n\t\t\t\tif (template) {\n\t\t\t\t\tconst result = template.generate();\n\t\t\t\t\tthis.addChild(result);\n\t\t\t\t}\n\t\t\t} else if (this.template) {\n\t\t\t\tconst result = this.template.generate();\n\t\t\t\tthis.addChild(result);\n\t\t\t}\n\t\t}\n\t}\n}\n","import { Switch } from './switch';\nimport { DataSource } from '../../stream/data_source';\nimport { AurumElementProps } from '../aurum_element';\n\nexport interface AurumRouterProps extends AurumElementProps {}\n\nexport class AurumRouter extends Switch<string> {\n\tconstructor(props: AurumRouterProps) {\n\t\tconst urlDataSource = new DataSource(location.hash.substring(1));\n\t\tsuper({\n\t\t\t...props,\n\t\t\tstate: urlDataSource\n\t\t});\n\n\t\twindow.addEventListener('hashchange', () => {\n\t\t\turlDataSource.update(location.hash.substring(1));\n\t\t});\n\t}\n}\n","import { AurumElement, AurumElementProps, Template } from '../aurum_element';\nimport { MapLike, Provider } from '../../utilities/common';\n\nexport interface SuspenseProps<T = boolean> extends AurumElementProps {\n\tloader: Provider<Promise<AurumElement>>;\n}\n\nexport class Suspense<T = boolean> extends AurumElement {\n\tpublic templateMap: MapLike<Template<void>>;\n\tpublic template: Template<void>;\n\n\tconstructor(props: SuspenseProps<T>) {\n\t\tsuper(props, 'suspense');\n\n\t\tprops.loader().then((newElement) => {\n\t\t\tthis.clearChildren();\n\t\t\tthis.addChild(newElement);\n\t\t});\n\t}\n}\n","import { AurumElement, Template } from '../nodes/aurum_element';\nimport { ownerSymbol } from './owner_symbol';\nimport { Constructor, MapLike } from './common';\nimport { Div } from '../nodes/div';\nimport { Button } from '../nodes/button';\nimport { Input } from '../nodes/input';\nimport { Li } from '../nodes/li';\nimport { Span } from '../nodes/span';\nimport { Style } from '../nodes/style';\nimport { Ul } from '../nodes/ul';\nimport { P } from '../nodes/p';\nimport { Img } from '../nodes/img';\nimport { Link } from '../nodes/link';\nimport { Canvas } from '../nodes/canvas';\nimport { A } from '../nodes/a';\nimport { Article } from '../nodes/article';\nimport { Br } from '../nodes/br';\nimport { Form } from '../nodes/form';\nimport { Label } from '../nodes/label';\nimport { Ol } from '../nodes/ol';\nimport { Pre } from '../nodes/pre';\nimport { Progress } from '../nodes/progress';\nimport { Table } from '../nodes/table';\nimport { Td } from '../nodes/td';\nimport { Tr } from '../nodes/tr';\nimport { Th } from '../nodes/th';\nimport { TextArea } from '../nodes/textarea';\nimport { H1 } from '../nodes/h1';\nimport { H2 } from '../nodes/h2';\nimport { H3 } from '../nodes/h3';\nimport { H4 } from '../nodes/h4';\nimport { H5 } from '../nodes/h5';\nimport { H6 } from '../nodes/h6';\nimport { Header } from '../nodes/header';\nimport { Footer } from '../nodes/footer';\nimport { Nav } from '../nodes/nav';\nimport { B } from '../nodes/b';\nimport { I } from '../nodes/i';\nimport { Script } from '../nodes/script';\nimport { Abbr } from '../nodes/abbr';\nimport { Area } from '../nodes/area';\nimport { Aside } from '../nodes/aside';\nimport { Em } from '../nodes/em';\nimport { Heading } from '../nodes/heading';\nimport { IFrame } from '../nodes/iframe';\nimport { NoScript } from '../nodes/noscript';\nimport Q from 'q';\nimport { Select } from '../nodes/select';\nimport { Source } from '../nodes/source';\nimport { Title } from '../nodes/title';\nimport { Video } from '../nodes/video';\nimport { Tbody } from '../nodes/tbody';\nimport { Tfoot } from '../nodes/tfoot';\nimport { Thead } from '../nodes/thead';\nimport { Summary } from '../nodes/summary';\nimport { Details } from '../nodes/details';\nimport { Sub } from '../nodes/sub';\nimport { Sup } from '../nodes/sup';\nimport { Svg } from '../nodes/svg';\nimport { Data } from '../nodes/data';\nimport { Time } from '../nodes/time';\n\nconst nodeMap = {\n\tbutton: Button,\n\tdiv: Div,\n\tinput: Input,\n\tli: Li,\n\tspan: Span,\n\tstyle: Style,\n\tul: Ul,\n\tp: P,\n\timg: Img,\n\tlink: Link,\n\tcanvas: Canvas,\n\ta: A,\n\tarticle: Article,\n\tbr: Br,\n\tform: Form,\n\tlabel: Label,\n\tol: Ol,\n\tpre: Pre,\n\tprogress: Progress,\n\ttable: Table,\n\ttd: Td,\n\ttr: Tr,\n\tth: Th,\n\ttextarea: TextArea,\n\th1: H1,\n\th2: H2,\n\th3: H3,\n\th4: H4,\n\th5: H5,\n\th6: H6,\n\theader: Header,\n\tfooter: Footer,\n\tnav: Nav,\n\tb: B,\n\ti: I,\n\tscript: Script,\n\tabbr: Abbr,\n\tarea: Area,\n\taside: Aside,\n\taudio: Audio,\n\tem: Em,\n\theading: Heading,\n\tiframe: IFrame,\n\tnoscript: NoScript,\n\toption: Option,\n\tq: Q,\n\tselect: Select,\n\tsource: Source,\n\ttitle: Title,\n\tvideo: Video,\n\ttbody: Tbody,\n\ttfoot: Tfoot,\n\tthead: Thead,\n\tsummary: Summary,\n\tdetails: Details,\n\tsub: Sub,\n\tsup: Sup,\n\tsvg: Svg,\n\tdata: Data,\n\ttime: Time,\n\ttemplate: Template\n};\n\nexport class Aurum {\n\tpublic static attach(aurumElement: AurumElement, dom: HTMLElement) {\n\t\tif (dom[ownerSymbol]) {\n\t\t\tthrow new Error('This node is already managed by aurum and cannot be used');\n\t\t}\n\t\tdom.appendChild(aurumElement.node);\n\t\taurumElement['handleAttach']();\n\t\tdom[ownerSymbol] = aurumElement;\n\t}\n\n\tpublic static detach(domNode: HTMLElement): void {\n\t\tif (domNode[ownerSymbol]) {\n\t\t\tdomNode[ownerSymbol].node.remove();\n\t\t\tdomNode[ownerSymbol].handleDetach();\n\t\t\tdomNode[ownerSymbol].dispose();\n\t\t\tdomNode[ownerSymbol] = undefined;\n\t\t}\n\t}\n\n\tpublic static factory(\n\t\tnode: Constructor<AurumElement> | ((...args: any[]) => AurumElement),\n\t\targs: MapLike<any>,\n\t\t...innerNodes: AurumElement[]\n\t): AurumElement {\n\t\tif (typeof node === 'string') {\n\t\t\tconst type = node;\n\t\t\tnode = nodeMap[node];\n\t\t\tif (node === undefined) {\n\t\t\t\tthrow new Error(`Node ${type} does not exist or is not supported`);\n\t\t\t}\n\t\t}\n\n\t\tconst children = [].concat(...innerNodes).filter((e) => e);\n\t\tconst templateMap = {};\n\t\tlet defaultTemplate;\n\t\tlet hasRef: boolean = false;\n\t\tfor (const c of children) {\n\t\t\tif (typeof c === 'string') {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (c instanceof Template && (!c.ref || c.ref === 'default')) {\n\t\t\t\tdefaultTemplate = c;\n\t\t\t}\n\n\t\t\tif (c.ref) {\n\t\t\t\ttemplateMap[c.ref] = c;\n\t\t\t\thasRef = true;\n\t\t\t}\n\t\t}\n\n\t\targs = args ?? {};\n\t\tif (defaultTemplate) {\n\t\t\targs.template = defaultTemplate;\n\t\t}\n\t\tif (hasRef) {\n\t\t\targs.templateMap = templateMap;\n\t\t}\n\n\t\tlet instance: AurumElement;\n\t\tif (node.prototype) {\n\t\t\t//@ts-ignore\n\t\t\tinstance = new node(args || {});\n\t\t} else {\n\t\t\t//@ts-ignore\n\t\t\tinstance = node(args || {});\n\t\t}\n\t\tinstance.addChildren(children);\n\n\t\treturn instance;\n\t}\n}\n","import { AProps } from './nodes/a';\nimport { AbbrProps } from './nodes/abbr';\nimport { AreaProps } from './nodes/area';\nimport { ArticleProps } from './nodes/article';\nimport { AsideProps } from './nodes/aside';\nimport { AudioProps } from './nodes/audio';\nimport { TemplateProps } from './nodes/aurum_element';\nimport { BProps } from './nodes/b';\nimport { BrProps } from './nodes/br';\nimport { ButtonProps } from './nodes/button';\nimport { CanvasProps } from './nodes/canvas';\nimport { DataProps } from './nodes/data';\nimport { DetailsProps } from './nodes/details';\nimport { DivProps } from './nodes/div';\nimport { EmProps } from './nodes/em';\nimport { FooterProps } from './nodes/footer';\nimport { FormProps } from './nodes/form';\nimport { H1Props } from './nodes/h1';\nimport { H2Props } from './nodes/h2';\nimport { H3Props } from './nodes/h3';\nimport { H4Props } from './nodes/h4';\nimport { H5Props } from './nodes/h5';\nimport { H6Props } from './nodes/h6';\nimport { HeaderProps } from './nodes/header';\nimport { HeadingProps } from './nodes/heading';\nimport { IProps } from './nodes/i';\nimport { IFrameProps } from './nodes/iframe';\nimport { ImgProps } from './nodes/img';\nimport { InputProps } from './nodes/input';\nimport { LabelProps } from './nodes/label';\nimport { LiProps } from './nodes/li';\nimport { LinkProps } from './nodes/link';\nimport { NavProps } from './nodes/nav';\nimport { NoScriptProps } from './nodes/noscript';\nimport { OlProps } from './nodes/ol';\nimport { OptionProps } from './nodes/option';\nimport { PProps } from './nodes/p';\nimport { PreProps } from './nodes/pre';\nimport { ProgressProps } from './nodes/progress';\nimport { QProps } from './nodes/q';\nimport { ScriptProps } from './nodes/script';\nimport { SelectProps } from './nodes/select';\nimport { SourceProps } from './nodes/source';\nimport { SpanProps } from './nodes/span';\nimport { SubProps } from './nodes/sub';\nimport { SummaryProps } from './nodes/summary';\nimport { SupProps } from './nodes/sup';\nimport { SvgProps } from './nodes/svg';\nimport { TableProps } from './nodes/table';\nimport { TbodyProps } from './nodes/tbody';\nimport { TdProps } from './nodes/td';\nimport { TextAreaProps } from './nodes/textarea';\nimport { TfootProps } from './nodes/tfoot';\nimport { ThProps } from './nodes/th';\nimport { TheadProps } from './nodes/thead';\nimport { TimeProps } from './nodes/time';\nimport { TitleProps } from './nodes/title';\nimport { TrProps } from './nodes/tr';\nimport { UlProps } from './nodes/ul';\nimport { VideoProps } from './nodes/video';\nimport { StyleProps } from './nodes/style';\n\nexport * from './nodes/a';\nexport * from './nodes/abbr';\nexport * from './nodes/area';\nexport * from './nodes/article';\nexport * from './nodes/aside';\nexport * from './nodes/audio';\nexport * from './nodes/aurum_element';\nexport * from './nodes/b';\nexport * from './nodes/br';\nexport * from './nodes/button';\nexport * from './nodes/canvas';\nexport * from './nodes/data';\nexport * from './nodes/details';\nexport * from './nodes/div';\nexport * from './nodes/em';\nexport * from './nodes/footer';\nexport * from './nodes/form';\nexport * from './nodes/h1';\nexport * from './nodes/h2';\nexport * from './nodes/h3';\nexport * from './nodes/h4';\nexport * from './nodes/h5';\nexport * from './nodes/h6';\nexport * from './nodes/header';\nexport * from './nodes/heading';\nexport * from './nodes/i';\nexport * from './nodes/iframe';\nexport * from './nodes/img';\nexport * from './nodes/input';\nexport * from './nodes/label';\nexport * from './nodes/li';\nexport * from './nodes/link';\nexport * from './nodes/nav';\nexport * from './nodes/noscript';\nexport * from './nodes/ol';\nexport * from './nodes/option';\nexport * from './nodes/p';\nexport * from './nodes/pre';\nexport * from './nodes/progress';\nexport * from './nodes/q';\nexport * from './nodes/script';\nexport * from './nodes/select';\nexport * from './nodes/source';\nexport * from './nodes/span';\nexport * from './nodes/special/router';\nexport * from './nodes/special/suspense';\nexport * from './nodes/special/switch';\nexport * from './nodes/style';\nexport * from './nodes/sub';\nexport * from './nodes/summary';\nexport * from './nodes/sup';\nexport * from './nodes/svg';\nexport * from './nodes/table';\nexport * from './nodes/tbody';\nexport * from './nodes/td';\nexport * from './nodes/textarea';\nexport * from './nodes/tfoot';\nexport * from './nodes/th';\nexport * from './nodes/thead';\nexport * from './nodes/time';\nexport * from './nodes/title';\nexport * from './nodes/tr';\nexport * from './nodes/ul';\nexport * from './nodes/video';\nexport * from './stream/data_source';\nexport * from './stream/event_emitter';\nexport * from './utilities/aurum';\nexport * from './utilities/cancellation_token';\n\ndeclare global {\n\tnamespace JSX {\n\t\tinterface IntrinsicElements {\n\t\t\tbutton: ButtonProps;\n\t\t\tdiv: DivProps;\n\t\t\tinput: InputProps;\n\t\t\tli: LiProps;\n\t\t\tspan: SpanProps;\n\t\t\tstyle: StyleProps;\n\t\t\tul: UlProps;\n\t\t\tp: PProps;\n\t\t\timg: ImgProps;\n\t\t\tlink: LinkProps;\n\t\t\tcanvas: CanvasProps;\n\t\t\ta: AProps;\n\t\t\tarticle: ArticleProps;\n\t\t\tbr: BrProps;\n\t\t\tform: FormProps;\n\t\t\tlabel: LabelProps;\n\t\t\tol: OlProps;\n\t\t\tpre: PreProps;\n\t\t\tprogress: ProgressProps;\n\t\t\ttable: TableProps;\n\t\t\ttd: TdProps;\n\t\t\ttr: TrProps;\n\t\t\tth: ThProps;\n\t\t\ttextarea: TextAreaProps;\n\t\t\th1: H1Props;\n\t\t\th2: H2Props;\n\t\t\th3: H3Props;\n\t\t\th4: H4Props;\n\t\t\th5: H5Props;\n\t\t\th6: H6Props;\n\t\t\theader: HeaderProps;\n\t\t\tfooter: FooterProps;\n\t\t\tnav: NavProps;\n\t\t\tb: BProps;\n\t\t\ti: IProps;\n\t\t\tscript: ScriptProps;\n\t\t\tabbr: AbbrProps;\n\t\t\tarea: AreaProps;\n\t\t\taside: AsideProps;\n\t\t\taudio: AudioProps;\n\t\t\tem: EmProps;\n\t\t\theading: HeadingProps;\n\t\t\tiframe: IFrameProps;\n\t\t\tnoscript: NoScriptProps;\n\t\t\toption: OptionProps;\n\t\t\tq: QProps;\n\t\t\tselect: SelectProps;\n\t\t\tsource: SourceProps;\n\t\t\ttitle: TitleProps;\n\t\t\tvideo: VideoProps;\n\t\t\ttbody: TbodyProps;\n\t\t\ttfoot: TfootProps;\n\t\t\tthead: TheadProps;\n\t\t\tsummary: SummaryProps;\n\t\t\tdetails: DetailsProps;\n\t\t\tsub: SubProps;\n\t\t\tsup: SupProps;\n\t\t\tsvg: SvgProps;\n\t\t\tdata: DataProps;\n\t\t\ttime: TimeProps;\n\t\t\ttemplate: TemplateProps<any>;\n\t\t}\n\t}\n}\n","import { Callback } from '../utilities/common';\nimport { AurumElement, AurumElementProps } from './aurum_element';\n\nexport interface AddressProps extends AurumElementProps {\n\tonAttach?: Callback<Address>;\n\tonDetach?: Callback<Address>;\n\tonCreate?: Callback<Address>;\n\tonDispose?: Callback<Address>;\n}\n\nexport class Address extends AurumElement {\n\tconstructor(props: AddressProps) {\n\t\tsuper(props, 'address');\n\t}\n}\n","import { AurumElement, AurumElementProps } from './aurum_element';\nimport { Callback } from '../utilities/common';\n\nexport interface HrProps extends AurumElementProps {\n\tonAttach?: Callback<Hr>;\n\tonDetach?: Callback<Hr>;\n\tonCreate?: Callback<Hr>;\n\tonDispose?: Callback<Hr>;\n}\n\nexport class Hr extends AurumElement {\n\tpublic readonly node: HTMLHRElement;\n\n\tconstructor(props: HrProps) {\n\t\tsuper(props, 'hr');\n\t}\n}\n","import { AurumElement, AurumElementProps } from '../../aurumjs';\nimport { Callback, MapLike, StringSource } from '../../utilities/common';\n\nexport interface CustomProps<T extends HTMLElement> extends AurumElementProps {\n\tonAttach?: Callback<Custom<T>>;\n\tonDetach?: Callback<Custom<T>>;\n\tonCreate?: Callback<Custom<T>>;\n\tonDispose?: Callback<Custom<T>>;\n\n\tattributes?: MapLike<StringSource>;\n\ttag: string;\n}\n\nexport class Custom<T extends HTMLElement> extends AurumElement {\n\tpublic readonly node: T;\n\n\tconstructor(props: CustomProps<T>) {\n\t\tsuper(props, props.tag);\n\t\tif (props.attributes) {\n\t\t\tthis.bindProps(Object.keys(props.attributes), props.attributes);\n\t\t}\n\t}\n}\n"]}