{"version":3,"file":"aurum.js","sourceRoot":"","sources":["../../src/utilities/aurum.ts"],"names":[],"mappings":"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","sourcesContent":["import { AurumElement, AurumElementModel, prerender, aurumElementModelIdentitiy } from '../nodes/special/aurum_element';\r\nimport { ownerSymbol } from './owner_symbol';\r\nimport { Constructor, MapLike } from './common';\r\nimport { Div } from '../nodes/div';\r\nimport { Button } from '../nodes/button';\r\nimport { Input } from '../nodes/input';\r\nimport { Li } from '../nodes/li';\r\nimport { Span } from '../nodes/span';\r\nimport { Style } from '../nodes/style';\r\nimport { Audio } from '../nodes/audio';\r\nimport { Ul } from '../nodes/ul';\r\nimport { P } from '../nodes/p';\r\nimport { Img } from '../nodes/img';\r\nimport { Link } from '../nodes/link';\r\nimport { Canvas } from '../nodes/canvas';\r\nimport { A } from '../nodes/a';\r\nimport { Article } from '../nodes/article';\r\nimport { Br } from '../nodes/br';\r\nimport { Form } from '../nodes/form';\r\nimport { Label } from '../nodes/label';\r\nimport { Ol } from '../nodes/ol';\r\nimport { Pre } from '../nodes/pre';\r\nimport { Progress } from '../nodes/progress';\r\nimport { Table } from '../nodes/table';\r\nimport { Td } from '../nodes/td';\r\nimport { Tr } from '../nodes/tr';\r\nimport { Th } from '../nodes/th';\r\nimport { TextArea } from '../nodes/textarea';\r\nimport { H1 } from '../nodes/h1';\r\nimport { H2 } from '../nodes/h2';\r\nimport { H3 } from '../nodes/h3';\r\nimport { H4 } from '../nodes/h4';\r\nimport { H5 } from '../nodes/h5';\r\nimport { H6 } from '../nodes/h6';\r\nimport { Header } from '../nodes/header';\r\nimport { Footer } from '../nodes/footer';\r\nimport { Nav } from '../nodes/nav';\r\nimport { B } from '../nodes/b';\r\nimport { I } from '../nodes/i';\r\nimport { Script } from '../nodes/script';\r\nimport { Abbr } from '../nodes/abbr';\r\nimport { Area } from '../nodes/area';\r\nimport { Aside } from '../nodes/aside';\r\nimport { Em } from '../nodes/em';\r\nimport { Heading } from '../nodes/heading';\r\nimport { IFrame } from '../nodes/iframe';\r\nimport { NoScript } from '../nodes/noscript';\r\nimport { Q } from '../nodes/q';\r\nimport { Select } from '../nodes/select';\r\nimport { Source } from '../nodes/source';\r\nimport { Title } from '../nodes/title';\r\nimport { Video } from '../nodes/video';\r\nimport { Tbody } from '../nodes/tbody';\r\nimport { Tfoot } from '../nodes/tfoot';\r\nimport { Thead } from '../nodes/thead';\r\nimport { Summary } from '../nodes/summary';\r\nimport { Details } from '../nodes/details';\r\nimport { Sub } from '../nodes/sub';\r\nimport { Sup } from '../nodes/sup';\r\nimport { Svg } from '../nodes/svg';\r\nimport { Data } from '../nodes/data';\r\nimport { Time } from '../nodes/time';\r\nimport { Option } from '../nodes/option';\r\nimport { Template } from '../nodes/template';\r\n\r\nconst nodeMap = {\r\n\tbutton: Button,\r\n\tdiv: Div,\r\n\tinput: Input,\r\n\tli: Li,\r\n\tspan: Span,\r\n\tstyle: Style,\r\n\tul: Ul,\r\n\tp: P,\r\n\timg: Img,\r\n\tlink: Link,\r\n\tcanvas: Canvas,\r\n\ta: A,\r\n\tarticle: Article,\r\n\tbr: Br,\r\n\tform: Form,\r\n\tlabel: Label,\r\n\tol: Ol,\r\n\tpre: Pre,\r\n\tprogress: Progress,\r\n\ttable: Table,\r\n\ttd: Td,\r\n\ttr: Tr,\r\n\tth: Th,\r\n\ttextarea: TextArea,\r\n\th1: H1,\r\n\th2: H2,\r\n\th3: H3,\r\n\th4: H4,\r\n\th5: H5,\r\n\th6: H6,\r\n\theader: Header,\r\n\tfooter: Footer,\r\n\tnav: Nav,\r\n\tb: B,\r\n\ti: I,\r\n\tscript: Script,\r\n\tabbr: Abbr,\r\n\tarea: Area,\r\n\taside: Aside,\r\n\taudio: Audio,\r\n\tem: Em,\r\n\theading: Heading,\r\n\tiframe: IFrame,\r\n\tnoscript: NoScript,\r\n\toption: Option,\r\n\tq: Q,\r\n\tselect: Select,\r\n\tsource: Source,\r\n\ttitle: Title,\r\n\tvideo: Video,\r\n\ttbody: Tbody,\r\n\ttfoot: Tfoot,\r\n\tthead: Thead,\r\n\tsummary: Summary,\r\n\tdetails: Details,\r\n\tsub: Sub,\r\n\tsup: Sup,\r\n\tsvg: Svg,\r\n\tdata: Data,\r\n\ttime: Time,\r\n\ttemplate: Template\r\n};\r\n\r\nexport class Aurum {\r\n\tpublic static attach(aurumElementModel: AurumElementModel, dom: HTMLElement) {\r\n\t\tconst aurumElement = prerender(aurumElementModel);\r\n\t\tif (dom[ownerSymbol]) {\r\n\t\t\tthrow new Error('This node is already managed by aurum and cannot be used');\r\n\t\t}\r\n\r\n\t\tif (aurumElement instanceof AurumElement) {\r\n\t\t\tdom.appendChild(aurumElement.node);\r\n\t\t\taurumElement['handleAttach'](aurumElement);\r\n\t\t\tdom[ownerSymbol] = aurumElement;\r\n\t\t} else {\r\n\t\t\tthrow new Error('Root node of aurum application must be a single dom node');\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static isAttached(dom: HTMLElement) {\r\n\t\treturn dom[ownerSymbol] !== undefined;\r\n\t}\r\n\r\n\tpublic static detach(domNode: HTMLElement): void {\r\n\t\tif (domNode[ownerSymbol]) {\r\n\t\t\tdomNode[ownerSymbol].node.remove();\r\n\t\t\tdomNode[ownerSymbol].handleDetach();\r\n\t\t\tdomNode[ownerSymbol] = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static factory(\r\n\t\tnode: string | Constructor<AurumElement> | ((...args: any[]) => AurumElement),\r\n\t\targs: MapLike<any>,\r\n\t\t...innerNodes: AurumElementModel[]\r\n\t): AurumElementModel {\r\n\t\tif (typeof node === 'string') {\r\n\t\t\tconst type = node;\r\n\t\t\tnode = nodeMap[node];\r\n\t\t\tif (node === undefined) {\r\n\t\t\t\tthrow new Error(`Node ${type} does not exist or is not supported`);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (Object.getPrototypeOf(node as Constructor<AurumElement>) === AurumElement) {\r\n\t\t\treturn {\r\n\t\t\t\t[aurumElementModelIdentitiy]: true,\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tconstructor: (args, innerNodes) => new node(args, innerNodes),\r\n\t\t\t\tprops: args,\r\n\t\t\t\tinnerNodes: innerNodes\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn {\r\n\t\t\t\t[aurumElementModelIdentitiy]: true,\r\n\t\t\t\t//@ts-ignore\r\n\t\t\t\tconstructor: node,\r\n\t\t\t\tprops: args,\r\n\t\t\t\tinnerNodes: innerNodes\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n}\r\n"]}