{"version":3,"file":"aurum.js","sourceRoot":"","sources":["../../src/utilities/aurum.ts"],"names":[],"mappings":"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","sourcesContent":["import { AurumElement, AurumElementModel, buildRenderableFromModel, aurumElementModelIdentitiy } from '../nodes/special/aurum_element';\nimport { ownerSymbol } from './owner_symbol';\nimport { Constructor, MapLike } from './common';\nimport { Div } from '../nodes/div';\nimport { Button } from '../nodes/button';\nimport { Input } from '../nodes/input';\nimport { Li } from '../nodes/li';\nimport { Span } from '../nodes/span';\nimport { Style } from '../nodes/style';\nimport { Audio } from '../nodes/audio';\nimport { Ul } from '../nodes/ul';\nimport { P } from '../nodes/p';\nimport { Img } from '../nodes/img';\nimport { Link } from '../nodes/link';\nimport { Canvas } from '../nodes/canvas';\nimport { A } from '../nodes/a';\nimport { Article } from '../nodes/article';\nimport { Br } from '../nodes/br';\nimport { Form } from '../nodes/form';\nimport { Label } from '../nodes/label';\nimport { Ol } from '../nodes/ol';\nimport { Pre } from '../nodes/pre';\nimport { Progress } from '../nodes/progress';\nimport { Table } from '../nodes/table';\nimport { Td } from '../nodes/td';\nimport { Tr } from '../nodes/tr';\nimport { Th } from '../nodes/th';\nimport { TextArea } from '../nodes/textarea';\nimport { H1 } from '../nodes/h1';\nimport { H2 } from '../nodes/h2';\nimport { H3 } from '../nodes/h3';\nimport { H4 } from '../nodes/h4';\nimport { H5 } from '../nodes/h5';\nimport { H6 } from '../nodes/h6';\nimport { Header } from '../nodes/header';\nimport { Footer } from '../nodes/footer';\nimport { Nav } from '../nodes/nav';\nimport { B } from '../nodes/b';\nimport { I } from '../nodes/i';\nimport { Script } from '../nodes/script';\nimport { Abbr } from '../nodes/abbr';\nimport { Area } from '../nodes/area';\nimport { Aside } from '../nodes/aside';\nimport { Em } from '../nodes/em';\nimport { Heading } from '../nodes/heading';\nimport { IFrame } from '../nodes/iframe';\nimport { NoScript } from '../nodes/noscript';\nimport { Q } from '../nodes/q';\nimport { Select } from '../nodes/select';\nimport { Source } from '../nodes/source';\nimport { Title } from '../nodes/title';\nimport { Video } from '../nodes/video';\nimport { Tbody } from '../nodes/tbody';\nimport { Tfoot } from '../nodes/tfoot';\nimport { Thead } from '../nodes/thead';\nimport { Summary } from '../nodes/summary';\nimport { Details } from '../nodes/details';\nimport { Sub } from '../nodes/sub';\nimport { Sup } from '../nodes/sup';\nimport { Svg } from '../nodes/svg';\nimport { Data } from '../nodes/data';\nimport { Time } from '../nodes/time';\nimport { Option } from '../nodes/option';\nimport { Template } from '../nodes/template';\n\nconst nodeMap = {\n\tbutton: Button,\n\tdiv: Div,\n\tinput: Input,\n\tli: Li,\n\tspan: Span,\n\tstyle: Style,\n\tul: Ul,\n\tp: P,\n\timg: Img,\n\tlink: Link,\n\tcanvas: Canvas,\n\ta: A,\n\tarticle: Article,\n\tbr: Br,\n\tform: Form,\n\tlabel: Label,\n\tol: Ol,\n\tpre: Pre,\n\tprogress: Progress,\n\ttable: Table,\n\ttd: Td,\n\ttr: Tr,\n\tth: Th,\n\ttextarea: TextArea,\n\th1: H1,\n\th2: H2,\n\th3: H3,\n\th4: H4,\n\th5: H5,\n\th6: H6,\n\theader: Header,\n\tfooter: Footer,\n\tnav: Nav,\n\tb: B,\n\ti: I,\n\tscript: Script,\n\tabbr: Abbr,\n\tarea: Area,\n\taside: Aside,\n\taudio: Audio,\n\tem: Em,\n\theading: Heading,\n\tiframe: IFrame,\n\tnoscript: NoScript,\n\toption: Option,\n\tq: Q,\n\tselect: Select,\n\tsource: Source,\n\ttitle: Title,\n\tvideo: Video,\n\ttbody: Tbody,\n\ttfoot: Tfoot,\n\tthead: Thead,\n\tsummary: Summary,\n\tdetails: Details,\n\tsub: Sub,\n\tsup: Sup,\n\tsvg: Svg,\n\tdata: Data,\n\ttime: Time,\n\ttemplate: Template\n};\n\nexport class Aurum {\n\tpublic static attach(aurumElementModel: AurumElementModel, dom: HTMLElement) {\n\t\tconst aurumElement = buildRenderableFromModel(aurumElementModel);\n\t\tif (dom[ownerSymbol]) {\n\t\t\tthrow new Error('This node is already managed by aurum and cannot be used');\n\t\t}\n\n\t\tif (aurumElement instanceof AurumElement) {\n\t\t\tdom.appendChild(aurumElement.node);\n\t\t\taurumElement['handleAttach'](aurumElement);\n\t\t\tdom[ownerSymbol] = aurumElement;\n\t\t} else {\n\t\t\tthrow new Error('Root node of aurum application must be a single dom node');\n\t\t}\n\t}\n\n\tpublic static isAttached(dom: HTMLElement) {\n\t\treturn dom[ownerSymbol] !== undefined;\n\t}\n\n\tpublic static detach(domNode: HTMLElement): void {\n\t\tif (domNode[ownerSymbol]) {\n\t\t\tdomNode[ownerSymbol].node.remove();\n\t\t\tdomNode[ownerSymbol].handleDetach();\n\t\t\tdomNode[ownerSymbol] = undefined;\n\t\t}\n\t}\n\n\tpublic static factory(\n\t\tnode: string | Constructor<AurumElement> | ((...args: any[]) => AurumElement),\n\t\targs: MapLike<any>,\n\t\t...innerNodes: AurumElementModel[]\n\t): AurumElementModel {\n\t\tif (typeof node === 'string') {\n\t\t\tconst type = node;\n\t\t\tnode = nodeMap[node];\n\t\t\tif (node === undefined) {\n\t\t\t\tthrow new Error(`Node ${type} does not exist or is not supported`);\n\t\t\t}\n\t\t}\n\n\t\tif (Object.getPrototypeOf(node as Constructor<AurumElement>) === AurumElement) {\n\t\t\treturn {\n\t\t\t\t[aurumElementModelIdentitiy]: true,\n\t\t\t\t//@ts-ignore\n\t\t\t\tconstructor: (args, innerNodes) => new node(args, innerNodes),\n\t\t\t\tprops: args,\n\t\t\t\tinnerNodes: innerNodes\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\t[aurumElementModelIdentitiy]: true,\n\t\t\t\t//@ts-ignore\n\t\t\t\tconstructor: node,\n\t\t\t\tprops: args,\n\t\t\t\tinnerNodes: innerNodes\n\t\t\t};\n\t\t}\n\t}\n}\n"]}