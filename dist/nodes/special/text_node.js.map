{"version":3,"file":"text_node.js","sourceRoot":"","sources":["../../../src/nodes/special/text_node.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAqB,MAAM,kBAAkB,CAAC;AAEnE,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAC3D,OAAO,EAAE,UAAU,EAAE,MAAM,0BAA0B,CAAC;AAQtD,MAAM,OAAO,QAAS,SAAQ,YAAY;IACzC,YAAY,KAAoB;QAC/B,KAAK,CAAC,KAAK,EAAE,UAAU,CAAC,CAAC;QACzB,IAAI,KAAK,CAAC,IAAI,YAAY,UAAU,EAAE;YACrC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,iBAAiB,CAAC,CAAC;SAC9E;IACF,CAAC;IAES,MAAM,CAAC,KAAoB;QACpC,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;QAC3E,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;QACzB,OAAO,IAAI,CAAC;IACb,CAAC;CACD","sourcesContent":["import { AurumElement, AurumElementProps } from '../aurum_element';\nimport { StringSource } from '../../utilities/common';\nimport { ownerSymbol } from '../../utilities/owner_symbol';\nimport { DataSource } from '../../stream/data_source';\n\nexport interface TextNodeProps extends AurumElementProps {\n\tonAttach?: (node: TextNode) => void;\n\tonDettach?: (node: TextNode) => void;\n\ttext?: StringSource;\n}\n\nexport class TextNode extends AurumElement {\n\tconstructor(props: TextNodeProps) {\n\t\tsuper(props, 'textNode');\n\t\tif (props.text instanceof DataSource) {\n\t\t\tprops.text.listen((v) => (this.node.textContent = v), this.cancellationToken);\n\t\t}\n\t}\n\n\tprotected create(props: TextNodeProps): HTMLElement | Text {\n\t\tconst node = document.createTextNode(this.resolveStringSource(props.text));\n\t\tnode[ownerSymbol] = this;\n\t\treturn node;\n\t}\n}\n"]}