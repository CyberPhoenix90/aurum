{"version":3,"file":"aurum_text.js","sourceRoot":"","sources":["../../../src/nodes/special/aurum_text.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,0BAA0B,CAAC;AACtD,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAG3D;;GAEG;AACH,MAAM,OAAO,gBAAgB;IAG5B,YAAY,IAAmB;QAC9B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAE9B,IAAI,IAAI,YAAY,UAAU,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE;gBACjB,IAAI,IAAI,CAAC,IAAI,EAAE;oBACd,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;iBAC1B;YACF,CAAC,CAAC,CAAC;SACH;IACF,CAAC;IAES,mBAAmB,CAAC,MAAoB;QACjD,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;YAC/B,OAAO,MAAM,CAAC;SACd;aAAM;YACN,OAAO,MAAM,CAAC,KAAK,CAAC;SACpB;IACF,CAAC;IAES,MAAM,CAAC,IAAmB;QACnC,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;QACzB,OAAO,IAAI,CAAC;IACb,CAAC;IAEM,MAAM;QACZ,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACrB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5D;IACF,CAAC;IAEM,SAAS;QACf,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;IAClC,CAAC;CACD","sourcesContent":["import { DataSource } from '../../stream/data_source';\r\nimport { ownerSymbol } from '../../utilities/owner_symbol';\r\nimport { StringSource } from '../../utilities/common';\r\n\r\n/**\r\n * @internal\r\n */\r\nexport class AurumTextElement {\r\n\tpublic node: Text;\r\n\r\n\tconstructor(text?: StringSource) {\r\n\t\tthis.node = this.create(text);\r\n\r\n\t\tif (text instanceof DataSource) {\r\n\t\t\ttext.listen((v) => {\r\n\t\t\t\tif (this.node) {\r\n\t\t\t\t\tthis.node.textContent = v;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tprotected resolveStringSource(source: StringSource): string {\r\n\t\tif (typeof source === 'string') {\r\n\t\t\treturn source;\r\n\t\t} else {\r\n\t\t\treturn source.value;\r\n\t\t}\r\n\t}\r\n\r\n\tprotected create(text?: StringSource): Text {\r\n\t\tconst node = document.createTextNode(this.resolveStringSource(text));\r\n\t\tnode[ownerSymbol] = this;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tpublic remove(): void {\r\n\t\tif (this.hasParent()) {\r\n\t\t\tthis.node.parentElement[ownerSymbol].removeChild(this.node);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic hasParent(): boolean {\r\n\t\treturn !!this.node.parentElement;\r\n\t}\r\n}\r\n"]}