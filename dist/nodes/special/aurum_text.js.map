{"version":3,"file":"aurum_text.js","sourceRoot":"","sources":["../../../src/nodes/special/aurum_text.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,MAAM,0BAA0B,CAAC;AAEtD,OAAO,EAAE,WAAW,EAAE,MAAM,8BAA8B,CAAC;AAK3D,MAAM,OAAO,gBAAgB;IAG5B,YAAY,IAAmB;QAC9B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAE9B,IAAI,IAAI,YAAY,UAAU,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE;gBACjB,IAAI,IAAI,CAAC,IAAI,EAAE;oBACd,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;iBAC1B;YACF,CAAC,CAAC,CAAC;SACH;IACF,CAAC;IAES,mBAAmB,CAAC,MAAoB;QACjD,IAAI,OAAO,MAAM,KAAK,QAAQ,EAAE;YAC/B,OAAO,MAAM,CAAC;SACd;aAAM;YACN,OAAO,MAAM,CAAC,KAAK,CAAC;SACpB;IACF,CAAC;IAES,MAAM,CAAC,IAAmB;QACnC,MAAM,IAAI,GAAG,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,CAAC;QACrE,IAAI,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC;QACzB,OAAO,IAAI,CAAC;IACb,CAAC;IAEM,MAAM;QACZ,IAAI,IAAI,CAAC,SAAS,EAAE,EAAE;YACrB,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC5D;IACF,CAAC;IAEM,SAAS;QACf,OAAO,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;IAClC,CAAC;CACD","sourcesContent":["import { DataSource } from '../../stream/data_source';\nimport { StringSource } from '../../utilities/common';\nimport { ownerSymbol } from '../../utilities/owner_symbol';\n\n/**\n * @internal\n */\nexport class AurumTextElement {\n\tpublic node: Text;\n\n\tconstructor(text?: StringSource) {\n\t\tthis.node = this.create(text);\n\n\t\tif (text instanceof DataSource) {\n\t\t\ttext.listen((v) => {\n\t\t\t\tif (this.node) {\n\t\t\t\t\tthis.node.textContent = v;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\tprotected resolveStringSource(source: StringSource): string {\n\t\tif (typeof source === 'string') {\n\t\t\treturn source;\n\t\t} else {\n\t\t\treturn source.value;\n\t\t}\n\t}\n\n\tprotected create(text?: StringSource): Text {\n\t\tconst node = document.createTextNode(this.resolveStringSource(text));\n\t\tnode[ownerSymbol] = this;\n\t\treturn node;\n\t}\n\n\tpublic remove(): void {\n\t\tif (this.hasParent()) {\n\t\t\tthis.node.parentElement[ownerSymbol].removeChild(this.node);\n\t\t}\n\t}\n\n\tpublic hasParent(): boolean {\n\t\treturn !!this.node.parentElement;\n\t}\n}\n"]}